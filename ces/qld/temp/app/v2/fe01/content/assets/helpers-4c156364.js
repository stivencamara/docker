import{A as e,x as l,n as u}from"./index-920dbb37.js";import{c as o,r as b,a as f,e as T}from"./index.esm-d0811cb6.js";const h=[{value:e.recordStateType.approval,class:e.badgeType.primary},{value:e.recordStateType.archived,class:e.badgeType.light},{value:e.recordStateType.draft,class:e.badgeType.info},{value:e.recordStateType.obsolete,class:e.badgeType.secondary},{value:e.recordStateType.returned,class:e.badgeType.danger},{value:e.recordStateType.notApplicable,class:e.badgeType.danger},{value:e.recordStateType.published,class:e.badgeType.success},{value:e.recordStateType.submitted,class:e.badgeType.warning}],j={recordStateTypeBadgeOptions:h,contactsFormRules(){return{contactScopeId:{required:this.requiredMessage()},contactTypeId:{required:this.requiredMessage()},contactValue:{required:this.requiredMessage()}}},forEachByName(t){return o.forEach({[t]:{requiredIfFunction:this.requiredIfMessage()}})},forEachField(t,r=null){let a={};r===null&&(r=e.language.pt);for(let c in t)a[t[c]]={requiredIfFunction:this.requiredIfMessage(r)};return o.forEach(a)},requiredMessage(){const t=l();return o.withMessage(t.common.requiredField,b)},requiredMessageWithDependency(t,r=null){const a=l();return o.withMessage(a.common.requiredField,f((c,s)=>r?s[t]!==r:s[t]))},emailMessage(){const t=l();return o.withMessage(t.common.emailField,T)},requiredIfMessage(t){const r=l();return o.withMessage(r.common.requiredField,f((a,c)=>this.checkIfIsRequired(a,c,t)))},checkIfIsRequired(t,r,a){return r.language===a},getFieldByLangAndName(t,r,a){let c=t.texts.filter(s=>s.language===r);return c.length?c[0][a]:null},setFieldByLangAndName(t,r,a,c){t.texts.forEach(s=>{s.language===r&&(s[a]=c)})},getLabel(t,r){const a=t.find(c=>c.value===r);return a?a.label:null},calculatePercentage(t,r,a){let c=0;for(let i in r)c=d(c,r[i]);const s=Math.round(c*100/r.length);a(s);function d(i,y){const n=p(t,y);return n==null?i:n?i+1:i}function p(i,y){const n=y.split(".");let g=null;return n.length===1?i[n[0]]:n.length===2?i[n[0]][n[1]]:n.length===3?(n[0]==="texts"&&u.sortArrayOffline("language desc",i.texts),i[n[0]][n[1]][n[2]]):g}},getAddressRules(){return{address:{zipCode:{required:this.requiredMessage()},islandId:{required:this.requiredMessage()},countyId:{required:this.requiredMessage()},parishId:{required:this.requiredMessage()},locality:{required:this.requiredMessage()},address:{required:this.requiredMessage()}}}},getMessage(t,r,a){const s=`${this.getObject(a)}Success`;switch(r){case e.recordStateType.archived:return t.backoffice.tasks.archived[s];case e.recordStateType.submitted:return t.backoffice.tasks.submitted[s];case e.recordStateType.draft:return t.backoffice.tasks.draft[s];case e.recordStateType.approval:return t.backoffice.tasks.approval[s];case e.recordStateType.published:return t.backoffice.tasks.published[s];case e.recordStateType.returned:return t.backoffice.tasks.returned[s];case e.recordStateType.obsolete:return t.backoffice.tasks.obsolete[s];default:return null}},getObject(t){switch(t){case e.objectType.organization:return u.getPropertyNameByValue(e.objectType,e.objectType.organization);case e.objectType.pointOfCare:return u.getPropertyNameByValue(e.objectType,e.objectType.pointOfCare);case e.objectType.service:return u.getPropertyNameByValue(e.objectType,e.objectType.service);case e.objectType.document:return u.getPropertyNameByValue(e.objectType,e.objectType.document);default:return null}},getObjecTypeId(t){const r=["organizationId","serviceId","pointOfCareId","locationId","documentId"];for(const c in r){let s=a(r[c]);if(s!==e.objectType.notApplicable)return s}return e.objectType.notApplicable;function a(c){const d=Object.keys(t).find(p=>p===c);if(d)switch(d){case"organizationId":return e.objectType.organization;case"serviceId":return e.objectType.service;case"pointOfCareId":return e.objectType.pointOfCare;case"locationId":return e.objectType.location;case"documentId":return e.objectType.document}return e.objectType.notApplicable}}};export{j as b};
