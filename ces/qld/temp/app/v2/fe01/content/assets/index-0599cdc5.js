import{_ as W}from"./delete-confirm-c7c4e24d.js";import{m as $,x as q,r as d,A as c,y as k,n as v,o as x,a as o,b as J,c as Q,w as i,d as l,f as e,T as X,H as Y,i as _,s as L}from"./index-920dbb37.js";import{b as T}from"./business-event-05a0ae81.js";import"./helpers-4c156364.js";import"./index.esm-d0811cb6.js";const ae={__name:"index",setup(Z){const g=$();q();let u=d(!1),b=d([]),m=d([]),p=d(c.tableSelectedState.none),s=k(C()),I=d(v.createEmptyDataSource());k({});let y=d(0);function C(){return{pageNumber:1,sortBy:"businessEventId",businessEventId:null,businessEventIds:null,businessEventLevel1:null,businessEventLevel2:null}}x(async()=>{await r()});function w(t){g.push({name:L.router.BACKOFFICE_SETTINGS_EDIT_BUSINESSEVENT_PAGE.name,params:{businessEventId:v.encodeId(t.businessEventId)}})}async function V(){Object.assign(s,C()),await S()}async function S(){s.pageNumber=1,await r()}function N(){g.push({name:L.router.BACKOFFICE_SETTINGS_CREATE_BUSINESSEVENT_PAGE.name})}async function B(t){s.sortBy=t,await r()}async function U(t){s.pageNumber=t,await r()}async function r(){u.value=!0,s.businessEventId?s.businessEventIds=[s.businessEventId]:s.businessEventIds=[];let t=await T.search(s);v.validateResponse(t,null,()=>{I.value=t.data}),u.value=!1}async function A(t){y.value=t.businessEventId}async function F(){v.closeModalById("confirm-delete"),await r()}return(t,a)=>{const G=o("breadcrumb-item"),M=o("breadcrumb"),P=o("cbutton"),f=o("form-field"),R=o("row"),h=o("cfilter"),E=o("ccolumn"),z=o("table-action-edit"),D=o("table-action-delete"),O=o("ctable"),K=o("card"),j=o("page");return J(),Q(j,{title:t._lang.backoffice.settings.businessEvent.pageTitle},{breadcrumb:i(()=>[l(M,{"has-home":!0},{default:i(()=>[l(G,{label:t._lang.backoffice.settings.businessEvent.breadcrumbTitle},null,8,["label"])]),_:1})]),actions:i(()=>[l(P,{class:"col-12 col-sm-auto",type:e(c).buttonType.secondary,size:e(c).buttonSize.medium,title:t._lang.common.toAdd,icon:X,onClick:N},null,8,["type","size","title"])]),default:i(()=>[l(K,{shadow:!0},{body:i(()=>[l(h,{title:t._lang.common.filter,disabled:e(u),"clear-click":V,"apply-click":S,loading:e(u),collapsed:!0},{default:i(()=>[l(R,null,{default:i(()=>[l(f,{id:"businessEventId",modelValue:e(s).businessEventId,"onUpdate:modelValue":a[0]||(a[0]=n=>e(s).businessEventId=n),class:"mb-3 col-12",label:t._lang.label.id,type:e(c).inputs.number,maxlength:45,disabled:e(u)},null,8,["modelValue","label","type","disabled"]),l(f,{id:"businessEventLevel1",modelValue:e(s).businessEventLevel1,"onUpdate:modelValue":a[1]||(a[1]=n=>e(s).businessEventLevel1=n),class:"mb-3 col-12 col-md-6",label:t._lang.label.businessEventLevel1,type:e(c).inputs.text,maxlength:45,disabled:e(u)},null,8,["modelValue","label","type","disabled"]),l(f,{id:"businessEventLevel2",modelValue:e(s).businessEventLevel2,"onUpdate:modelValue":a[2]||(a[2]=n=>e(s).businessEventLevel2=n),class:"mb-3 col-12 col-md-6",label:t._lang.label.businessEventLevel2,type:e(c).inputs.text,maxlength:45,disabled:e(u)},null,8,["modelValue","label","type","disabled"])]),_:1})]),_:1},8,["title","disabled","loading"]),l(Y,null,{default:i(()=>[l(O,{onSort:B,onChangePage:U,selectedItems:e(b),"onUpdate:selectedItems":a[3]||(a[3]=n=>_(b)?b.value=n:b=n),unselectedItems:e(m),"onUpdate:unselectedItems":a[4]||(a[4]=n=>_(m)?m.value=n:m=n),selectedState:e(p),"onUpdate:selectedState":a[5]||(a[5]=n=>_(p)?p.value=n:p=n),data:e(I),checkbox:!1,loading:e(u),defaultSort:"businessEventId"},{columns:i(()=>[l(E,{name:t._lang.label.id,field:"businessEventId",sortable:!0},null,8,["name"]),l(E,{name:t._lang.label.businessEventLevel1,field:"businessEventLevel1",sortable:!0},null,8,["name"]),l(E,{name:t._lang.label.businessEventLevel2,field:"businessEventLevel2",sortable:!0},null,8,["name"])]),actions:i(n=>[l(z,{onClick:H=>w(n.item)},null,8,["onClick"]),l(D,{onClick:H=>A(n.item)},null,8,["onClick"])]),_:1},8,["selectedItems","unselectedItems","selectedState","data","loading"])]),_:1})]),_:1}),l(W,{"item-id":e(y),resource:t._lang.backoffice.settings.businessEvent,action:F,service:e(T)},null,8,["item-id","resource","service"])]),_:1},8,["title"])}}};export{ae as default};
