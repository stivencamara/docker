import{h as v,_ as V}from"./form-d5bdcc34.js";import{_ as w}from"./edit-actions-48107c1a.js";import{m as A,N as B,x as h,r as m,y as I,A as G,L as y,n as c,s as f,a as d,b as O,c as P,w as i,d as r,f as e,i as p}from"./index-920dbb37.js";import{u as R}from"./index.esm-d064d6e3.js";import{l as T}from"./life-event-017db2a7.js";import{u as M}from"./life-event-844af894.js";import"./helpers-4c156364.js";import"./index.esm-d0811cb6.js";import"./cancel-confirm-33e0b7cc.js";import"./settings-bb7269a2.js";const X={__name:"edit",setup(K){const L=A(),F=B();h();const g=M();let t=m(!0),l=I(v.newForm()),n=m(G.language.pt),u=m(0),_=I(v.formRules());const b=R(_,l);async function C(){t.value=!0;const a=await T.getById(u.value);c.validateResponse(a,null,()=>{Object.assign(l,a.data),g.setFormToCompare(c.cloneObject(a.data))}),t.value=!1}return y(async()=>{u.value=c.decodeId(F.params.lifeEventId),u.value?await C():L.push({name:f.router.BACKOFFICE_SETTINGS_LIFEEVENT_PAGE.name})}),(a,s)=>{const E=d("breadcrumb-item"),S=d("breadcrumb"),k=d("card"),N=d("page");return O(),P(N,{title:a._lang.backoffice.settings.lifeEvent.editPageTitle},{breadcrumb:i(()=>[r(S,{"has-home":!0},{default:i(()=>[r(E,{label:a._lang.backoffice.settings.lifeEvent.breadcrumbTitle,"router-path":e(f).router.BACKOFFICE_SETTINGS_LIFEEVENT_PAGE.path},null,8,["label","router-path"]),r(E,{label:a._lang.backoffice.settings.lifeEvent.editPageTitle},null,8,["label"])]),_:1})]),actions:i(()=>[r(w,{loading:e(t),"onUpdate:loading":s[0]||(s[0]=o=>p(t)?t.value=o:t=o),selectedLang:e(n),"onUpdate:selectedLang":s[1]||(s[1]=o=>p(n)?n.value=o:n=o),service:e(T),itemId:e(u),formModel:e(l),vuelidate:e(b),store:e(g),resource:a._lang.backoffice.settings.lifeEvent,"back-route":e(f).router.BACKOFFICE_SETTINGS_LIFEEVENT_PAGE.name,"show-lang-selector":!0,"can-delete":!0,"can-edit":!0},null,8,["loading","selectedLang","service","itemId","formModel","vuelidate","store","resource","back-route"])]),default:i(()=>[r(k,{shadow:!0},{body:i(()=>[r(V,{modelValue:e(l),"onUpdate:modelValue":s[2]||(s[2]=o=>p(l)?l.value=o:l=o),selectedLang:e(n),loading:e(t),disabled:e(t),vuelidate:e(b),rules:e(_)},null,8,["modelValue","selectedLang","loading","disabled","vuelidate","rules"])]),_:1})]),_:1},8,["title"])}}};export{X as default};
