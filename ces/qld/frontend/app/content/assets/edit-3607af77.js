import{u as R,h as v,_ as k}from"./refusal-types-66e2f3a1.js";import{_ as P}from"./edit-actions-e3b815e6.js";import{h,C as B,q as G,i as c,s as E,v as U,K as O,j as m,l as p,r as i,o as V,c as K,w as n,a as r,m as e,z as f}from"./index-a3ba1ed7.js";import{r as S}from"./refusal-types-cb77884c.js";import{u as M}from"./index.esm-9dd2f6da.js";import"./helpers-4d6c1969.js";import"./index.esm-d7202dd3.js";import"./cancel-confirm-f95c31ca.js";import"./settings-4e9392c0.js";const X={__name:"edit",setup(N){const y=h(),I=B();G();const _=R();let a=c(!0),s=E(v.newForm()),u=c(U.language.pt),d=c(0),g=E(v.formRules());const b=M(g,s);async function F(){a.value=!0;const t=await S.getById(d.value);m.validateResponse(t,null,()=>{Object.assign(s,t.data),_.setFormToCompare(m.cloneObject(t.data))}),a.value=!1}return O(async()=>{d.value=m.decodeId(I.params.refusalTypeId),d.value?await F():y.push({name:p.router.BACKOFFICE_SETTINGS_REFUSAL_TYPES_PAGE.name})}),(t,l)=>{const T=i("breadcrumb-item"),C=i("breadcrumb"),L=i("container-wrapper"),w=i("card"),A=i("page");return V(),K(A,{title:t._lang.backoffice.settings.refusalType.editPageTitle},{breadcrumb:n(()=>[r(C,{"has-home":!0},{default:n(()=>[r(T,{label:t._lang.backoffice.settings.refusalType.breadcrumbTitle,"router-path":e(p).router.BACKOFFICE_SETTINGS_REFUSAL_TYPES_PAGE.path},null,8,["label","router-path"]),r(T,{label:t._lang.backoffice.settings.refusalType.editPageTitle},null,8,["label"])]),_:1})]),actions:n(()=>[r(P,{loading:e(a),"onUpdate:loading":l[0]||(l[0]=o=>f(a)?a.value=o:a=o),selectedLang:e(u),"onUpdate:selectedLang":l[1]||(l[1]=o=>f(u)?u.value=o:u=o),service:e(S),itemId:e(d),formModel:e(s),vuelidate:e(b),store:e(_),resource:t._lang.backoffice.settings.refusalType,"back-route":e(p).router.BACKOFFICE_SETTINGS_REFUSAL_TYPES_PAGE.name,"show-lang-selector":!0,"can-delete":!0,"can-edit":!0},null,8,["loading","selectedLang","service","itemId","formModel","vuelidate","store","resource","back-route"])]),default:n(()=>[r(w,{shadow:!0},{body:n(()=>[r(L,null,{default:n(()=>[r(k,{modelValue:e(s),"onUpdate:modelValue":l[2]||(l[2]=o=>f(s)?s.value=o:s=o),selectedLang:e(u),loading:e(a),disabled:e(a),vuelidate:e(b),rules:e(g)},null,8,["modelValue","selectedLang","loading","disabled","vuelidate","rules"])]),_:1})]),_:1})]),_:1},8,["title"])}}};export{X as default};
