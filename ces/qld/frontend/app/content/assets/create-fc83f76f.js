import{m as F,x as I,y as m,r as A,a as s,b as R,c as G,w as n,d as t,f as e,s as r,A as i,i as B,n as d,R as z}from"./index-920dbb37.js";import{h as N,_ as P}from"./form-31deabe6.js";import{_ as O}from"./cancel-confirm-33e0b7cc.js";import{a as U}from"./users-c4c4ce38.js";import{u as V}from"./index.esm-d064d6e3.js";import"./helpers-4c156364.js";import"./index.esm-d0811cb6.js";const J={__name:"create",setup(K){const c=F(),p=I(),_="confirm-cancel",C=m(N.formRules());let o=A(!1),l=m({name:null,email:null,profiles:[],active:!0,Password:"P@ssw0rd"}),E=m({name:null,email:null,profiles:[],active:!0});const u=V(C,l);function v(){d.compareObjectIsDirty(l,E)?d.showModalById(_):c.push({name:r.router.BACKOFFICE_SETTINGS_USERS_PAGE.name})}async function y(){if(o.value=!0,await u.value.$validate(),u.value.$error)z.warning(p.common.requiredFields);else{let a=await U.create(l);d.validateResponse(a,p.backoffice.settings.users.create.created,()=>{c.push({name:r.router.BACKOFFICE_SETTINGS_USERS_PAGE.name})})}o.value=!1}function T(){c.push({name:r.router.BACKOFFICE_SETTINGS_USERS_PAGE.name})}return(a,f)=>{const b=s("breadcrumb-item"),h=s("breadcrumb"),g=s("cbutton"),k=s("card"),w=s("page");return R(),G(w,{title:a._lang.backoffice.settings.users.create.pageTitle},{breadcrumb:n(()=>[t(h,{"has-home":!0},{default:n(()=>[t(b,{label:a._lang.backoffice.settings.users.pageTitle,"router-path":e(r).router.BACKOFFICE_SETTINGS_USERS_PAGE.path},null,8,["label","router-path"]),t(b,{label:a._lang.backoffice.settings.users.create.pageTitle},null,8,["label"])]),_:1})]),actions:n(()=>[t(g,{class:"col-12 col-sm-auto",type:e(i).buttonType.secondary,size:e(i).buttonSize.large,title:a._lang.common.cancel,onClick:v,disabled:e(o)},null,8,["type","size","title","disabled"]),t(g,{class:"col-12 col-sm-auto",title:a._lang.common.create,type:e(i).buttonType.primary,size:e(i).buttonSize.large,onClick:y,disabled:e(o)},null,8,["title","type","size","disabled"])]),default:n(()=>[t(k,{shadow:!0},{body:n(()=>[t(P,{modelValue:e(l),"onUpdate:modelValue":f[0]||(f[0]=S=>B(l)?l.value=S:l=S),required:!0,vuelidator:e(u),loading:e(o)},null,8,["modelValue","vuelidator","loading"])]),_:1}),t(O,{id:_,title:a._lang.common.cancel,action:T},null,8,["title"])]),_:1},8,["title"])}}};export{J as default};
