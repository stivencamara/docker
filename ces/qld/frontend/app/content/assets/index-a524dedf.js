import{n as C,D as O,i as T,K as $,b as oe,l as P,j as m,E as D,r as l,o as V,c as ie,w as p,a as t,I as pe,x as be,m as n,v,f as ae,z as K,s as L,e as q,F as ce,q as x,S as G,aa as ye}from"./index-d8a56bcc.js";import{b as Q}from"./helpers-d89764d1.js";import{s as se}from"./settings-55cfd82c.js";import{_ as fe}from"./custom-label-ac933cb3.js";import"./index.esm-d77c3574.js";const W={search:a=>C.post("/settings/businessevent/search",a),create:a=>C.post("/settings/businessevent",a),update:a=>C.put("/settings/businessevent",a),delete:a=>C.delete(`/settings/businessevent/${a}`),getById:a=>C.get(`/settings/businessevent/${a}`)},X={search:a=>C.post("/organizations/organizationrelatedtype/search",a),getById:a=>C.get(`/organizations/organizationrelatedtype/${a}`),delete:a=>C.delete(`/organizations/organizationrelatedtype/${a}`),create:a=>C.post("/organizations/organizationrelatedtype",a),update:a=>C.put("/organizations/organizationrelatedtype",a)},Y={search:a=>C.post("/service/servicetype/search",a),getById:a=>C.get(`/service/servicetype/${a}`),delete:a=>C.delete(`/service/servicetype/${a}`),create:a=>C.post("/service/servicetype",a),update:a=>C.put("/service/servicetype",a)},Z={search:a=>C.post("/poc/channeltype/search",a),getById:a=>C.get(`/poc/channeltype/${a}`),delete:a=>C.delete(`/poc/channeltype/${a}`),create:a=>C.post("/poc/channeltype",a),update:a=>C.put("/poc/channeltype",a)},ee={search:a=>C.post("/service/servicecategory/search",a),getById:a=>C.get(`/service/servicecategory/${a}`),delete:a=>C.delete(`/service/servicecategory/${a}`),create:a=>C.post("/service/servicecategory",a),update:a=>C.put("/service/servicecategory",a)},te={search:a=>C.post("/service/recipienttype/search",a),getById:a=>C.get(`/service/recipienttype/${a}`),delete:a=>C.delete(`/service/recipienttype/${a}`),create:a=>C.post("/service/recipienttype",a),update:a=>C.put("/service/recipienttype",a)},ne={search:a=>C.post("/service/resulttype/search",a),getById:a=>C.get(`/service/resulttype/${a}`),delete:a=>C.delete(`/service/resulttype/${a}`),create:a=>C.post("/service/resulttype",a),update:a=>C.put("/service/resulttype",a)},le={search:a=>C.post("/settings/checklist/search",a),getById:a=>C.get(`/settings/checklist/${a}`),delete:a=>C.delete(`/settings/checklist/${a}`),create:a=>C.post("/settings/checklist",a),update:a=>C.put("/settings/checklist",a)},_e={__name:"delete-modal",props:{modelValue:{type:[Number,String,Boolean,Object]},itsNew:{type:Boolean,default:!0}},emits:["update:modelValue","updated"],setup(a,{emit:_}){const u=a,g="confirm-delete",I=O();T([]),T("pt");let s=T("Eliminar"),i=T("Eliminar?"),r,b,w;$(async()=>{}),oe(()=>{I.on(P.emitter.PARAMS_CONFIRM_DELETE,h=>{s.value=h.modalTitle,r=h.service,b=h.itemId,w=h.search,m.showModalById(g)})}),D({get(){return u.modelValue},set(h){_("update:modelValue",h)}});function c(){m.closeModalById(g)}async function E(){console.log(r);let h=await r.delete(b);m.validateResponse(h,"Eliminado com sucesso",()=>{w(),m.closeModalById(g)})}return(h,A)=>{const R=l("row"),y=l("cbutton"),S=l("modal");return V(),ie(S,{id:g,title:n(s),size:n(v).modalSize.medium,"remove-padding":!1},{body:p(()=>[t(R,null,{default:p(()=>[pe(be(n(i)),1)]),_:1})]),footer:p(()=>[t(y,{type:n(v).buttonType.link,class:"ms-auto",title:h._lang.common.cancel,onClick:c,size:n(v).buttonSize.medium,disabled:!1},null,8,["type","title","size"]),t(y,{type:n(v).buttonType.primary,title:h._lang.common.delete,onClick:E,size:n(v).buttonSize.medium,disabled:!1},null,8,["type","title","size"])]),_:1},8,["title","size"])}}},ge={class:"col-12 mb-3"},ve={__name:"edit-modal",props:{modelValue:{type:[Number,String,Boolean,Object]}},emits:["update:modelValue"],setup(a,{emit:_}){const u=a,g="edit",I=O();let s=T([]),i=T("pt"),r=T("Eliminar"),b,w=T(j()),c,E=T(!1),h=T(""),A=T("description");$(async()=>{await R()}),oe(()=>{I.on(P.emitter.PARAMS_EDIT,f=>{h.value=f.value1??"name",A.value=f.value2??"description",r.value=f.modalTitle,b=f.service,w.value=f.form,c=f.search,E.value=f.itsNew,m.showModalById(g)})}),D({get(){return u.modelValue},set(f){_("update:modelValue",f)}});async function R(){let f=await se.getLanguages();m.validateResponse(f,null,()=>{s.value=f.data})}function y(){m.closeModalById(g)}async function S(){if(E.value){let f=await b.create(w.value);m.validateResponse(f,"Criado com sucesso",()=>{c(),m.closeModalById(g)})}else{let f=await b.update(w.value);m.validateResponse(f,"Guardado com sucesso",()=>{c(),m.closeModalById(g)})}}const e=D({get(){return Q.getFieldByLangAndName(w.value,i.value,h.value)},set(f){Q.setFieldByLangAndName(w.value,i.value,h.value,f)}}),o=D({get(){return Q.getFieldByLangAndName(w.value,i.value,h.value)},set(f){Q.setFieldByLangAndName(w.value,i.value,h.value,f)}});function j(){return{texts:[{language:"pt",name:null,description:null},{language:"en",name:null,description:null}]}}return(f,d)=>{const k=l("lang-selector"),z=l("row"),F=l("table-actions"),B=l("form-field"),M=l("cbutton"),N=l("modal");return V(),ie(N,{id:g,title:n(r),size:n(v).modalSize.extraLarge,"remove-padding":!1},{body:p(()=>[t(F,null,{default:p(()=>[t(z,null,{default:p(()=>[ae("div",ge,[t(k,{options:n(s),selectedLang:n(i),"onUpdate:selectedLang":d[0]||(d[0]=U=>K(i)?i.value=U:i=U),disabled:!1},null,8,["options","selectedLang"])])]),_:1})]),_:1}),t(z,null,{default:p(()=>[t(B,{id:"value1Computed",class:"mb-3 col-12 col-md-6",modelValue:n(e),"onUpdate:modelValue":d[1]||(d[1]=U=>K(e)?e.value=U:null),label:f._lang.label[n(h)],disabled:!1,type:n(v).inputs.text,language:n(i)},null,8,["modelValue","label","type","language"]),t(B,{id:"value2Computed",class:"mb-3 col-12 col-md-6",modelValue:n(o),"onUpdate:modelValue":d[2]||(d[2]=U=>K(o)?o.value=U:null),label:f._lang.label[n(A)],disabled:!1,type:n(v).inputs.text,language:n(i)},null,8,["modelValue","label","type","language"])]),_:1})]),footer:p(()=>[t(M,{type:n(v).buttonType.link,class:"ms-auto",title:f._lang.common.cancel,onClick:y,size:n(v).buttonSize.medium,disabled:!1},null,8,["type","title","size"]),t(M,{type:n(v).buttonType.primary,title:f._lang.common.save,onClick:S,size:n(v).buttonSize.medium,disabled:!1},null,8,["type","title","size"])]),_:1},8,["title","size"])}}},ke={class:"col-12 hstack gap-2 mt-3"},J={__name:"search",props:{value1:{type:String,default:"name"},value2:{type:String,default:"description"},createFilterModel:{type:Function}},emits:["applyClick","clearClick"],setup(a,{emit:_}){const u=a;var g=L(u.createFilterModel());$(async()=>{}),oe(()=>{});function I(){_("applyClick",g)}function s(){Object.assign(g,u.createFilterModel()),_("clearClick")}return(i,r)=>{const b=l("form-field"),w=l("row"),c=l("cbutton");return V(),q(ce,null,[t(w,null,{default:p(()=>[t(b,{id:"value1",class:"mb-3 col-12 col-md-6",modelValue:n(g)[u.value1],"onUpdate:modelValue":r[0]||(r[0]=E=>n(g)[u.value1]=E),label:i._lang.label[u.value1],disabled:!1,type:n(v).inputs.text},null,8,["modelValue","label","type"]),t(b,{id:"value2",class:"mb-3 col-12 col-md-6",modelValue:n(g)[u.value2],"onUpdate:modelValue":r[1]||(r[1]=E=>n(g)[u.value2]=E),label:i._lang.label[u.value2],disabled:!1,type:n(v).inputs.text},null,8,["modelValue","label","type"])]),_:1}),t(w,null,{default:p(()=>[ae("div",ke,[t(c,{type:n(v).buttonType.link,class:"ms-auto",title:i._lang.common.clear,onClick:s,size:n(v).buttonSize.medium,disabled:u.disabled||u.disabledClearButton},null,8,["type","title","size","disabled"]),t(c,{type:n(v).buttonType.primary,title:i._lang.common.apply,onClick:I,size:n(v).buttonSize.medium,disabled:u.disabled},null,8,["type","title","size","disabled"])])]),_:1})],64)}}},Ce={__name:"index",setup(a){const _=O(),u=x();let g=T(m.uuid()),I=T(m.createEmptyDataSource()),s=L(r());L(y());let i=T(!1);$(async()=>{await c()});function r(){return{pageNumber:1,sortBy:"OrganizationRelatedTypeId",organizationRelatedTypeIds:[],name:null,description:null}}async function b(e){Object.assign(s,e),c()}async function w(){Object.assign(s,r()),c()}async function c(){i.value=!0;let e=await X.search(s);m.validateResponse(e,null,async()=>{I.value=e.data,I.value.items=e.data.items.map(o=>({organizationRelatedTypeId:o.organizationRelatedTypeId,name:o.texts[0].name,description:o.texts[0].description}))}),i.value=!1}async function E(e){s.sortBy=e,await c()}async function h(e){s.pageNumber=e,await c()}async function A(e){i.value=!0;let o=await X.getById(e.organizationRelatedTypeId);m.validateResponse(o,null,async()=>{const j={form:o.data,service:X,modalTitle:u.backoffice.objectParams.organizationRelatedType.title,search:c,itsNew:!1};_.emit(P.emitter.PARAMS_EDIT,j)}),i.value=!1}function R(){const e={form:y(),service:X,modalTitle:u.backoffice.objectParams.organizationRelatedType.title,search:c,itsNew:!0};_.emit(P.emitter.PARAMS_EDIT,e)}function y(){return{texts:[{language:"pt",name:null,description:null},{language:"en",name:null,description:null}]}}function S(e){const o={itemId:e.organizationRelatedTypeId,service:X,modalTitle:u.backoffice.objectParams.organizationRelatedType.title,search:c};_.emit(P.emitter.PARAMS_CONFIRM_DELETE,o)}return(e,o)=>{const j=l("cbutton"),f=l("table-actions"),d=l("ccolumn"),k=l("table-action-edit"),z=l("table-action-delete"),F=l("ctable"),B=l("accordion");return V(),q("div",null,[t(B,{id:n(g),title:e._lang.backoffice.objectParams.organizationRelatedType.title,collapsed:!1,class:"mb-4"},{default:p(()=>[t(f,null,{default:p(()=>[t(j,{target:"create-contact",class:"d-inline",type:n(v).buttonType.secondary,title:e._lang.common.toAdd,disabled:!1,icon:G,onClick:R},null,8,["type","title"])]),_:1}),t(J,{onApplyClick:b,onClearClick:w,createFilterModel:r}),t(F,{onSort:E,onChangePage:h,data:n(I),checkbox:!1,loading:n(i),defaultSort:"OrganizationRelatedTypeId"},{columns:p(()=>[t(d,{name:e._lang.label.name,field:"name",sortable:!0},null,8,["name"]),t(d,{name:e._lang.label.description,field:"description",sortable:!1},null,8,["name"])]),actions:p(M=>[t(k,{onClick:N=>A(M.item)},null,8,["onClick"]),t(z,{onClick:N=>S(M.item)},null,8,["onClick"])]),_:1},8,["data","loading"])]),_:1},8,["id","title"])])}}},Te={__name:"index",setup(a){const _=O(),u=x();let g=T(m.uuid()),I=T(m.createEmptyDataSource()),s=L(r());L(y());let i=T(!1);$(async()=>{await c()});function r(){return{pageNumber:1,sortBy:"channelTypeId",channelTypeIds:[],name:null,description:null}}async function b(e){Object.assign(s,e),c()}async function w(){Object.assign(s,r()),c()}async function c(){i.value=!0;let e=await Z.search(s);m.validateResponse(e,null,async()=>{I.value=e.data,I.value.items=e.data.items.map(o=>({channelTypeId:o.channelTypeId,name:o.texts[0].name,description:o.texts[0].description}))}),i.value=!1}async function E(e){s.sortBy=e,await c()}async function h(e){s.pageNumber=e,await c()}async function A(e){i.value=!0;let o=await Z.getById(e.channelTypeId);m.validateResponse(o,null,async()=>{const j={form:o.data,service:Z,modalTitle:u.backoffice.objectParams.channelType.title,search:c,itsNew:!1};_.emit(P.emitter.PARAMS_EDIT,j)}),i.value=!1}function R(){const e={form:y(),service:Z,modalTitle:u.backoffice.objectParams.channelType.title,search:c,itsNew:!0};_.emit(P.emitter.PARAMS_EDIT,e)}function y(){return{texts:[{language:"pt",name:null,description:null},{language:"en",name:null,description:null}]}}function S(e){const o={itemId:e.channelTypeId,service:Z,modalTitle:u.backoffice.objectParams.channelType.title,search:c};_.emit(P.emitter.PARAMS_CONFIRM_DELETE,o)}return(e,o)=>{const j=l("cbutton"),f=l("table-actions"),d=l("ccolumn"),k=l("table-action-edit"),z=l("table-action-delete"),F=l("ctable"),B=l("accordion");return V(),q("div",null,[t(B,{id:n(g),title:e._lang.backoffice.objectParams.channelType.title,collapsed:!1,class:"mb-4"},{default:p(()=>[t(f,null,{default:p(()=>[t(j,{target:"create-contact",class:"d-inline",type:n(v).buttonType.secondary,title:e._lang.common.toAdd,disabled:!1,icon:G,onClick:R},null,8,["type","title"])]),_:1}),t(J,{onApplyClick:b,onClearClick:w,createFilterModel:r}),t(F,{onSort:E,onChangePage:h,data:n(I),checkbox:!1,loading:n(i),defaultSort:"channelTypeId"},{columns:p(()=>[t(d,{name:e._lang.label.name,field:"name",sortable:!0},null,8,["name"]),t(d,{name:e._lang.label.description,field:"description",sortable:!1},null,8,["name"])]),actions:p(M=>[t(k,{onClick:N=>A(M.item)},null,8,["onClick"]),t(z,{onClick:N=>S(M.item)},null,8,["onClick"])]),_:1},8,["data","loading"])]),_:1},8,["id","title"])])}}},Ie={__name:"index",setup(a){const _=O(),u=x();let g=T(m.uuid()),I=T(m.createEmptyDataSource()),s=L(r());L(y());let i=T(!1);$(async()=>{await c()});function r(){return{pageNumber:1,sortBy:"recipientTypeId",recipientTypeIds:[],name:null,description:null}}async function b(e){Object.assign(s,e),c()}async function w(){Object.assign(s,r()),c()}async function c(){i.value=!0;let e=await te.search(s);m.validateResponse(e,null,async()=>{I.value=e.data,I.value.items=e.data.items.map(o=>({recipientTypeId:o.recipientTypeId,name:o.texts[0].name,description:o.texts[0].description}))}),i.value=!1}async function E(e){s.sortBy=e,await c()}async function h(e){s.pageNumber=e,await c()}async function A(e){i.value=!0;let o=await te.getById(e.recipientTypeId);m.validateResponse(o,null,async()=>{const j={form:o.data,service:te,modalTitle:u.backoffice.objectParams.recipientType.title,search:c,itsNew:!1};_.emit(P.emitter.PARAMS_EDIT,j)}),i.value=!1}function R(){const e={form:y(),service:te,modalTitle:u.backoffice.objectParams.recipientType.title,search:c,itsNew:!0};_.emit(P.emitter.PARAMS_EDIT,e)}function y(){return{texts:[{language:"pt",name:null,description:null},{language:"en",name:null,description:null}]}}function S(e){const o={itemId:e.recipientTypeId,service:te,modalTitle:u.backoffice.objectParams.recipientType.title,search:c};_.emit(P.emitter.PARAMS_CONFIRM_DELETE,o)}return(e,o)=>{const j=l("cbutton"),f=l("table-actions"),d=l("ccolumn"),k=l("table-action-edit"),z=l("table-action-delete"),F=l("ctable"),B=l("accordion");return V(),q("div",null,[t(B,{id:n(g),title:e._lang.backoffice.objectParams.recipientType.title,collapsed:!1,class:"mb-4"},{default:p(()=>[t(f,null,{default:p(()=>[t(j,{target:"create-contact",class:"d-inline",type:n(v).buttonType.secondary,title:e._lang.common.toAdd,disabled:!1,icon:G,onClick:R},null,8,["type","title"])]),_:1}),t(J,{onApplyClick:b,onClearClick:w,createFilterModel:r}),t(F,{onSort:E,onChangePage:h,data:n(I),checkbox:!1,loading:n(i),defaultSort:"recipientTypeId"},{columns:p(()=>[t(d,{name:e._lang.label.name,field:"name",sortable:!0},null,8,["name"]),t(d,{name:e._lang.label.description,field:"description",sortable:!1},null,8,["name"])]),actions:p(M=>[t(k,{onClick:N=>A(M.item)},null,8,["onClick"]),t(z,{onClick:N=>S(M.item)},null,8,["onClick"])]),_:1},8,["data","loading"])]),_:1},8,["id","title"])])}}},he={__name:"index",setup(a){const _=O(),u=x();let g=T(m.uuid()),I=T(m.createEmptyDataSource()),s=L(r());L(y());let i=T(!1);$(async()=>{await c()});function r(){return{pageNumber:1,sortBy:"serviceTypeId",serviceTypeIds:[],name:null,description:null}}async function b(e){Object.assign(s,e),c()}async function w(){Object.assign(s,r()),c()}async function c(){i.value=!0;let e=await Y.search(s);m.validateResponse(e,null,async()=>{I.value=e.data,I.value.items=e.data.items.map(o=>({serviceTypeId:o.serviceTypeId,name:o.texts[0].name,description:o.texts[0].description}))}),i.value=!1}async function E(e){s.sortBy=e,await c()}async function h(e){s.pageNumber=e,await c()}async function A(e){i.value=!0;let o=await Y.getById(e.serviceTypeId);m.validateResponse(o,null,async()=>{const j={form:o.data,service:Y,modalTitle:u.backoffice.objectParams.channelType.title,search:c,itsNew:!1};_.emit(P.emitter.PARAMS_EDIT,j)}),i.value=!1}function R(){const e={form:y(),service:Y,modalTitle:u.backoffice.objectParams.channelType.title,search:c,itsNew:!0};_.emit(P.emitter.PARAMS_EDIT,e)}function y(){return{texts:[{language:"pt",name:null,description:null},{language:"en",name:null,description:null}]}}function S(e){const o={itemId:e.serviceTypeId,service:Y,modalTitle:u.backoffice.objectParams.channelType.title,search:c};_.emit(P.emitter.PARAMS_CONFIRM_DELETE,o)}return(e,o)=>{const j=l("cbutton"),f=l("table-actions"),d=l("ccolumn"),k=l("table-action-edit"),z=l("table-action-delete"),F=l("ctable"),B=l("accordion");return V(),q("div",null,[t(B,{id:n(g),title:e._lang.backoffice.objectParams.serviceType.title,collapsed:!1,class:"mb-4"},{default:p(()=>[t(f,null,{default:p(()=>[t(j,{target:"create-contact",class:"d-inline",type:n(v).buttonType.secondary,title:e._lang.common.toAdd,disabled:!1,icon:G,onClick:R},null,8,["type","title"])]),_:1}),t(J,{onApplyClick:b,onClearClick:w,createFilterModel:r}),t(F,{onSort:E,onChangePage:h,data:n(I),checkbox:!1,loading:n(i),defaultSort:"serviceTypeId"},{columns:p(()=>[t(d,{name:e._lang.label.name,field:"name",sortable:!0},null,8,["name"]),t(d,{name:e._lang.label.description,field:"description",sortable:!1},null,8,["name"])]),actions:p(M=>[t(k,{onClick:N=>A(M.item)},null,8,["onClick"]),t(z,{onClick:N=>S(M.item)},null,8,["onClick"])]),_:1},8,["data","loading"])]),_:1},8,["id","title"])])}}},we={__name:"index",setup(a){const _=O(),u=x();let g=T(m.uuid()),I=T(m.createEmptyDataSource()),s=L(r());L(y());let i=T(!1);$(async()=>{await c()});function r(){return{pageNumber:1,sortBy:"serviceCategoryId",serviceCategoryIds:[],name:null,description:null}}async function b(e){Object.assign(s,e),c()}async function w(){Object.assign(s,r()),c()}async function c(){i.value=!0;let e=await ee.search(s);m.validateResponse(e,null,async()=>{I.value=e.data,I.value.items=e.data.items.map(o=>({serviceCategoryId:o.serviceCategoryId,name:o.texts[0].name,description:o.texts[0].description}))}),i.value=!1}async function E(e){s.sortBy=e,await c()}async function h(e){s.pageNumber=e,await c()}async function A(e){i.value=!0;let o=await ee.getById(e.serviceCategoryId);m.validateResponse(o,null,async()=>{const j={form:o.data,service:ee,modalTitle:u.backoffice.objectParams.serviceCategory.title,search:c,itsNew:!1};_.emit(P.emitter.PARAMS_EDIT,j)}),i.value=!1}function R(){const e={form:y(),service:ee,modalTitle:u.backoffice.objectParams.serviceCategory.title,search:c,itsNew:!0};_.emit(P.emitter.PARAMS_EDIT,e)}function y(){return{texts:[{language:"pt",name:null,description:null},{language:"en",name:null,description:null}]}}function S(e){const o={itemId:e.serviceCategoryId,service:ee,modalTitle:u.backoffice.objectParams.serviceCategory.title,search:c};_.emit(P.emitter.PARAMS_CONFIRM_DELETE,o)}return(e,o)=>{const j=l("cbutton"),f=l("table-actions"),d=l("ccolumn"),k=l("table-action-edit"),z=l("table-action-delete"),F=l("ctable"),B=l("accordion");return V(),q("div",null,[t(B,{id:n(g),title:e._lang.backoffice.objectParams.serviceCategory.title,collapsed:!1,class:"mb-4"},{default:p(()=>[t(f,null,{default:p(()=>[t(j,{target:"create-contact",class:"d-inline",type:n(v).buttonType.secondary,title:e._lang.common.toAdd,disabled:!1,icon:G,onClick:R},null,8,["type","title"])]),_:1}),t(J,{onApplyClick:b,onClearClick:w,createFilterModel:r}),t(F,{onSort:E,onChangePage:h,data:n(I),checkbox:!1,loading:n(i),defaultSort:"serviceCategoryId"},{columns:p(()=>[t(d,{name:e._lang.label.name,field:"name",sortable:!0},null,8,["name"]),t(d,{name:e._lang.label.description,field:"description",sortable:!1},null,8,["name"])]),actions:p(M=>[t(k,{onClick:N=>A(M.item)},null,8,["onClick"]),t(z,{onClick:N=>S(M.item)},null,8,["onClick"])]),_:1},8,["data","loading"])]),_:1},8,["id","title"])])}}},je={__name:"index",setup(a){const _=O(),u=x();let g=T(m.uuid()),I=T(m.createEmptyDataSource()),s=L(r());L(y());let i=T(!1);$(async()=>{await b()});function r(){return{pageNumber:1,sortBy:"businessEventId",businessEventIds:[],name:null,description:null}}async function b(){i.value=!0;let e=await W.search(s);m.validateResponse(e,null,async()=>{I.value=e.data}),i.value=!1}async function w(e){Object.assign(s,e),b()}async function c(){Object.assign(s,r()),b()}async function E(e){s.sortBy=e,await b()}async function h(e){s.pageNumber=e,await b()}async function A(e){i.value=!0;let o=await W.getById(e.businessEventId);m.validateResponse(o,null,async()=>{const j={form:o.data,service:W,modalTitle:u.backoffice.objectParams.businessEvent.title,search:b,itsNew:!0,value1:"businessEventLevel1",value2:"businessEventLevel2"};_.emit(P.emitter.PARAMS_EDIT,j)}),i.value=!1}function R(){const e={form:y(),service:W,modalTitle:u.backoffice.objectParams.businessEvent.title,search:b,itsNew:!0,value1:"businessEventLevel1",value2:"businessEventLevel2"};_.emit(P.emitter.PARAMS_EDIT,e)}function y(){return{texts:[{language:"pt",name:null,description:null},{language:"en",name:null,description:null}]}}function S(e){const o={itemId:e.businessEventId,service:W,modalTitle:u.backoffice.objectParams.businessEvent.title,search:b};_.emit(P.emitter.PARAMS_CONFIRM_DELETE,o)}return(e,o)=>{const j=l("cbutton"),f=l("table-actions"),d=l("ccolumn"),k=l("table-action-edit"),z=l("table-action-delete"),F=l("ctable"),B=l("accordion");return V(),q("div",null,[t(B,{id:n(g),title:e._lang.backoffice.objectParams.businessEvent.title,collapsed:!1,class:"mb-4"},{default:p(()=>[t(f,null,{default:p(()=>[t(j,{target:"create-contact",class:"d-inline",type:n(v).buttonType.secondary,title:e._lang.common.toAdd,disabled:!1,icon:G,onClick:R},null,8,["type","title"])]),_:1}),t(J,{onApplyClick:w,onClearClick:c,createFilterModel:r,value1:"businessEventLevel1",value2:"businessEventLevel2"}),t(F,{onSort:E,onChangePage:h,data:n(I),checkbox:!1,loading:n(i),defaultSort:"businessEventId"},{columns:p(()=>[t(d,{name:e._lang.label.businessEventLevel1,field:"businessEventLevel1",sortable:!0},null,8,["name"]),t(d,{name:e._lang.label.businessEventLevel2,field:"businessEventLevel2",sortable:!0},null,8,["name"])]),actions:p(M=>[t(k,{onClick:N=>A(M.item)},null,8,["onClick"]),t(z,{onClick:N=>S(M.item)},null,8,["onClick"])]),_:1},8,["data","loading"])]),_:1},8,["id","title"])])}}},Se={__name:"index",setup(a){const _=O(),u=x();let g=T(m.uuid()),I=T(m.createEmptyDataSource()),s=L(r());L(y());let i=T(!1);$(async()=>{await c()});function r(){return{pageNumber:1,sortBy:"resultTypeId",resultTypeIds:[],name:null,description:null}}async function b(e){Object.assign(s,e),c()}async function w(){Object.assign(s,r()),c()}async function c(){i.value=!0;let e=await ne.search(s);m.validateResponse(e,null,async()=>{I.value=e.data,I.value.items=e.data.items.map(o=>({resultTypeId:o.resultTypeId,name:o.texts[0].name,description:o.texts[0].description}))}),i.value=!1}async function E(e){s.sortBy=e,await c()}async function h(e){s.pageNumber=e,await c()}async function A(e){i.value=!0;let o=await ne.getById(e.resultTypeId);m.validateResponse(o,null,async()=>{const j={form:o.data,service:ne,modalTitle:u.backoffice.objectParams.channelType.title,search:c,itsNew:!1};_.emit(P.emitter.PARAMS_EDIT,j)}),i.value=!1}function R(){const e={form:y(),service:ne,modalTitle:u.backoffice.objectParams.channelType.title,search:c,itsNew:!0};_.emit(P.emitter.PARAMS_EDIT,e)}function y(){return{texts:[{language:"pt",name:null,description:null},{language:"en",name:null,description:null}]}}function S(e){const o={itemId:e.resultTypeId,service:ne,modalTitle:u.backoffice.objectParams.channelType.title,search:c};_.emit(P.emitter.PARAMS_CONFIRM_DELETE,o)}return(e,o)=>{const j=l("cbutton"),f=l("table-actions"),d=l("ccolumn"),k=l("table-action-edit"),z=l("table-action-delete"),F=l("ctable"),B=l("accordion");return V(),q("div",null,[t(B,{id:n(g),title:e._lang.backoffice.objectParams.resultType.title,collapsed:!1,class:"mb-4"},{default:p(()=>[t(f,null,{default:p(()=>[t(j,{target:"create-contact",class:"d-inline",type:n(v).buttonType.secondary,title:e._lang.common.toAdd,disabled:!1,icon:G,onClick:R},null,8,["type","title"])]),_:1}),t(J,{onApplyClick:b,onClearClick:w,createFilterModel:r}),t(F,{onSort:E,onChangePage:h,data:n(I),checkbox:!1,loading:n(i),defaultSort:"resultTypeId"},{columns:p(()=>[t(d,{name:e._lang.label.name,field:"name",sortable:!0},null,8,["name"]),t(d,{name:e._lang.label.description,field:"description",sortable:!1},null,8,["name"])]),actions:p(M=>[t(k,{onClick:N=>A(M.item)},null,8,["onClick"]),t(z,{onClick:N=>S(M.item)},null,8,["onClick"])]),_:1},8,["data","loading"])]),_:1},8,["id","title"])])}}},Ae={__name:"edit-modal",props:{modelValue:{type:[Number,String,Boolean,Object]},itsNew:{type:Boolean,default:!0},search:{type:Function}},emits:["update:modelValue"],setup(a,{emit:_}){const u=a,g="edit-check-list";O();const I=x();let s=T("Eliminar"),i=T([]),r=T(v.language.pt);$(async()=>{await w()}),oe(()=>{});const b=D({get(){return u.modelValue},set(y){_("update:modelValue",y)}});async function w(){let y=await se.getLanguages();m.validateResponse(y,null,()=>{i.value=y.data})}function c(){m.closeModalById(g)}async function E(){if(console.log(u.itsNew),u.itsNew){let y=await le.create(b.value);m.validateResponse(y,"Criado com sucesso",()=>{u.search(),m.closeModalById(g)})}else{let y=await le.update(b.value);m.validateResponse(y,"Guardado com sucesso",()=>{u.search(),m.closeModalById(g)})}}const h=D(()=>m.convertEnumToArray(I.enums.checkListbjectType)),A=D({get(){return Q.getFieldByLangAndName(b.value,r.value,"defaultAnswer","questionTexts")},set(y){Q.setFieldByLangAndName(b.value,r.value,"defaultAnswer",y,"questionTexts")}}),R=D({get(){return Q.getFieldByLangAndName(b.value,r.value,"question","questionTexts")},set(y){Q.setFieldByLangAndName(b.value,r.value,"question",y,"questionTexts")}});return(y,S)=>{const e=l("lang-selector"),o=l("form-field"),j=l("row"),f=l("cbutton"),d=l("modal");return V(),ie(d,{id:g,title:n(s),size:n(v).modalSize.extraLarge,"remove-padding":!1},ye({footer:p(()=>[t(f,{type:n(v).buttonType.link,class:"ms-auto",title:y._lang.common.cancel,onClick:c,size:n(v).buttonSize.medium,disabled:!1},null,8,["type","title","size"]),t(f,{type:n(v).buttonType.primary,title:y._lang.common.save,onClick:E,size:n(v).buttonSize.medium,disabled:!1},null,8,["type","title","size"])]),_:2},[u.modelValue!=null?{name:"body",fn:p(()=>[t(e,{style:{"text-align":"-webkit-right"},options:n(i),selectedLang:n(r),"onUpdate:selectedLang":S[0]||(S[0]=k=>K(r)?r.value=k:r=k)},null,8,["options","selectedLang"]),t(j,null,{default:p(()=>[t(o,{id:"objectTypeId",class:"mb-3 col-12 col-md-6",modelValue:n(b).objectTypeId,"onUpdate:modelValue":S[1]||(S[1]=k=>n(b).objectTypeId=k),label:y._lang.label.objectTypeId,disabled:!1,type:n(v).inputs.multiselect,options:n(h)},null,8,["modelValue","label","type","options"]),t(o,{id:"order",class:"mb-3 col-12 col-md-6",modelValue:n(b).order,"onUpdate:modelValue":S[2]||(S[2]=k=>n(b).order=k),label:y._lang.label.order,disabled:!1,type:n(v).inputs.number},null,8,["modelValue","label","type"]),t(o,{id:"question",class:"mb-3 col-12",modelValue:n(R),"onUpdate:modelValue":S[3]||(S[3]=k=>K(R)?R.value=k:null),label:y._lang.label.question,disabled:!1,type:n(v).inputs.text,language:n(r)},null,8,["modelValue","label","type","language"]),t(o,{id:"defaultAnswer",class:"mb-3 col-12",modelValue:n(A),"onUpdate:modelValue":S[4]||(S[4]=k=>K(A)?A.value=k:null),label:y._lang.label.defaultAnswer,disabled:!1,type:n(v).inputs.text,language:n(r)},null,8,["modelValue","label","type","language"])]),_:1})]),key:"0"}:void 0]),1032,["title","size"])}}},Ee={class:"col-12 hstack gap-2 mt-3"},Me={__name:"index",setup(a){const _=O(),u=x(),g="edit-check-list";let I=T(m.uuid()),s=T(m.createEmptyDataSource()),i=L(c()),r=L(o()),b=T(!1),w=T(!0);$(async()=>{await A()});function c(){return{pageNumber:1,sortBy:"ObjectTypeId",objectTypeId:null}}async function E(d){Object.assign(i,d),A()}async function h(){Object.assign(i,c()),A()}async function A(){b.value=!0;let d=await le.search(i);m.validateResponse(d,null,async()=>{s.value=d.data,s.value.items=d.data.items.map(k=>({id:k.id,checkListQuestionId:k.id,objectTypeId:k.objectTypeId,question:k.questionTexts[0].question,questionTexts:k.questionTexts,order:k.order}))}),b.value=!1}async function R(d){i.sortBy=d,await A()}async function y(d){i.pageNumber=d,await A()}async function S(d){console.log(d),w.value=!1,Object.assign(r,d),m.showModalById(g)}function e(){w.value=!0,Object.assign(r,o()),m.showModalById(g)}function o(){return{objectTypeId:null,checkListQuestionId:null,order:null,questionTexts:[{language:"pt",question:null,defaultAnswer:null},{language:"en",question:null,defaultAnswer:null}]}}function j(d){console.log(d);const k={itemId:d.id,service:le,modalTitle:u.backoffice.objectParams.channelType.title,search:A};_.emit(P.emitter.PARAMS_CONFIRM_DELETE,k)}const f=D(()=>m.convertEnumToArray(u.enums.checkListbjectType));return(d,k)=>{const z=l("cbutton"),F=l("table-actions"),B=l("form-field"),M=l("row"),N=l("ccolumn"),U=l("table-action-edit"),re=l("table-action-delete"),ue=l("ctable"),de=l("accordion");return V(),q(ce,null,[ae("div",null,[t(de,{id:n(I),title:d._lang.backoffice.objectParams.checkList.title,collapsed:!1,class:"mb-4"},{default:p(()=>[t(F,null,{default:p(()=>[t(z,{target:"create-contact",class:"d-inline",type:n(v).buttonType.secondary,title:d._lang.common.toAdd,disabled:!1,icon:G,onClick:e},null,8,["type","title"])]),_:1}),t(M,null,{default:p(()=>[t(B,{id:"objectTypeId",class:"mb-3 col-12",modelValue:n(i).objectTypeId,"onUpdate:modelValue":k[0]||(k[0]=H=>n(i).objectTypeId=H),label:d._lang.label.objectTypeId,disabled:!1,type:n(v).inputs.multiselect,options:n(f)},null,8,["modelValue","label","type","options"])]),_:1}),t(M,null,{default:p(()=>[ae("div",Ee,[t(z,{type:n(v).buttonType.link,class:"ms-auto",title:d._lang.common.clear,onClick:h,size:n(v).buttonSize.medium,disabled:n(b)},null,8,["type","title","size","disabled"]),t(z,{type:n(v).buttonType.primary,title:d._lang.common.apply,onClick:E,size:n(v).buttonSize.medium,disabled:n(b)},null,8,["type","title","size","disabled"])])]),_:1}),t(ue,{onSort:R,onChangePage:y,data:n(s),checkbox:!1,loading:n(b),defaultSort:"objectTypeId"},{columns:p(()=>[t(N,{name:d._lang.label.objectTypeId,field:"objectTypeId",sortable:!0,options:n(f),custom:fe},null,8,["name","options"]),t(N,{name:d._lang.label.question,field:"question",sortable:!1},null,8,["name"])]),actions:p(H=>[t(U,{onClick:me=>S(H.item)},null,8,["onClick"]),t(re,{onClick:me=>j(H.item)},null,8,["onClick"])]),_:1},8,["data","loading"])]),_:1},8,["id","title"])]),t(Ae,{modelValue:n(r),"onUpdate:modelValue":k[1]||(k[1]=H=>K(r)?r.value=H:r=H),itsNew:n(w),search:A},null,8,["modelValue","itsNew"])],64)}}},Fe={__name:"index",setup(a){return(_,u)=>{const g=l("breadcrumb-item"),I=l("breadcrumb"),s=l("card"),i=l("page");return V(),ie(i,{title:_._lang.backoffice.objectParams.pageTitle},{breadcrumb:p(()=>[t(I,{"has-home":!0},{default:p(()=>[t(g,{label:_._lang.backoffice.objectParams.pageTitle},null,8,["label"])]),_:1})]),default:p(()=>[t(s,{shadow:!0},{body:p(()=>[t(Ce),t(Te),t(he),t(we),t(je),t(Ie),t(Se),t(Me),t(_e),t(ve)]),_:1})]),_:1},8,["title"])}}};export{Fe as default};
