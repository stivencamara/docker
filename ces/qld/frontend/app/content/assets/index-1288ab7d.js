import{y as x,_ as w,r as y,a as S,u as v,b as p,o as h,c as m,d as e,e as a,w as c,f as B,g as t,h as q,i as C,F as g,j as I,t as b,C as F,p as M,k as V,l as z}from"./index-5b4ebf84.js";import{o as D}from"./organization-acc3daab.js";const K={search:s=>x.post("/es/search",s)};const i=s=>(M("data-v-4203851a"),s=s(),V(),s),N={class:"image-back-home pt-3"},T=i(()=>e("div",{class:"col-1 col-sm-2"},null,-1)),E=i(()=>e("div",{class:"col-10 col-sm-8"},[e("h1",null,"Bem-vindo")],-1)),$=i(()=>e("div",{class:"col-1 col-sm-2"},null,-1)),j=i(()=>e("div",{class:"col-1 col-sm-2"},null,-1)),L={class:"col-10 col-sm-8"},O=i(()=>e("div",{class:"col-1 col-sm-2"},null,-1)),P={class:"type d-block"},R={class:"title d-block"},U={__name:"search",setup(s){let n=y(!1),l=S({query:null,sortBy:"startDate"}),d=y(v.createEmptyDataSource());const f=async()=>{if(!l.query)return;n.value=!0;const o=await K.search(l);v.validateResponse(o,null,()=>{d.value=o.data}),n.value=!1};return(o,_)=>{const r=p("row");return h(),m(g,null,[e("div",N,[a(r,null,{default:c(()=>[T,E,$]),_:1}),a(r,{class:"mt-5"},{default:c(()=>[j,e("div",L,[a(B,{id:"query",label:"Pesquisar",modelValue:t(l).query,"onUpdate:modelValue":_[0]||(_[0]=u=>t(l).query=u),placeholder:o._lang.backoffice.home.placeholderSearch,onKeyup:q(f,["enter"]),disabled:t(n),type:t(C).inputs.search},null,8,["modelValue","placeholder","onKeyup","disabled","type"])]),O]),_:1})]),a(F,null,{default:c(()=>[a(r,{class:"d-flex flex-wrap flex-grow-0 gap-3 flex-shrink-1"},{default:c(()=>[(h(!0),m(g,null,I(t(d).items,(u,k)=>(h(),m("div",{class:"search-card",key:k},[e("span",P,b(u.pt.type),1),e("span",R,b(u.pt.name),1)]))),128))]),_:1})]),_:1})],64)}}},W=w(U,[["__scopeId","data-v-4203851a"]]);const H={__name:"index",setup(s){let n=S(l());function l(){return{pageNumber:1,sortBy:"Code",organizationTypeIds:null,abreviation:null,parentOrganization:null,recordStateTypeIds:null,name:null,code:null,active:!0}}return(d,f)=>{const o=p("infiniteScroll"),_=p("card"),r=p("page");return h(),z(r,{title:d._lang.backoffice.home.pageTitle},{default:c(()=>[a(_,{shadow:!0,class:"card-home"},{body:c(()=>[a(W),a(o,{searchFunction:t(D).search,filterModel:t(n)},null,8,["searchFunction","filterModel"])]),_:1})]),_:1},8,["title"])}}};export{H as default};
