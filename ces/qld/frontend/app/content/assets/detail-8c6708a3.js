import{s as R,L as V,z as M,M as S,r as l,a as C,i as y,G,J as K,u as d,x as r,N,b as _,o as b,l as I,w as c,e as p,g as e,D as F}from"./index-5b4ebf84.js";import{u as P}from"./organization-cd538fe2.js";import{o as L}from"./helpers-991a1d67.js";import{o as v}from"./organization-acc3daab.js";import{_ as D}from"./detail-actions-06232284.js";import{_ as J}from"./form-d3f02008.js";import"./helpers-4796f1a9.js";import"./index.esm-85573352.js";import"./refusal-5d03193c.js";import"./helpers-56107f9e.js";import"./helpers-138c884f.js";import"./helpers-28a0442c.js";import"./helpers-730fb974.js";import"./helpers-c8652456.js";import"./settings-fd6ffbf1.js";import"./contacts-6a9568fc.js";import"./index.esm-65642301.js";import"./address-167772ff.js";import"./location-7945ac70.js";import"./generic-74ec479d.js";import"./point-of-care-11ca6bee.js";import"./service-09bdae54.js";import"./document-07880ad5.js";const pe={__name:"detail",setup(U){const h=R(),g=V();M();const k=S(),E=P(),i=l(0),s=l(0);let u=l(!0),o=C(L.newForm()),a=l(y.language.pt);l([]);let w=C(L.formRules());const z=G(()=>g.path.toLowerCase().indexOf("tarefas")>-1);K(async()=>{i.value=d.decodeId(g.params.organizationId),s.value=d.decodeId(g.params.organizationVersion),!i.value||!s.value?h.push({name:r.router.BACKOFFICE_ENTITIES_PAGE.name}):(await T(),await A())});async function A(){const t=await v.getById(i.value,s.value);d.validateResponse(t,null,()=>{Object.assign(o,t.data),k.emit(r.emitter.OBJECT_LOADED,t.data)})}async function T(){u.value=!0;const t=await v.getLists(a.value);d.validateResponse(t,null,()=>{E.setLists(t.data)}),u.value=!1}return N(()=>a.value,()=>{T()}),(t,m)=>{const f=_("breadcrumb-item"),O=_("breadcrumb"),B=_("page");return b(),I(B,{title:t._lang.backoffice.entities.detailPageTitle},{breadcrumb:c(()=>[p(O,{"has-home":!0},{default:c(()=>[e(z)?(b(),I(f,{key:0,label:t._lang.backoffice.tasks.breadcrumbTitle,"router-path":e(r).router.BACKOFFICE_TASKS_PAGE.path},null,8,["label","router-path"])):(b(),I(f,{key:1,label:t._lang.backoffice.entities.breadcrumbTitle,"router-path":e(r).router.BACKOFFICE_ENTITIES_PAGE.path},null,8,["label","router-path"])),p(f,{label:t._lang.backoffice.entities.detail},null,8,["label"])]),_:1})]),actions:c(()=>[p(D,{loading:e(u),selectedLang:e(a),"onUpdate:selectedLang":m[0]||(m[0]=n=>F(a)?a.value=n:a=n),service:e(v),backRoute:e(r).router.BACKOFFICE_ENTITIES_PAGE.name,editRoute:e(r).router.BACKOFFICE_EDIT_ENTITY_PAGE.name,itemIdField:"organizationId",itemVersionField:"organizationVersion",itemId:i.value,itemVersion:s.value,formModel:e(o),"show-record-state-actions":e(z),store:e(E)},null,8,["loading","selectedLang","service","backRoute","editRoute","itemId","itemVersion","formModel","show-record-state-actions","store"])]),default:c(()=>[p(J,{formModel:e(o),"onUpdate:formModel":m[1]||(m[1]=n=>F(o)?o.value=n:o=n),disabled:!0,validateForm:!0,selectedLang:e(a),rules:e(w),loading:e(u),organizationId:i.value,organizationVersion:s.value,"show-progress":!1,vuelidate:null},null,8,["formModel","selectedLang","rules","loading","organizationId","organizationVersion"])]),_:1},8,["title"])}}};export{pe as default};
