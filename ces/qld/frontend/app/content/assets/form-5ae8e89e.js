import{_ as re,a as de,b as se}from"./contacts-e5b4fc11.js";import{q as $,i as S,E as O,j as u,N as G,v as r,r as p,o as k,c as A,w as _,a as n,m as e,z as L,_ as ue,e as ee,f as Z,O as ce,P as me,F as ae,D as ge,s as H,Q as x,R as pe,S as K,T as be,M as Y,K as W,h as Q,y as h,L as J,l as P}from"./index-d8a56bcc.js";import{u as j}from"./organization-cca91f92.js";import{u as X}from"./index.esm-90cb40dd.js";import{b as w}from"./helpers-d89764d1.js";import{_ as ve}from"./address-e1a94fd0.js";import{o as ie}from"./helpers-1cb82c85.js";import{_ as fe,a as ye}from"./refusal-a1b91175.js";import{r as Ie}from"./index.esm-d77c3574.js";import{_ as _e}from"./generic-0bf4d68e.js";import{p as le}from"./point-of-care-cd3cf399.js";import{p as Ve}from"./helpers-a03e04a5.js";import{s as oe}from"./service-123d0948.js";import{s as ze}from"./helpers-eb16543c.js";import{d as ne}from"./document-3c516f4f.js";import{d as Te}from"./helpers-71f72544.js";import{o as te}from"./organization-7b90e5ff.js";const Ce={__name:"base-information",props:{modelValue:{type:Object,required:!0},disabled:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},validateForm:{type:Boolean,default:!1},selectedLang:{type:[String,Number],required:!0},rules:{type:Object,default:{}}},emits:["update:modelValue"],setup(y,{emit:d}){const l=y,m=j(),b=$(),i=X(l.rules,l.modelValue);let t=S(!0),c=S(!1);const o=O({get(){return l.modelValue},set(v){d("update:modelValue",v)}}),C=O(()=>u.convertEnumToArray(b.enums.groupType)),z=O(()=>l.selectedLang),T=O({get(){return w.getFieldByLangAndName(o.value,z.value,"abreviation")},set(v){w.setFieldByLangAndName(o.value,z.value,"abreviation",v)}}),F=O({get(){return w.getFieldByLangAndName(o.value,z.value,"name")},set(v){w.setFieldByLangAndName(o.value,z.value,"name",v)}});G(()=>o.value.groupName,()=>{I()}),G(()=>i.value.$error,()=>{i.value.$error&&(t.value=!0)}),G(()=>o.value.startDate,(v,a)=>{new Date(v)>new Date(o.value.endDate)&&(o.value.endDate=null)});let s=S([]);function I(){switch(c.value=!1,o.value.groupName||(o.value.organizationTypeId=null),o.value.groupName){case r.organizationGroupType.notApplicable:case r.organizationGroupType.folder:s.value=[{label:b.enums.objectType[1],value:1}],o.value.organizationTypeId=1,c.value=!0;break;case r.organizationGroupType.regionalPublicAdministration:s.value=m.organizationRegionalPublicAdministrationTypeList;break;case r.organizationGroupType.localAuthorities:s.value=m.organizationLocalAuthoritiesTypeList;break;case r.organizationGroupType.legislativeAssembly:s.value=m.organizationLegislativeAssemblyTypeList;break;case r.organizationGroupType.regionalPublicBusinessSector:s.value=m.organizationRegionalPublicBusinessSectorTypeList;break}}O(()=>l.modelValue.recordStateTypeId);const f=O(()=>l.selectedLang===r.language.en);return(v,a)=>{const V=p("form-field"),E=p("row"),N=p("accordion");return k(),A(N,{id:"base-information",title:v._lang.common.baseInformation,collapsed:e(t),class:"mb-4"},{default:_(()=>[n(E,null,{default:_(()=>[n(V,{id:"code",class:"mb-3 col-12 col-md-6 col-lg-4",modelValue:e(o).code,"onUpdate:modelValue":a[0]||(a[0]=g=>e(o).code=g),label:v._lang.label.entityCode,disabled:!0,loading:l.loading,type:e(r).inputs.text,maxlength:45,required:l.validateForm,showError:l.validateForm&&e(i).code.$error,"error-message":v._errorMessageField(e(i).code)},null,8,["modelValue","label","loading","type","required","showError","error-message"]),n(V,{id:"state",class:"mb-3 col-12 col-md-6 col-lg-4",modelValue:v._lang.enums.recordStateType[e(o).recordStateTypeId],"onUpdate:modelValue":a[1]||(a[1]=g=>v._lang.enums.recordStateType[e(o).recordStateTypeId]=g),label:v._lang.label.state,disabled:!0,loading:l.loading,type:e(r).inputs.text},null,8,["modelValue","label","loading","type"]),n(V,{id:"nipc",class:"mb-3 col-12 col-lg-4",modelValue:e(o).nipc,"onUpdate:modelValue":a[2]||(a[2]=g=>e(o).nipc=g),label:v._lang.label.nipc,disabled:l.disabled||e(f),loading:l.loading,type:e(r).inputs.text,maxlength:9,required:l.validateForm,placeholder:"ex: 123456789",showError:l.validateForm&&e(i).nipc.$error,"error-message":v._errorMessageField(e(i).nipc)},null,8,["modelValue","label","disabled","loading","type","required","showError","error-message"])]),_:1}),n(E,null,{default:_(()=>[n(V,{id:"groupName",class:"mb-3 col-12 col-md-6 col-lg-4",modelValue:e(o).groupName,"onUpdate:modelValue":a[3]||(a[3]=g=>e(o).groupName=g),label:v._lang.label.groupName,disabled:l.disabled||e(f),loading:l.loading,type:e(r).inputs.multiselect,options:e(C),required:l.validateForm,showError:l.validateForm&&e(i).groupName.$error,"error-message":v._errorMessageField(e(i).groupName)},null,8,["modelValue","label","disabled","loading","type","options","required","showError","error-message"]),n(V,{id:"organizationTypeId",class:"mb-3 col-12 col-md-6 col-lg-4",modelValue:e(o).organizationTypeId,"onUpdate:modelValue":a[4]||(a[4]=g=>e(o).organizationTypeId=g),label:v._lang.label.organizationTypeId,disabled:l.disabled||!e(o).groupName||e(f)||e(c),loading:l.loading,type:e(r).inputs.multiselect,options:e(s),required:l.validateForm,showError:l.validateForm&&e(i).organizationTypeId.$error,"error-message":v._errorMessageField(e(i).organizationTypeId)},null,8,["modelValue","label","disabled","loading","type","options","required","showError","error-message"]),n(V,{id:"abreviation",class:"mb-3 col-12 col-lg-4",modelValue:e(T),"onUpdate:modelValue":a[5]||(a[5]=g=>L(T)?T.value=g:null),label:v._lang.label.abreviation,disabled:l.disabled,loading:l.loading,type:e(r).inputs.text,maxlength:45,language:e(z)},null,8,["modelValue","label","disabled","loading","type","language"])]),_:1}),n(E,null,{default:_(()=>[n(V,{id:"name",class:"mb-3 col-12",modelValue:e(F),"onUpdate:modelValue":a[6]||(a[6]=g=>L(F)?F.value=g:null),label:v._lang.label.name,disabled:l.disabled,loading:l.loading,type:e(r).inputs.text,maxlength:255,required:l.validateForm,showError:l.validateForm&&v._showErrorFieldWhenTexts(e(i).texts,"name"),"error-message":v._errorMessageFieldWhenTexts(e(i).texts,"name"),language:e(z)},null,8,["modelValue","label","disabled","loading","type","required","showError","error-message","language"])]),_:1}),n(E,null,{default:_(()=>[n(V,{id:"parentOrganization",class:"mb-3 col-12 col-lg-4",modelValue:e(o).parentOrganization,"onUpdate:modelValue":a[7]||(a[7]=g=>e(o).parentOrganization=g),label:v._lang.label.parentOrganization,disabled:l.disabled||e(f),loading:l.loading,type:e(r).inputs.multiselect,required:l.validateForm,placeholder:v._lang.common.selectOption,showError:l.validateForm&&e(i).parentOrganization.$error,"error-message":v._errorMessageField(e(i).parentOrganization),options:e(m).organizationList,valueProp:e(r).multiselectValueProp.value3},null,8,["modelValue","label","disabled","loading","type","required","placeholder","showError","error-message","options","valueProp"]),n(V,{id:"startDate",class:"mb-3 col-12 col-md-6 col-lg-4",modelValue:e(o).startDate,"onUpdate:modelValue":a[8]||(a[8]=g=>e(o).startDate=g),label:v._lang.label.startDate,disabled:l.disabled||e(f),loading:l.loading,type:e(r).inputs.datepicker,required:l.validateForm,placeholder:"dd/mm/aaaa",showError:l.validateForm&&e(i).startDate.$error,"error-message":v._errorMessageField(e(i).startDate)},null,8,["modelValue","label","disabled","loading","type","required","showError","error-message"]),n(V,{id:"endDate",class:"mb-3 col-12 col-md-6 col-lg-4",modelValue:e(o).endDate,"onUpdate:modelValue":a[9]||(a[9]=g=>e(o).endDate=g),label:v._lang.label.endDate,disabled:l.disabled||e(f),loading:l.loading,type:e(r).inputs.datepicker,placeholder:"dd/mm/aaaa",minDate:e(o).startDate},null,8,["modelValue","label","disabled","loading","type","minDate"]),n(V,{id:"organizationPublic",class:"mb-3 col-12 col-lg-4",modelValue:e(o).organizationPublic,"onUpdate:modelValue":a[10]||(a[10]=g=>e(o).organizationPublic=g),label:v._lang.label.public,disabled:l.disabled||e(f),loading:l.loading,type:e(r).inputs.checkbox},null,8,["modelValue","label","disabled","loading","type"]),n(V,{id:"canHavePointsOfCare'.",class:"mb-3 col-12 col-lg-4",modelValue:e(o).canHavePointsOfCare,"onUpdate:modelValue":a[11]||(a[11]=g=>e(o).canHavePointsOfCare=g),label:v._lang.label.canHavePointsOfCare,disabled:l.disabled||e(f),loading:l.loading,type:e(r).inputs.checkbox},null,8,["modelValue","label","disabled","loading","type"]),n(V,{id:"canHaveServices",class:"mb-3 col-12 col-lg-4",modelValue:e(o).canHaveServices,"onUpdate:modelValue":a[12]||(a[12]=g=>e(o).canHaveServices=g),label:v._lang.label.canHaveServices,disabled:l.disabled||e(f),loading:l.loading,type:e(r).inputs.checkbox},null,8,["modelValue","label","disabled","loading","type"])]),_:1})]),_:1},8,["title","collapsed"])}}},Fe={__name:"description",props:{modelValue:{type:Object,required:!0},disabled:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},selectedLang:{type:[String,Number],required:!0},validateForm:{type:Boolean,default:!1},rules:{type:Object,default:{}}},emits:["update:modelValue"],setup(y,{emit:d}){const l=y,m=j(),b=X(l.rules,l.modelValue),i=O({get(){return l.modelValue},set(s){d("update:modelValue",s)}}),t=O(()=>l.selectedLang),c=O({get(){return w.getFieldByLangAndName(i.value,t.value,"description")},set(s){w.setFieldByLangAndName(i.value,t.value,"description",s)}}),o=O({get(){return w.getFieldByLangAndName(i.value,t.value,"legislation")},set(s){w.setFieldByLangAndName(i.value,t.value,"legislation",s)}}),C=O({get(){return w.getFieldByLangAndName(i.value,t.value,"mission")},set(s){w.setFieldByLangAndName(i.value,t.value,"mission",s)}}),z=O({get(){return w.getFieldByLangAndName(i.value,t.value,"managerRoleDescription")},set(s){w.setFieldByLangAndName(i.value,t.value,"managerRoleDescription",s)}}),T=O({get(){return w.getFieldByLangAndName(i.value,t.value,"keywords")},set(s){w.setFieldByLangAndName(i.value,t.value,"keywords",s)}}),F=O(()=>l.selectedLang===r.language.en);return(s,I)=>{const f=p("form-field"),v=p("accordion");return k(),A(v,{id:"description",title:s._lang.common.description,collapsed:!1,class:"mb-4"},{default:_(()=>[n(f,{id:"economicActivityId",class:"mb-3 col-12",modelValue:e(i).economicActivityId,"onUpdate:modelValue":I[0]||(I[0]=a=>e(i).economicActivityId=a),label:s._lang.label.economicActivityId,disabled:l.disabled||e(F),loading:l.loading,type:e(r).inputs.multiselect,options:e(m).economicActivityList,required:l.validateForm,showError:l.validateForm&&e(b).economicActivityId.$error,"error-message":s._errorMessageField(e(b).economicActivityId)},null,8,["modelValue","label","disabled","loading","type","options","required","showError","error-message"]),n(f,{id:"description",class:"mb-3 col-12",modelValue:e(c),"onUpdate:modelValue":I[1]||(I[1]=a=>L(c)?c.value=a:null),label:s._lang.label.description,disabled:l.disabled,loading:l.loading,type:e(r).inputs.text,maxlength:255,language:e(t)},null,8,["modelValue","label","disabled","loading","type","language"]),n(f,{id:"legislation",class:"mb-3 col-12",modelValue:e(o),"onUpdate:modelValue":I[2]||(I[2]=a=>L(o)?o.value=a:null),label:s._lang.label.legislation,disabled:l.disabled,loading:l.loading,type:e(r).inputs.text,maxlength:255,language:e(t)},null,8,["modelValue","label","disabled","loading","type","language"]),n(f,{id:"mission",class:"mb-3 col-12",modelValue:e(C),"onUpdate:modelValue":I[3]||(I[3]=a=>L(C)?C.value=a:null),label:s._lang.label.mission,disabled:l.disabled,loading:l.loading,type:e(r).inputs.text,maxlength:255,language:e(t)},null,8,["modelValue","label","disabled","loading","type","language"]),n(f,{id:"managerRoleDescription",class:"mb-3 col-12",modelValue:e(z),"onUpdate:modelValue":I[4]||(I[4]=a=>L(z)?z.value=a:null),label:s._lang.label.managerRoleDescription,disabled:l.disabled,loading:l.loading,type:e(r).inputs.text,maxlength:255,language:e(t)},null,8,["modelValue","label","disabled","loading","type","language"]),n(f,{id:"keyWords",class:"mb-3 col-12",modelValue:e(T),"onUpdate:modelValue":I[5]||(I[5]=a=>L(T)?T.value=a:null),label:s._lang.label.keyWords,disabled:l.disabled,loading:l.loading,type:e(r).inputs.text,maxlength:255,language:e(t)},null,8,["modelValue","label","disabled","loading","type","language"]),n(f,{id:"logo",class:"mb-3 col-12",modelValue:e(i).icon,"onUpdate:modelValue":I[6]||(I[6]=a=>e(i).icon=a),label:s._lang.label.logo,disabled:l.disabled,loading:l.loading,type:e(r).inputs.file,required:!1,showPreview:!0,accept:".jpeg,.svg,.jpg"},null,8,["modelValue","label","disabled","loading","type"])]),_:1},8,["title"])}}},Se={__name:"territorial-scope",props:{modelValue:{type:Object,required:!0},disabled:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},validateForm:{type:Boolean,default:!1},rules:{type:Object,default:{}}},emits:["update:modelValue"],setup(y,{emit:d}){const l=y,m=X(l.rules,l.modelValue),b=j(),i=$(),t=O({get(){return l.modelValue},set(z){d("update:modelValue",z)}});let c=S([]),o=S(!1);G(()=>t.value.divisionTypeId,()=>{C()});function C(){(!t.value.divisionTypeId||o.value)&&(t.value.divisionId=null),t.value.divisionTypeId===r.divisionType.notApplicable?(t.value.divisionId=r.divisionType.notApplicable,c.value=[{label:i.enums.objectType[r.divisionType.notApplicable],value:r.divisionType.notApplicable}]):t.value.divisionTypeId===r.divisionType.island?c.value=b.divisionIslandList:t.value.divisionTypeId===r.divisionType.county?c.value=b.divisionCountyList:t.value.divisionTypeId===r.divisionType.parish&&(c.value=b.divisionParishList),o.value=!0}return(z,T)=>{const F=p("form-field"),s=p("row"),I=p("accordion");return k(),A(I,{id:"territorial-scope",title:z._lang.backoffice.entities.territorialScope,collapsed:!1,class:"mb-4"},{default:_(()=>[n(s,null,{default:_(()=>[n(F,{id:"divisionTypeId",class:"mb-3 col-12 col-md-6",modelValue:e(t).divisionTypeId,"onUpdate:modelValue":T[0]||(T[0]=f=>e(t).divisionTypeId=f),label:z._lang.label.divisionTypeId,disabled:l.disabled,loading:l.loading,type:e(r).inputs.multiselect,required:l.validateForm,showError:l.validateForm&&e(m).divisionTypeId.$error,"error-message":z._errorMessageField(e(m).divisionTypeId),options:e(b).divisionTypeList},null,8,["modelValue","label","disabled","loading","type","required","showError","error-message","options"]),n(F,{id:"divisionId",class:"mb-3 col-12 col-md-6",modelValue:e(t).divisionId,"onUpdate:modelValue":T[1]||(T[1]=f=>e(t).divisionId=f),label:z._lang.label.divisionId,disabled:l.disabled||e(t).divisionTypeId===e(r).notApplicable,loading:l.loading,type:e(r).inputs.multiselect,required:l.validateForm,showError:l.validateForm&&e(m).divisionId.$error,"error-message":z._errorMessageField(e(m).divisionId),options:e(c)},null,8,["modelValue","label","disabled","loading","type","required","showError","error-message","options"])]),_:1})]),_:1},8,["title"])}}};const ke={class:"input-group mb-3"},Ee=["aria-describedby"],Oe=["id","disabled"],Ae={__name:"address",props:{modelValue:{type:Object,required:!0},disabled:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},validateForm:{type:Boolean,default:!1},rules:{type:Object,default:{}},vuelidate:{type:Object,default:null}},emits:["update:modelValue"],setup(y,{emit:d}){const l=y,m=j(),b=u.uuid();let i=S(0),t=S(0),c=S(null);const o=S(!1);S(!1);const C=O({get(){return l.modelValue},set(s){d("update:modelValue",s)}}),z="search-location";function T(s){Object.assign(C.value.address,s),i.value++,c.value.updateMap()}function F(){t.value++,window.setTimeout(function(){u.showModalById(z)},5)}return G(C.value,s=>{s.address.locationId!=null&&(o.value?(s.address.locationId=null,s.address.code=null,o.value=!1):o.value=!0)}),(s,I)=>{const f=p("icon-search"),v=p("accordion");return k(),ee(ae,null,[n(v,{id:"address-accordion",title:s._lang.backoffice.entities.address,collapsed:!1,class:"mb-4"},{default:_(()=>[Z("div",ke,[ce(Z("input",{ref:"locationQuery",id:"location-query",type:"text",class:"form-control",placeholder:"Código do património","aria-label":"placeholder","aria-describedby":e(b),disabled:"","onUpdate:modelValue":I[0]||(I[0]=a=>e(C).address.code=a)},null,8,Ee),[[me,e(C).address.code]]),Z("button",{class:"btn btn-primary",type:"button",id:e(b),disabled:l.disabled,onClick:F},[n(f,{color:"#FFF"})],8,Oe)]),(k(),A(ve,{key:e(i),ref_key:"addressRef",ref:c,modelValue:e(C).address,"onUpdate:modelValue":I[1]||(I[1]=a=>e(C).address=a),disabled:l.disabled,rules:l.rules,loading:l.loading,"validate-form":l.validateForm,store:e(m),vuelidate:l.vuelidate},null,8,["modelValue","disabled","rules","loading","validate-form","store","vuelidate"]))]),_:1},8,["title"]),(k(),A(re,{key:e(t),onApply:T}))],64)}}},we=ue(Ae,[["__scopeId","data-v-31ff57fc"]]),Be={__name:"create",props:{modelValue:{type:Array,required:!0}},emits:["update:modelValue"],setup(y,{emit:d}){const l=y,m=j(),b=$();ge();const i="create-related-entity";let t=H(z()),c=S(!1);const o=X(ie.organizationRelatedFormRules(),t,{$scope:!1}),C=O({get(){return l.modelValue},set(s){d("update:modelValue",s)}});function z(){return{organizationId:null,organizationRelatedTypeId:null}}function T(){t=Object.assign(t,z()),o.value.$reset()}async function F(){if(c.value=!0,await o.value.$validate(),!o.value.$error){const s={organizationId:t.organizationId,organizationName:w.getLabel(m.organizationList,t.organizationId),organizationRelatedTypeId:t.organizationRelatedTypeId,organizationRelatedTypeName:w.getLabel(m.organizationRelatedTypeList,t.organizationRelatedTypeId)};C.value.find(f=>f.organizationId===t.organizationId&&f.organizationRelatedTypeId===t.organizationRelatedTypeId)?x.warning(b.backoffice.entities.relatedOrganizationExists):(C.value.push(s),t=Object.assign(t,z()),o.value.$reset(),u.closeModalById(i),x.success(b.backoffice.entities.relatedOrganizationAdded))}c.value=!1}return(s,I)=>{const f=p("form-field"),v=p("row"),a=p("cbutton"),V=p("modal");return k(),A(V,{id:i,title:s._lang.backoffice.entities.addRelatedOrganizations,size:e(r).modalSize.extraLarge},{body:_(()=>[n(v,null,{default:_(()=>[n(f,{id:"name",class:"mb-3 mb-lg-0 col-12 col-md-12 col-lg-6",modelValue:e(t).organizationId,"onUpdate:modelValue":I[0]||(I[0]=E=>e(t).organizationId=E),label:s._lang.label.organization,loading:e(c),type:e(r).inputs.multiselect,required:!0,"show-error":e(o).organizationId.$error,"error-message":s._errorMessageField(e(o).organizationId),options:e(m).organizationList,valueProp:e(r).multiselectValueProp.value3},null,8,["modelValue","label","loading","type","show-error","error-message","options","valueProp"]),n(f,{id:"relationshipType",class:"mb-3 mb-lg-0 col-12 col-md-12 col-lg-6",modelValue:e(t).organizationRelatedTypeId,"onUpdate:modelValue":I[1]||(I[1]=E=>e(t).organizationRelatedTypeId=E),label:s._lang.label.relationshipType,loading:e(c),type:e(r).inputs.multiselect,required:!0,"show-error":e(o).organizationRelatedTypeId.$error,"error-message":s._errorMessageField(e(o).organizationRelatedTypeId),options:e(m).organizationRelatedTypeList},null,8,["modelValue","label","loading","type","show-error","error-message","options"])]),_:1})]),footer:_(()=>[n(a,{title:s._lang.common.cancel,type:e(r).buttonType.secondary,"data-bs-dismiss":"modal","aria-label":"Close",disabled:e(c),onClick:T},null,8,["title","type","disabled"]),n(a,{title:s._lang.common.save,onClick:F,disabled:e(c)},null,8,["title","disabled"])]),_:1},8,["title","size"])}}},Ne={__name:"related-entities",props:{modelValue:{type:Array,required:!0},disabled:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},rules:{type:Object,default:{}},validateForm:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(y,{emit:d}){const l=y,m=$();let b=S(!1);const i=O(()=>u.createEmptyDataSource(c.value)),t="confirm-delete",c=O({get(){return l.modelValue},set(F){d("update:modelValue",F)}});let o=S(null);function C(F){o.value=F}function z(){o.value&&(u.removeItemOfArray(c.value,o),x.success(m.backoffice.entities.organizationRelatedRemoved),o.value=null)}function T(F){u.sortArrayOffline(F,i.value.items)}return(F,s)=>{const I=p("table-actions"),f=p("ccolumn"),v=p("table-action-delete"),a=p("ctable"),V=p("confirm-delete-modal");return k(),ee(ae,null,[n(be,{id:"related-entities",title:F._lang.backoffice.entities.relatedEntities,collapsed:!1,class:"mb-4"},{default:_(()=>[n(I,null,{default:_(()=>[n(pe,{target:"create-related-entity",class:"d-inline",type:e(r).buttonType.secondary,title:F._lang.common.toAdd,disabled:l.disabled,icon:K},null,8,["type","title","disabled"])]),_:1}),n(a,{data:e(i),loading:e(b),checkbox:!1,showPagination:!1,onSort:T},{columns:_(()=>[n(f,{name:F._lang.common.organization,fieldSort:"organizationId",field:"organizationName",sortable:!0},null,8,["name"]),n(f,{name:F._lang.backoffice.entities.relationshipType,field:"organizationRelatedTypeName",fieldSort:"organizationRelatedTypeId",sortable:!0},null,8,["name"])]),actions:_(E=>[n(v,{id:t,onClick:N=>C(E.item),disabled:l.disabled},null,8,["onClick","disabled"])]),_:1},8,["data","loading"])]),_:1},8,["title"]),n(Be,{modelValue:e(c),"onUpdate:modelValue":s[0]||(s[0]=E=>L(c)?c.value=E:null)},null,8,["modelValue"]),n(V,{id:t,title:F._lang.backoffice.entities.deleteOrganizationRelated,message:F._lang.backoffice.entities.deleteOrganizationRelatedQuestion,action:z},null,8,["title","message"])],64)}}},Le={__name:"general",props:{modelValue:{type:Object,required:!0},selectedLang:Ie,disabled:{Boolean,default:!0},rules:{Boolean,default:!0},validateForm:{Boolean,default:!1},loading:{Object,default:{}},vuelidate:{Object,default:null}},setup(y){const d=y,l=j(),m=O({get(){return d.modelValue},set(t){emit("update:modelValue",t)}}),b=O(()=>d.selectedLang),i=O(()=>d.selectedLang===r.language.en);return(t,c)=>(k(),ee(ae,null,[n(fe,{modelValue:e(m),"onUpdate:modelValue":c[0]||(c[0]=o=>L(m)?m.value=o:null),store:e(l)},null,8,["modelValue","store"]),n(e(Ce),{modelValue:e(m),"onUpdate:modelValue":c[1]||(c[1]=o=>L(m)?m.value=o:null),disabled:d.disabled,loading:y.loading,selectedLang:e(b),validateForm:d.validateForm,rules:d.rules},null,8,["modelValue","disabled","loading","selectedLang","validateForm","rules"]),n(e(Fe),{modelValue:e(m),"onUpdate:modelValue":c[2]||(c[2]=o=>L(m)?m.value=o:null),disabled:d.disabled,loading:y.loading,selectedLang:e(b),validateForm:d.validateForm,rules:d.rules},null,8,["modelValue","disabled","loading","selectedLang","validateForm","rules"]),n(e(Se),{modelValue:e(m),"onUpdate:modelValue":c[3]||(c[3]=o=>L(m)?m.value=o:null),disabled:d.disabled||e(i),loading:y.loading,validateForm:d.validateForm,rules:d.rules,selectedLang:e(b)},null,8,["modelValue","disabled","loading","validateForm","rules","selectedLang"]),n(e(we),{modelValue:e(m),"onUpdate:modelValue":c[4]||(c[4]=o=>L(m)?m.value=o:null),disabled:d.disabled||e(i),loading:y.loading,rules:d.rules,validateForm:d.validateForm,vuelidate:d.vuelidate},null,8,["modelValue","disabled","loading","rules","validateForm","vuelidate"]),n(e(se),{modelValue:e(m).contacts,"onUpdate:modelValue":c[5]||(c[5]=o=>e(m).contacts=o),disabled:d.disabled||e(i),modal:de,store:e(l),loading:y.loading},null,8,["modelValue","disabled","store","loading"]),n(e(Ne),{modelValue:e(m).organizationRelated,"onUpdate:modelValue":c[6]||(c[6]=o=>e(m).organizationRelated=o),disabled:d.disabled||e(i),loading:y.loading},null,8,["modelValue","disabled","loading"]),n(e(ye),{modelValue:e(m),"onUpdate:modelValue":c[7]||(c[7]=o=>L(m)?m.value=o:null),disabled:d.disabled,loading:y.loading,selectedLang:e(b),rules:d.rules.baseInformations},null,8,["modelValue","disabled","loading","selectedLang","rules"]),n(_e,{modelValue:e(m),"onUpdate:modelValue":c[8]||(c[8]=o=>L(m)?m.value=o:null),disabled:d.disabled,loading:y.loading,selectedLang:e(b)},null,8,["modelValue","disabled","loading","selectedLang"])],64))}},he={__name:"points-of-care",props:{organizationId:{type:[Number,String],required:!0},organizationVersion:{type:[Number,String],required:!0},disabled:{Boolean,default:!0}},setup(y){const d=y,l=S(Y.havePermission(r.permissions.organization.createEdit));W(async()=>{await T(),C.value=u.convertEnumToArray(m.enums.recordStateType),o.value=u.concatItemsBadge(C.value,w.recordStateTypeBadgeOptions)});const m=$(),b=Q();let i=S(!1),t=H(z()),c=S(u.createEmptyDataSource()),o=S([]),C=S([]);function z(){return{pageNumber:0,sortBy:"Code",code:null,channelTypeIds:null,abreviation:null,name:null,organization:{id:d.organizationId,version:null},organizationHostId:null,recordStateIds:null,active:!0}}async function T(){i.value=!0;let a=await le.search(t);u.validateResponse(a,null,()=>{c.value=a.data}),i.value=!1}async function F(a){t.sortBy=a,await T()}async function s(a){t.pageNumber=a,await T()}function I(a){b.push({name:P.router.BACKOFFICE_DETAIL_POINT_OF_CARE_PAGE.name,params:{pointOfCareId:u.encodeId(a.pointOfCareId),pointOfCareVersion:u.encodeId(a.pointOfCareVersion)}})}async function f(){i.value=!0;const a={id:d.organizationId,version:d.organizationVersion},V=await le.create(Ve.newForm(a));u.validateResponseAsync(V,null,async()=>{const E=u.encodeId(V.data.pointOfCareId),N=u.encodeId(V.data.pointOfCareVersion);b.push({name:P.router.BACKOFFICE_EDIT_ENTITY_POINT_OF_CARE_PAGE.name,params:{pointOfCareId:E,pointOfCareVersion:N,organizationId:u.encodeId(d.organizationId),organizationVersion:u.encodeId(d.organizationVersion)}})}),i.value=!1}function v(a){b.push({name:P.router.BACKOFFICE_EDIT_ENTITY_POINT_OF_CARE_PAGE.name,params:{pointOfCareId:u.encodeId(a.pointOfCareId),pointOfCareVersion:u.encodeId(a.pointOfCareVersion),organizationId:u.encodeId(d.organizationId),organizationVersion:u.encodeId(d.organizationVersion)}})}return(a,V)=>{const E=p("cbutton"),N=p("table-actions"),g=p("ccolumn"),q=p("table-action-edit"),R=p("table-action-detail"),D=p("ctable"),U=p("container-wrapper");return k(),A(U,null,{default:_(()=>[l.value?(k(),A(N,{key:0},{default:_(()=>[n(E,{class:"col-12 col-sm-auto",type:e(r).buttonType.secondary,size:e(r).buttonSize.medium,title:a._lang.common.toAdd,icon:K,onClick:f},null,8,["type","size","title"])]),_:1})):h("",!0),n(D,{onSort:F,onChangePage:s,data:e(c),checkbox:!1,loading:e(i),defaultSort:"pointOfCareId"},{columns:_(()=>[n(g,{name:a._lang.label.code,field:"code",sortable:!0},null,8,["name"]),n(g,{name:a._lang.label.channelTypeId,field:"channelType",sortField:"channelTypeId",sortable:!0},null,8,["name"]),n(g,{name:a._lang.label.abreviation,field:"abreviation",sortable:!0},null,8,["name"]),n(g,{name:a._lang.label.name,field:"name",sortable:!0},null,8,["name"]),n(g,{name:a._lang.label.hostOrganization,field:"organizationHost",sortField:"organizationHostId",sortable:!0},null,8,["name"]),n(g,{name:a._lang.label.state,field:"recordStateTypeId",sortField:"recordStateTypeId",align:e(r).columnAlign.center,custom:J,options:e(o),sortable:!0},null,8,["name","align","options"])]),actions:_(B=>[B.item.recordStateTypeId==e(r).recordStateType.draft?(k(),A(q,{key:0,onClick:M=>v(B.item)},null,8,["onClick"])):h("",!0),B.item.recordStateTypeId>e(r).recordStateType.draft?(k(),A(R,{key:1,onClick:M=>I(B.item)},null,8,["onClick"])):h("",!0)]),_:1},8,["data","loading"])]),_:1})}}},Pe={__name:"services",props:{organizationId:{type:[Number,String],required:!0},organizationVersion:{type:[Number,String],required:!0},disabled:{Boolean,default:!0}},setup(y){const d=y,l=S(Y.havePermission(r.permissions.organization.createEdit));W(async()=>{await T(),C.value=u.convertEnumToArray(m.enums.recordStateType),o.value=u.concatItemsBadge(C.value,w.recordStateTypeBadgeOptions)});const m=$(),b=Q();let i=S(!1),t=H(z()),c=S(u.createEmptyDataSource()),o=S([]),C=S([]);function z(){return{pageNumber:0,sortBy:"Code",code:null,channelTypeIds:null,abreviation:null,name:null,organization:{id:d.organizationId,version:null},organizationHostId:null,recordStateIds:null,active:!0}}async function T(){i.value=!0;let a=await oe.search(t);u.validateResponse(a,null,()=>{c.value=a.data}),i.value=!1}async function F(a){t.sortBy=a,await T()}async function s(a){t.pageNumber=a,await T()}function I(a){b.push({name:P.router.BACKOFFICE_DETAIL_SERVICE_PAGE.name,params:{serviceId:u.encodeId(a.serviceId),serviceVersion:u.encodeId(a.serviceVersion)}})}async function f(){i.value=!0;const a={id:d.organizationId,version:d.organizationVersion},V=await oe.create(ze.newForm(a));u.validateResponseAsync(V,null,async()=>{const E=u.encodeId(V.data.serviceId),N=u.encodeId(V.data.serviceVersion);b.push({name:P.router.BACKOFFICE_EDIT_ENTITY_SERVICE_PAGE.name,params:{serviceId:E,serviceVersion:N,organizationId:u.encodeId(d.organizationId),organizationVersion:u.encodeId(d.organizationVersion)}})}),i.value=!1}function v(a){b.push({name:P.router.BACKOFFICE_EDIT_ENTITY_SERVICE_PAGE.name,params:{serviceId:u.encodeId(a.serviceId),serviceVersion:u.encodeId(a.serviceVersion),organizationId:u.encodeId(d.organizationId),organizationVersion:u.encodeId(d.organizationVersion)}})}return(a,V)=>{const E=p("cbutton"),N=p("table-actions"),g=p("ccolumn"),q=p("table-action-edit"),R=p("table-action-detail"),D=p("ctable"),U=p("container-wrapper");return k(),A(U,null,{default:_(()=>[l.value?(k(),A(N,{key:0},{default:_(()=>[n(E,{class:"col-12 col-sm-auto",type:e(r).buttonType.secondary,size:e(r).buttonSize.medium,title:a._lang.common.toAdd,icon:K,onClick:f},null,8,["type","size","title"])]),_:1})):h("",!0),n(D,{onSort:F,onChangePage:s,data:e(c),checkbox:!1,loading:e(i),defaultSort:"code"},{columns:_(()=>[n(g,{name:a._lang.label.code,field:"code",sortable:!0},null,8,["name"]),n(g,{name:a._lang.label.serviceTypeId,field:"serviceType",sortField:"serviceTypeId",sortable:!0},null,8,["name"]),n(g,{name:a._lang.label.abreviation,field:"abreviation",sortable:!0},null,8,["name"]),n(g,{name:a._lang.label.name,field:"name",sortable:!0},null,8,["name"]),n(g,{name:a._lang.label.state,field:"recordStateTypeId",align:e(r).columnAlign.center,custom:J,options:e(o),sortable:!0},null,8,["name","align","options"])]),actions:_(B=>[B.item.recordStateTypeId==e(r).recordStateType.draft?(k(),A(q,{key:0,onClick:M=>v(B.item)},null,8,["onClick"])):h("",!0),B.item.recordStateTypeId>e(r).recordStateType.draft?(k(),A(R,{key:1,onClick:M=>I(B.item)},null,8,["onClick"])):h("",!0)]),_:1},8,["data","loading"])]),_:1})}}},$e={__name:"documents",props:{organizationId:{type:[Number,String],required:!0},organizationVersion:{type:[Number,String],required:!0},disabled:{Boolean,default:!0}},setup(y){const d=y,l=S(Y.havePermission(r.permissions.organization.createEdit));W(async()=>{await T(),C.value=u.convertEnumToArray(m.enums.recordStateType),o.value=u.concatItemsBadge(C.value,w.recordStateTypeBadgeOptions)});const m=$(),b=Q();let i=S(!1),t=H(z()),c=S(u.createEmptyDataSource()),o=S([]),C=S([]);function z(){return{pageNumber:0,sortBy:"Code",code:null,documentTypeIds:null,abreviation:null,name:null,recordStateIds:null,active:!0,organization:{id:d.organizationId,version:null}}}async function T(){i.value=!0;let a=await ne.search(t);u.validateResponse(a,null,()=>{c.value=a.data}),i.value=!1}async function F(a){t.sortBy=a,await T()}async function s(a){t.pageNumber=a,await T()}function I(a){b.push({name:P.router.BACKOFFICE_DETAIL_DOCUMENT_PAGE.name,params:{documentId:u.encodeId(a.documentId),documentVersion:u.encodeId(a.documentVersion)}})}async function f(){i.value=!0;const a={id:d.organizationId,version:d.organizationVersion},V=await ne.create(Te.newForm(a));u.validateResponseAsync(V,null,async()=>{const E=u.encodeId(V.data.documentId),N=u.encodeId(V.data.documentVersion);b.push({name:P.router.BACKOFFICE_EDIT_ENTITY_DOCUMENT_PAGE.name,params:{documentId:E,documentVersion:N,organizationId:u.encodeId(d.organizationId),organizationVersion:u.encodeId(d.organizationVersion)}})}),i.value=!1}function v(a){b.push({name:P.router.BACKOFFICE_EDIT_ENTITY_DOCUMENT_PAGE.name,params:{documentId:u.encodeId(a.documentId),documentVersion:u.encodeId(a.documentVersion),organizationId:u.encodeId(d.organizationId),organizationVersion:u.encodeId(d.organizationVersion)}})}return(a,V)=>{const E=p("cbutton"),N=p("table-actions"),g=p("ccolumn"),q=p("table-action-edit"),R=p("table-action-detail"),D=p("ctable"),U=p("container-wrapper");return k(),A(U,null,{default:_(()=>[l.value?(k(),A(N,{key:0},{default:_(()=>[n(E,{class:"col-12 col-sm-auto",type:e(r).buttonType.secondary,size:e(r).buttonSize.medium,title:a._lang.common.toAdd,icon:K,onClick:f},null,8,["type","size","title"])]),_:1})):h("",!0),n(D,{onSort:F,onChangePage:s,data:e(c),checkbox:!1,loading:e(i),defaultSort:"code"},{columns:_(()=>[n(g,{name:a._lang.label.code,field:"code",sortable:!0},null,8,["name"]),n(g,{name:a._lang.label.documentTypeId,field:"documentType",sortField:"documentTypeId",sortable:!0},null,8,["name"]),n(g,{name:a._lang.label.abreviation,field:"abreviation",sortable:!0},null,8,["name"]),n(g,{name:a._lang.label.name,field:"name",sortable:!0},null,8,["name"]),n(g,{name:a._lang.label.state,field:"recordStateTypeId",align:e(r).columnAlign.center,custom:J,options:e(o),sortable:!0},null,8,["name","align","options"])]),actions:_(B=>[B.item.recordStateTypeId==e(r).recordStateType.draft?(k(),A(q,{key:0,onClick:M=>v(B.item)},null,8,["onClick"])):h("",!0),B.item.recordStateTypeId>e(r).recordStateType.draft?(k(),A(R,{key:1,onClick:M=>I(B.item)},null,8,["onClick"])):h("",!0)]),_:1},8,["data","loading"])]),_:1})}}},qe={__name:"sub-entities",props:{organizationId:{type:[Number,String],required:!0},organizationVersion:{type:[Number,String],required:!0},disabled:{Boolean,default:!0}},setup(y){const d=y,l=S(Y.havePermission(r.permissions.organization.createEdit));W(async()=>{await T(),C.value=u.convertEnumToArray(m.enums.recordStateType),o.value=u.concatItemsBadge(C.value,w.recordStateTypeBadgeOptions)});const m=$(),b=Q();let i=S(!1),t=H(z()),c=S(u.createEmptyDataSource()),o=S([]),C=S([]);function z(){return{pageNumber:0,sortBy:"Code",parentOrganization:{id:d.organizationId,version:null},active:!0}}async function T(){i.value=!0;let a=await te.search(t);u.validateResponse(a,null,()=>{c.value=a.data}),i.value=!1}async function F(a){t.sortBy=a,await T()}async function s(a){t.pageNumber=a,await T()}function I(a){b.push({name:P.router.BACKOFFICE_DETAIL_ENTITY_PAGE.name,params:{organizationId:u.encodeId(a.organizationId),organizationVersion:u.encodeId(a.organizationVersion)}})}async function f(){i.value=!0;const a={id:d.organizationId,version:d.organizationVersion},V=await te.create(ie.newForm(a));u.validateResponseAsync(V,null,async()=>{b.push({name:P.router.BACKOFFICE_EDIT_ENTITY_PAGE.name,params:{organizationId:u.encodeId(V.data.organizationId),organizationVersion:u.encodeId(V.data.organizationVersion)}})}),i.value=!1}function v(a){b.push({name:P.router.BACKOFFICE_EDIT_ENTITY_PAGE.name,params:{organizationId:u.encodeId(a.organizationId),organizationVersion:u.encodeId(a.organizationVersion)}})}return(a,V)=>{const E=p("cbutton"),N=p("table-actions"),g=p("ccolumn"),q=p("table-action-edit"),R=p("table-action-detail"),D=p("ctable"),U=p("container-wrapper");return k(),A(U,null,{default:_(()=>[l.value?(k(),A(N,{key:0},{default:_(()=>[n(E,{class:"col-12 col-sm-auto",type:e(r).buttonType.secondary,size:e(r).buttonSize.medium,title:a._lang.common.toAdd,icon:K,onClick:f},null,8,["type","size","title"])]),_:1})):h("",!0),n(D,{onSort:F,onChangePage:s,data:e(c),checkbox:!1,loading:e(i),defaultSort:"code"},{columns:_(()=>[n(g,{name:a._lang.label.code,field:"code",sortable:!0},null,8,["name"]),n(g,{name:a._lang.label.organizationTypeId,field:"organizationType",sortField:"organizationTypeId",sortable:!0},null,8,["name"]),n(g,{name:a._lang.label.abreviation,field:"abreviation",sortable:!0},null,8,["name"]),n(g,{name:a._lang.common.name,field:"name",sortable:!0},null,8,["name"]),n(g,{name:a._lang.label.parentOrganization,field:"organizationParent",sortField:"organizationParentId",sortable:!0},null,8,["name"]),n(g,{name:a._lang.common.state,field:"recordStateTypeId",align:e(r).columnAlign.center,custom:J,options:e(o),sortable:!0},null,8,["name","align","options"])]),actions:_(B=>[B.item.recordStateTypeId==e(r).recordStateType.draft?(k(),A(q,{key:0,onClick:M=>v(B.item)},null,8,["onClick"])):h("",!0),B.item.recordStateTypeId>e(r).recordStateType.draft?(k(),A(R,{key:1,onClick:M=>I(B.item)},null,8,["onClick"])):h("",!0)]),_:1},8,["data","loading"])]),_:1})}}},la={__name:"form",props:{formModel:{Object,required:!0},selectedLang:{type:[Number,String],required:!0},loading:{type:Boolean,required:!0},disabled:{type:Boolean,required:!0},validateForm:{type:Boolean,required:!0},rules:{type:Object,required:!0},organizationId:{type:[Number,String],required:!0},organizationVersion:{type:[Number,String],required:!0},progressValue:{type:[Number],required:!1},showProgress:{type:Boolean,default:!0},vuelidate:{Object,default:null}},emits:["update:formModel"],setup(y,{emit:d}){const l=y,m=O({get(){return l.formModel},set(b){d("update:formModel",b)}});return(b,i)=>{const t=p("progress-bar"),c=p("container-wrapper"),o=p("tab-content"),C=p("tabs");return k(),A(C,null,{default:_(()=>[n(o,{id:"general",title:b._lang.common.general,active:!0},{default:_(()=>[n(c,{"margin-top":!1},{default:_(()=>[l.showProgress?(k(),A(t,{key:0,value:l.progressValue,label:b._lang.common.fill,class:"mb-4 col-12 float-end"},null,8,["value","label"])):h("",!0)]),_:1}),n(Le,{modelValue:e(m),"onUpdate:modelValue":i[0]||(i[0]=z=>L(m)?m.value=z:null),disabled:l.disabled,loading:l.loading,selectedLang:l.selectedLang,validateForm:l.validateForm,rules:l.rules,vuelidate:l.vuelidate},null,8,["modelValue","disabled","loading","selectedLang","validateForm","rules","vuelidate"])]),_:1},8,["title"]),n(o,{id:"pontosatendimento",title:b._lang.backoffice.menu.servicePoints,active:!1,disabled:!1},{default:_(()=>[n(he,{organizationId:y.organizationId,organizationVersion:y.organizationVersion,disabled:l.disabled},null,8,["organizationId","organizationVersion","disabled"])]),_:1},8,["title"]),n(o,{id:"servicos",title:b._lang.backoffice.menu.services,active:!1,disabled:!1},{default:_(()=>[n(Pe,{organizationId:y.organizationId,organizationVersion:y.organizationVersion,disabled:l.disabled},null,8,["organizationId","organizationVersion","disabled"])]),_:1},8,["title"]),n(o,{id:"documentos",title:b._lang.backoffice.menu.documents,active:!1,disabled:!1},{default:_(()=>[n($e,{organizationId:y.organizationId,organizationVersion:y.organizationVersion,disabled:l.disabled},null,8,["organizationId","organizationVersion","disabled"])]),_:1},8,["title"]),n(o,{id:"sub-entities",title:b._lang.backoffice.menu.subEntities,active:!1,disabled:!1},{default:_(()=>[n(qe,{organizationId:y.organizationId,organizationVersion:y.organizationVersion,disabled:l.disabled},null,8,["organizationId","organizationVersion","disabled"])]),_:1},8,["title"])]),_:1})}}};export{la as _};
