import{_ as te,a as ie,b as de}from"./contacts-6a9568fc.js";import{z as q,r as F,G as E,u as m,N as j,i as s,b,o as A,l as w,w as _,e as o,g as e,D as L,_ as re,c as Z,d as J,O as se,P as ue,F as x,M as ce,a as G,Q as X,R as me,S as H,T as ge,J as K,s as Y,K as W,B as h,x as $}from"./index-5b4ebf84.js";import{u as M}from"./organization-cd538fe2.js";import{u as Q}from"./index.esm-65642301.js";import{b as B}from"./helpers-4796f1a9.js";import{_ as pe}from"./address-167772ff.js";import{o as ne}from"./helpers-991a1d67.js";import{_ as be,a as fe}from"./refusal-5d03193c.js";import{r as ve}from"./index.esm-85573352.js";import{_ as ye}from"./generic-74ec479d.js";import{p as ee}from"./point-of-care-11ca6bee.js";import{p as Ie}from"./helpers-56107f9e.js";import{s as ae}from"./service-09bdae54.js";import{s as _e}from"./helpers-28a0442c.js";import{d as le}from"./document-07880ad5.js";import{d as Ve}from"./helpers-138c884f.js";import{o as oe}from"./organization-acc3daab.js";const ze={__name:"base-information",props:{modelValue:{type:Object,required:!0},disabled:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},validateForm:{type:Boolean,default:!1},selectedLang:{type:[String,Number],required:!0},rules:{type:Object,default:{}}},emits:["update:modelValue"],setup(y,{emit:u}){const l=y,d=M(),p=q(),r=Q(l.rules,l.modelValue);let t=F(!0),g=F(!1);const n=E({get(){return l.modelValue},set(a){u("update:modelValue",a)}}),C=E(()=>m.convertEnumToArray(p.enums.groupType)),f=E(()=>l.selectedLang),k=E({get(){return B.getFieldByLangAndName(n.value,f.value,"abreviation")},set(a){B.setFieldByLangAndName(n.value,f.value,"abreviation",a)}}),V=E({get(){return B.getFieldByLangAndName(n.value,f.value,"name")},set(a){B.setFieldByLangAndName(n.value,f.value,"name",a)}});j(()=>n.value.groupName,()=>{I()}),j(()=>r.value.$error,()=>{r.value.$error&&(t.value=!0)}),j(()=>n.value.startDate,()=>{n.value.endDate=null});let c=F([]);function I(){switch(g.value=!1,n.value.groupName||(n.value.organizationTypeId=null),n.value.groupName){case s.organizationGroupType.notApplicable:case s.organizationGroupType.folder:c.value=[{label:p.enums.objectType[1],value:1}],n.value.organizationTypeId=1,g.value=!0;break;case s.organizationGroupType.regionalPublicAdministration:c.value=d.organizationRegionalPublicAdministrationTypeList;break;case s.organizationGroupType.localAuthorities:c.value=d.organizationLocalAuthoritiesTypeList;break;case s.organizationGroupType.legislativeAssembly:c.value=d.organizationLegislativeAssemblyTypeList;break;case s.organizationGroupType.regionalPublicBusinessSector:c.value=d.organizationRegionalPublicBusinessSectorTypeList;break}}E(()=>l.modelValue.recordStateTypeId);const v=E(()=>l.selectedLang===s.language.en);return(a,i)=>{const T=b("form-field"),O=b("row"),S=b("accordion");return A(),w(S,{id:"base-information",title:a._lang.common.baseInformation,collapsed:e(t),class:"mb-4"},{default:_(()=>[o(O,null,{default:_(()=>[o(T,{id:"code",class:"mb-3 col-12 col-md-6 col-lg-4",modelValue:e(n).code,"onUpdate:modelValue":i[0]||(i[0]=z=>e(n).code=z),label:a._lang.label.entityCode,disabled:!0,loading:l.loading,type:e(s).inputs.text,maxlength:45,required:l.validateForm,showError:l.validateForm&&e(r).code.$error,"error-message":a._errorMessageField(e(r).code)},null,8,["modelValue","label","loading","type","required","showError","error-message"]),o(T,{id:"state",class:"mb-3 col-12 col-md-6 col-lg-4",modelValue:a._lang.enums.recordStateType[e(n).recordStateTypeId],"onUpdate:modelValue":i[1]||(i[1]=z=>a._lang.enums.recordStateType[e(n).recordStateTypeId]=z),label:a._lang.label.state,disabled:!0,loading:l.loading,type:e(s).inputs.text},null,8,["modelValue","label","loading","type"]),o(T,{id:"nipc",class:"mb-3 col-12 col-lg-4",modelValue:e(n).nipc,"onUpdate:modelValue":i[2]||(i[2]=z=>e(n).nipc=z),label:a._lang.label.nipc,disabled:l.disabled||e(v),loading:l.loading,type:e(s).inputs.text,maxlength:9,required:l.validateForm,placeholder:"ex: 123456789",showError:l.validateForm&&e(r).nipc.$error,"error-message":a._errorMessageField(e(r).nipc)},null,8,["modelValue","label","disabled","loading","type","required","showError","error-message"])]),_:1}),o(O,null,{default:_(()=>[o(T,{id:"groupName",class:"mb-3 col-12 col-md-6 col-lg-4",modelValue:e(n).groupName,"onUpdate:modelValue":i[3]||(i[3]=z=>e(n).groupName=z),label:a._lang.label.groupName,disabled:l.disabled||e(v),loading:l.loading,type:e(s).inputs.multiselect,options:e(C),required:l.validateForm,showError:l.validateForm&&e(r).groupName.$error,"error-message":a._errorMessageField(e(r).groupName)},null,8,["modelValue","label","disabled","loading","type","options","required","showError","error-message"]),o(T,{id:"organizationTypeId",class:"mb-3 col-12 col-md-6 col-lg-4",modelValue:e(n).organizationTypeId,"onUpdate:modelValue":i[4]||(i[4]=z=>e(n).organizationTypeId=z),label:a._lang.label.organizationTypeId,disabled:l.disabled||!e(n).groupName||e(v)||e(g),loading:l.loading,type:e(s).inputs.multiselect,options:e(c),required:l.validateForm,showError:l.validateForm&&e(r).organizationTypeId.$error,"error-message":a._errorMessageField(e(r).organizationTypeId)},null,8,["modelValue","label","disabled","loading","type","options","required","showError","error-message"]),o(T,{id:"abreviation",class:"mb-3 col-12 col-lg-4",modelValue:e(k),"onUpdate:modelValue":i[5]||(i[5]=z=>L(k)?k.value=z:null),label:a._lang.label.abreviation,disabled:l.disabled,loading:l.loading,type:e(s).inputs.text,maxlength:45,language:e(f)},null,8,["modelValue","label","disabled","loading","type","language"])]),_:1}),o(O,null,{default:_(()=>[o(T,{id:"name",class:"mb-3 col-12",modelValue:e(V),"onUpdate:modelValue":i[6]||(i[6]=z=>L(V)?V.value=z:null),label:a._lang.label.name,disabled:l.disabled,loading:l.loading,type:e(s).inputs.text,maxlength:255,required:l.validateForm,showError:l.validateForm&&a._showErrorFieldWhenTexts(e(r).texts,"name"),"error-message":a._errorMessageFieldWhenTexts(e(r).texts,"name"),language:e(f)},null,8,["modelValue","label","disabled","loading","type","required","showError","error-message","language"])]),_:1}),o(O,null,{default:_(()=>[o(T,{id:"parentOrganization",class:"mb-3 col-12 col-lg-4",modelValue:e(n).parentOrganization,"onUpdate:modelValue":i[7]||(i[7]=z=>e(n).parentOrganization=z),label:a._lang.label.parentOrganization,disabled:l.disabled||e(v),loading:l.loading,type:e(s).inputs.multiselect,required:l.validateForm,placeholder:a._lang.common.selectOption,showError:l.validateForm&&e(r).parentOrganization.$error,"error-message":a._errorMessageField(e(r).parentOrganization),options:e(d).organizationList,valueProp:e(s).multiselectValueProp.value3},null,8,["modelValue","label","disabled","loading","type","required","placeholder","showError","error-message","options","valueProp"]),o(T,{id:"startDate",class:"mb-3 col-12 col-md-6 col-lg-4",modelValue:e(n).startDate,"onUpdate:modelValue":i[8]||(i[8]=z=>e(n).startDate=z),label:a._lang.label.startDate,disabled:l.disabled||e(v),loading:l.loading,type:e(s).inputs.datepicker,required:l.validateForm,placeholder:"dd/mm/aaaa",showError:l.validateForm&&e(r).startDate.$error,"error-message":a._errorMessageField(e(r).startDate)},null,8,["modelValue","label","disabled","loading","type","required","showError","error-message"]),o(T,{id:"endDate",class:"mb-3 col-12 col-md-6 col-lg-4",modelValue:e(n).endDate,"onUpdate:modelValue":i[9]||(i[9]=z=>e(n).endDate=z),label:a._lang.label.endDate,disabled:l.disabled||e(v),loading:l.loading,type:e(s).inputs.datepicker,placeholder:"dd/mm/aaaa",minDate:e(n).startDate},null,8,["modelValue","label","disabled","loading","type","minDate"]),o(T,{id:"organizationPublic",class:"mb-3 col-12 col-lg-4",modelValue:e(n).organizationPublic,"onUpdate:modelValue":i[10]||(i[10]=z=>e(n).organizationPublic=z),label:a._lang.label.public,disabled:l.disabled||e(v),loading:l.loading,type:e(s).inputs.checkbox},null,8,["modelValue","label","disabled","loading","type"]),o(T,{id:"canHavePointsOfCare'.",class:"mb-3 col-12 col-lg-4",modelValue:e(n).canHavePointsOfCare,"onUpdate:modelValue":i[11]||(i[11]=z=>e(n).canHavePointsOfCare=z),label:a._lang.label.canHavePointsOfCare,disabled:l.disabled||e(v),loading:l.loading,type:e(s).inputs.checkbox},null,8,["modelValue","label","disabled","loading","type"]),o(T,{id:"canHaveServices",class:"mb-3 col-12 col-lg-4",modelValue:e(n).canHaveServices,"onUpdate:modelValue":i[12]||(i[12]=z=>e(n).canHaveServices=z),label:a._lang.label.canHaveServices,disabled:l.disabled||e(v),loading:l.loading,type:e(s).inputs.checkbox},null,8,["modelValue","label","disabled","loading","type"])]),_:1})]),_:1},8,["title","collapsed"])}}},Te={__name:"description",props:{modelValue:{type:Object,required:!0},disabled:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},selectedLang:{type:[String,Number],required:!0},validateForm:{type:Boolean,default:!1},rules:{type:Object,default:{}}},emits:["update:modelValue"],setup(y,{emit:u}){const l=y,d=M(),p=Q(l.rules,l.modelValue),r=E({get(){return l.modelValue},set(c){u("update:modelValue",c)}}),t=E(()=>l.selectedLang),g=E({get(){return B.getFieldByLangAndName(r.value,t.value,"description")},set(c){B.setFieldByLangAndName(r.value,t.value,"description",c)}}),n=E({get(){return B.getFieldByLangAndName(r.value,t.value,"legislation")},set(c){B.setFieldByLangAndName(r.value,t.value,"legislation",c)}}),C=E({get(){return B.getFieldByLangAndName(r.value,t.value,"mission")},set(c){B.setFieldByLangAndName(r.value,t.value,"mission",c)}}),f=E({get(){return B.getFieldByLangAndName(r.value,t.value,"managerRoleDescription")},set(c){B.setFieldByLangAndName(r.value,t.value,"managerRoleDescription",c)}}),k=E({get(){return B.getFieldByLangAndName(r.value,t.value,"keywords")},set(c){B.setFieldByLangAndName(r.value,t.value,"keywords",c)}}),V=E(()=>l.selectedLang===s.language.en);return(c,I)=>{const v=b("form-field"),a=b("accordion");return A(),w(a,{id:"description",title:c._lang.common.description,collapsed:!1,class:"mb-4"},{default:_(()=>[o(v,{id:"economicActivityId",class:"mb-3 col-12",modelValue:e(r).economicActivityId,"onUpdate:modelValue":I[0]||(I[0]=i=>e(r).economicActivityId=i),label:c._lang.label.economicActivityId,disabled:l.disabled||e(V),loading:l.loading,type:e(s).inputs.multiselect,options:e(d).economicActivityList,required:l.validateForm,showError:l.validateForm&&e(p).economicActivityId.$error,"error-message":c._errorMessageField(e(p).economicActivityId)},null,8,["modelValue","label","disabled","loading","type","options","required","showError","error-message"]),o(v,{id:"description",class:"mb-3 col-12",modelValue:e(g),"onUpdate:modelValue":I[1]||(I[1]=i=>L(g)?g.value=i:null),label:c._lang.label.description,disabled:l.disabled,loading:l.loading,type:e(s).inputs.text,maxlength:255,language:e(t)},null,8,["modelValue","label","disabled","loading","type","language"]),o(v,{id:"legislation",class:"mb-3 col-12",modelValue:e(n),"onUpdate:modelValue":I[2]||(I[2]=i=>L(n)?n.value=i:null),label:c._lang.label.legislation,disabled:l.disabled,loading:l.loading,type:e(s).inputs.text,maxlength:255,language:e(t)},null,8,["modelValue","label","disabled","loading","type","language"]),o(v,{id:"mission",class:"mb-3 col-12",modelValue:e(C),"onUpdate:modelValue":I[3]||(I[3]=i=>L(C)?C.value=i:null),label:c._lang.label.mission,disabled:l.disabled,loading:l.loading,type:e(s).inputs.text,maxlength:255,language:e(t)},null,8,["modelValue","label","disabled","loading","type","language"]),o(v,{id:"managerRoleDescription",class:"mb-3 col-12",modelValue:e(f),"onUpdate:modelValue":I[4]||(I[4]=i=>L(f)?f.value=i:null),label:c._lang.label.managerRoleDescription,disabled:l.disabled,loading:l.loading,type:e(s).inputs.text,maxlength:255,language:e(t)},null,8,["modelValue","label","disabled","loading","type","language"]),o(v,{id:"keyWords",class:"mb-3 col-12",modelValue:e(k),"onUpdate:modelValue":I[5]||(I[5]=i=>L(k)?k.value=i:null),label:c._lang.label.keyWords,disabled:l.disabled,loading:l.loading,type:e(s).inputs.text,maxlength:255,language:e(t)},null,8,["modelValue","label","disabled","loading","type","language"]),o(v,{id:"logo",class:"mb-3 col-12",modelValue:e(r).icon,"onUpdate:modelValue":I[6]||(I[6]=i=>e(r).icon=i),label:c._lang.label.logo,disabled:l.disabled,loading:l.loading,type:e(s).inputs.file,required:!1,showPreview:!0,accept:".jpeg,.svg,.jpg"},null,8,["modelValue","label","disabled","loading","type"])]),_:1},8,["title"])}}},Ce={__name:"territorial-scope",props:{modelValue:{type:Object,required:!0},disabled:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},validateForm:{type:Boolean,default:!1},rules:{type:Object,default:{}}},emits:["update:modelValue"],setup(y,{emit:u}){const l=y,d=Q(l.rules,l.modelValue),p=M(),r=q(),t=E({get(){return l.modelValue},set(f){u("update:modelValue",f)}});let g=F([]),n=F(!1);j(()=>t.value.divisionTypeId,()=>{C()});function C(){(!t.value.divisionTypeId||n.value)&&(t.value.divisionId=null),t.value.divisionTypeId===s.divisionType.notApplicable?(t.value.divisionId=s.divisionType.notApplicable,g.value=[{label:r.enums.objectType[s.divisionType.notApplicable],value:s.divisionType.notApplicable}]):t.value.divisionTypeId===s.divisionType.island?g.value=p.divisionIslandList:t.value.divisionTypeId===s.divisionType.county?g.value=p.divisionCountyList:t.value.divisionTypeId===s.divisionType.parish&&(g.value=p.divisionParishList),n.value=!0}return(f,k)=>{const V=b("form-field"),c=b("row"),I=b("accordion");return A(),w(I,{id:"territorial-scope",title:f._lang.backoffice.entities.territorialScope,collapsed:!1,class:"mb-4"},{default:_(()=>[o(c,null,{default:_(()=>[o(V,{id:"divisionTypeId",class:"mb-3 col-12 col-md-6",modelValue:e(t).divisionTypeId,"onUpdate:modelValue":k[0]||(k[0]=v=>e(t).divisionTypeId=v),label:f._lang.label.divisionTypeId,disabled:l.disabled,loading:l.loading,type:e(s).inputs.multiselect,required:l.validateForm,showError:l.validateForm&&e(d).divisionTypeId.$error,"error-message":f._errorMessageField(e(d).divisionTypeId),options:e(p).divisionTypeList},null,8,["modelValue","label","disabled","loading","type","required","showError","error-message","options"]),o(V,{id:"divisionId",class:"mb-3 col-12 col-md-6",modelValue:e(t).divisionId,"onUpdate:modelValue":k[1]||(k[1]=v=>e(t).divisionId=v),label:f._lang.label.divisionId,disabled:l.disabled||e(t).divisionTypeId===e(s).notApplicable,loading:l.loading,type:e(s).inputs.multiselect,required:l.validateForm,showError:l.validateForm&&e(d).divisionId.$error,"error-message":f._errorMessageField(e(d).divisionId),options:e(g)},null,8,["modelValue","label","disabled","loading","type","required","showError","error-message","options"])]),_:1})]),_:1},8,["title"])}}};const Fe={class:"input-group mb-3"},Se=["aria-describedby"],ke=["id","disabled"],Oe={__name:"address",props:{modelValue:{type:Object,required:!0},disabled:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},validateForm:{type:Boolean,default:!1},rules:{type:Object,default:{}},vuelidate:{type:Object,default:null}},emits:["update:modelValue"],setup(y,{emit:u}){const l=y,d=M(),p=m.uuid();let r=F(0),t=F(0),g=F(null);const n=F(!1);F(!1);const C=E({get(){return l.modelValue},set(c){u("update:modelValue",c)}}),f="search-location";function k(c){Object.assign(C.value.address,c),r.value++,g.value.updateMap()}function V(){t.value++,window.setTimeout(function(){m.showModalById(f)},5)}return j(C.value,c=>{c.address.locationId!=null&&(n.value?(c.address.locationId=null,c.address.code=null,n.value=!1):n.value=!0)}),(c,I)=>{const v=b("icon-search"),a=b("accordion");return A(),Z(x,null,[o(a,{id:"address-accordion",title:c._lang.backoffice.entities.address,collapsed:!1,class:"mb-4"},{default:_(()=>[J("div",Fe,[se(J("input",{ref:"locationQuery",id:"location-query",type:"text",class:"form-control",placeholder:"Código do património","aria-label":"placeholder","aria-describedby":e(p),disabled:"","onUpdate:modelValue":I[0]||(I[0]=i=>e(C).address.code=i)},null,8,Se),[[ue,e(C).address.code]]),J("button",{class:"btn btn-primary",type:"button",id:e(p),disabled:l.disabled,onClick:V},[o(v,{color:"#FFF"})],8,ke)]),(A(),w(pe,{key:e(r),ref_key:"addressRef",ref:g,modelValue:e(C).address,"onUpdate:modelValue":I[1]||(I[1]=i=>e(C).address=i),disabled:l.disabled,rules:l.rules,loading:l.loading,"validate-form":l.validateForm,store:e(d),vuelidate:l.vuelidate},null,8,["modelValue","disabled","rules","loading","validate-form","store","vuelidate"]))]),_:1},8,["title"]),(A(),w(te,{key:e(t),onApply:k}))],64)}}},Ee=re(Oe,[["__scopeId","data-v-6f4869ba"]]),Ae={__name:"create",props:{modelValue:{type:Array,required:!0}},emits:["update:modelValue"],setup(y,{emit:u}){const l=y,d=M(),p=q();ce();const r="create-related-entity";let t=G(f()),g=F(!1);const n=Q(ne.organizationRelatedFormRules(),t,{$scope:!1}),C=E({get(){return l.modelValue},set(c){u("update:modelValue",c)}});function f(){return{organizationId:null,organizationRelatedTypeId:null}}function k(){t=Object.assign(t,f()),n.value.$reset()}async function V(){if(g.value=!0,await n.value.$validate(),!n.value.$error){const c={organizationId:t.organizationId,organizationName:B.getLabel(d.organizationList,t.organizationId),organizationRelatedTypeId:t.organizationRelatedTypeId,organizationRelatedTypeName:B.getLabel(d.organizationRelatedTypeList,t.organizationRelatedTypeId)};C.value.find(v=>v.organizationId===t.organizationId&&v.organizationRelatedTypeId===t.organizationRelatedTypeId)?X.warning(p.backoffice.entities.relatedOrganizationExists):(C.value.push(c),t=Object.assign(t,f()),n.value.$reset(),m.closeModalById(r),X.success(p.backoffice.entities.relatedOrganizationAdded))}g.value=!1}return(c,I)=>{const v=b("form-field"),a=b("row"),i=b("cbutton"),T=b("modal");return A(),w(T,{id:r,title:c._lang.backoffice.entities.addRelatedOrganizations,size:e(s).modalSize.extraLarge},{body:_(()=>[o(a,null,{default:_(()=>[o(v,{id:"name",class:"mb-3 mb-lg-0 col-12 col-md-12 col-lg-6",modelValue:e(t).organizationId,"onUpdate:modelValue":I[0]||(I[0]=O=>e(t).organizationId=O),label:c._lang.label.organization,loading:e(g),type:e(s).inputs.multiselect,required:!0,"show-error":e(n).organizationId.$error,"error-message":c._errorMessageField(e(n).organizationId),options:e(d).organizationList},null,8,["modelValue","label","loading","type","show-error","error-message","options"]),o(v,{id:"relationshipType",class:"mb-3 mb-lg-0 col-12 col-md-12 col-lg-6",modelValue:e(t).organizationRelatedTypeId,"onUpdate:modelValue":I[1]||(I[1]=O=>e(t).organizationRelatedTypeId=O),label:c._lang.label.relationshipType,loading:e(g),type:e(s).inputs.multiselect,required:!0,"show-error":e(n).organizationRelatedTypeId.$error,"error-message":c._errorMessageField(e(n).organizationRelatedTypeId),options:e(d).organizationRelatedTypeList},null,8,["modelValue","label","loading","type","show-error","error-message","options"])]),_:1})]),footer:_(()=>[o(i,{title:c._lang.common.cancel,type:e(s).buttonType.secondary,"data-bs-dismiss":"modal","aria-label":"Close",disabled:e(g),onClick:k},null,8,["title","type","disabled"]),o(i,{title:c._lang.common.save,onClick:V,disabled:e(g)},null,8,["title","disabled"])]),_:1},8,["title","size"])}}},Be={__name:"related-entities",props:{modelValue:{type:Array,required:!0},disabled:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},rules:{type:Object,default:{}},validateForm:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(y,{emit:u}){const l=y,d=q();let p=F(!1);const r=E(()=>m.createEmptyDataSource(g.value)),t="confirm-delete",g=E({get(){return l.modelValue},set(V){u("update:modelValue",V)}});let n=F(null);function C(V){n.value=V}function f(){n.value&&(m.removeItemOfArray(g.value,n),X.success(d.backoffice.entities.organizationRelatedRemoved),n.value=null)}function k(V){m.sortArrayOffline(V,r.value.items)}return(V,c)=>{const I=b("table-actions"),v=b("ccolumn"),a=b("table-action-delete"),i=b("ctable"),T=b("confirm-delete-modal");return A(),Z(x,null,[o(ge,{id:"related-entities",title:V._lang.backoffice.entities.relatedEntities,collapsed:!1,class:"mb-4"},{default:_(()=>[o(I,null,{default:_(()=>[o(me,{target:"create-related-entity",class:"d-inline",type:e(s).buttonType.secondary,title:V._lang.common.toAdd,disabled:l.disabled,icon:H},null,8,["type","title","disabled"])]),_:1}),o(i,{data:e(r),loading:e(p),checkbox:!1,showPagination:!1,onSort:k},{columns:_(()=>[o(v,{name:V._lang.common.organization,fieldSort:"organizationId",field:"organizationName",sortable:!0},null,8,["name"]),o(v,{name:V._lang.backoffice.entities.relationshipType,field:"organizationRelatedTypeName",fieldSort:"organizationRelatedTypeId",sortable:!0},null,8,["name"])]),actions:_(O=>[o(a,{id:t,onClick:S=>C(O.item),disabled:l.disabled},null,8,["onClick","disabled"])]),_:1},8,["data","loading"])]),_:1},8,["title"]),o(Ae,{modelValue:e(g),"onUpdate:modelValue":c[0]||(c[0]=O=>L(g)?g.value=O:null)},null,8,["modelValue"]),o(T,{id:t,title:V._lang.backoffice.entities.deleteOrganizationRelated,message:V._lang.backoffice.entities.deleteOrganizationRelatedQuestion,action:f},null,8,["title","message"])],64)}}},we={__name:"general",props:{modelValue:{type:Object,required:!0},selectedLang:ve,disabled:{Boolean,default:!0},rules:{Boolean,default:!0},validateForm:{Boolean,default:!1},loading:{Object,default:{}},vuelidate:{Object,default:null}},setup(y){const u=y,l=M(),d=E({get(){return u.modelValue},set(t){emit("update:modelValue",t)}}),p=E(()=>u.selectedLang),r=E(()=>u.selectedLang===s.language.en);return(t,g)=>(A(),Z(x,null,[o(be,{modelValue:e(d),"onUpdate:modelValue":g[0]||(g[0]=n=>L(d)?d.value=n:null),store:e(l)},null,8,["modelValue","store"]),o(e(ze),{modelValue:e(d),"onUpdate:modelValue":g[1]||(g[1]=n=>L(d)?d.value=n:null),disabled:u.disabled,loading:y.loading,selectedLang:e(p),validateForm:u.validateForm,rules:u.rules},null,8,["modelValue","disabled","loading","selectedLang","validateForm","rules"]),o(e(Te),{modelValue:e(d),"onUpdate:modelValue":g[2]||(g[2]=n=>L(d)?d.value=n:null),disabled:u.disabled,loading:y.loading,selectedLang:e(p),validateForm:u.validateForm,rules:u.rules},null,8,["modelValue","disabled","loading","selectedLang","validateForm","rules"]),o(e(Ce),{modelValue:e(d),"onUpdate:modelValue":g[3]||(g[3]=n=>L(d)?d.value=n:null),disabled:u.disabled||e(r),loading:y.loading,validateForm:u.validateForm,rules:u.rules,selectedLang:e(p)},null,8,["modelValue","disabled","loading","validateForm","rules","selectedLang"]),o(e(Ee),{modelValue:e(d),"onUpdate:modelValue":g[4]||(g[4]=n=>L(d)?d.value=n:null),disabled:u.disabled||e(r),loading:y.loading,rules:u.rules,validateForm:u.validateForm,vuelidate:u.vuelidate},null,8,["modelValue","disabled","loading","rules","validateForm","vuelidate"]),o(e(de),{modelValue:e(d).contacts,"onUpdate:modelValue":g[5]||(g[5]=n=>e(d).contacts=n),disabled:u.disabled||e(r),modal:ie,store:e(l),loading:y.loading},null,8,["modelValue","disabled","store","loading"]),o(e(Be),{modelValue:e(d).organizationRelated,"onUpdate:modelValue":g[6]||(g[6]=n=>e(d).organizationRelated=n),disabled:u.disabled||e(r),loading:y.loading},null,8,["modelValue","disabled","loading"]),o(e(fe),{modelValue:e(d),"onUpdate:modelValue":g[7]||(g[7]=n=>L(d)?d.value=n:null),disabled:u.disabled,loading:y.loading,selectedLang:e(p),rules:u.rules.baseInformations},null,8,["modelValue","disabled","loading","selectedLang","rules"]),o(ye,{modelValue:e(d),"onUpdate:modelValue":g[8]||(g[8]=n=>L(d)?d.value=n:null),disabled:u.disabled,loading:y.loading,selectedLang:e(p)},null,8,["modelValue","disabled","loading","selectedLang"])],64))}},Ne={__name:"points-of-care",props:{organizationId:{type:[Number,String],required:!0},organizationVersion:{type:[Number,String],required:!0},disabled:{Boolean,default:!0}},setup(y){const u=y;K(async()=>{await f(),n.value=m.convertEnumToArray(l.enums.recordStateType),g.value=m.concatItemsBadge(n.value,B.recordStateTypeBadgeOptions)});const l=q(),d=Y();let p=F(!1),r=G(C()),t=F(m.createEmptyDataSource()),g=F([]),n=F([]);function C(){return{pageNumber:0,sortBy:"Code",code:null,channelTypeIds:null,abreviation:null,name:null,organization:{id:u.organizationId,version:null},organizationHostId:null,recordStateIds:null,active:!0}}async function f(){p.value=!0;let a=await ee.search(r);m.validateResponse(a,null,()=>{t.value=a.data}),p.value=!1}async function k(a){r.sortBy=a,await f()}async function V(a){r.pageNumber=a,await f()}function c(a){d.push({name:$.router.BACKOFFICE_DETAIL_POINT_OF_CARE_PAGE.name,params:{pointOfCareId:m.encodeId(a.pointOfCareId),pointOfCareVersion:m.encodeId(a.pointOfCareVersion)}})}async function I(){p.value=!0;const a={id:u.organizationId,version:u.organizationVersion},i=await ee.create(Ie.newForm(a));m.validateResponseAsync(i,null,async()=>{const T=m.encodeId(i.data.pointOfCareId),O=m.encodeId(i.data.pointOfCareVersion);d.push({name:$.router.BACKOFFICE_EDIT_ENTITY_POINT_OF_CARE_PAGE.name,params:{pointOfCareId:T,pointOfCareVersion:O,organizationId:m.encodeId(u.organizationId),organizationVersion:m.encodeId(u.organizationVersion)}})}),p.value=!1}function v(a){d.push({name:$.router.BACKOFFICE_EDIT_ENTITY_POINT_OF_CARE_PAGE.name,params:{pointOfCareId:m.encodeId(a.pointOfCareId),pointOfCareVersion:m.encodeId(a.pointOfCareVersion),organizationId:m.encodeId(u.organizationId),organizationVersion:m.encodeId(u.organizationVersion)}})}return(a,i)=>{const T=b("cbutton"),O=b("table-actions"),S=b("ccolumn"),z=b("table-action-edit"),R=b("table-action-detail"),P=b("ctable"),D=b("container-wrapper");return A(),w(D,null,{default:_(()=>[o(O,{title:""},{default:_(()=>[o(T,{class:"col-12 col-sm-auto",type:e(s).buttonType.secondary,size:e(s).buttonSize.medium,title:a._lang.common.toAdd,icon:H,onClick:I},null,8,["type","size","title"])]),_:1}),o(P,{onSort:k,onChangePage:V,data:e(t),checkbox:!1,loading:e(p),defaultSort:"pointOfCareId"},{columns:_(()=>[o(S,{name:a._lang.label.code,field:"code",sortable:!0},null,8,["name"]),o(S,{name:a._lang.label.channelTypeId,field:"channelType",sortField:"channelTypeId",sortable:!0},null,8,["name"]),o(S,{name:a._lang.label.abreviation,field:"abreviation",sortable:!0},null,8,["name"]),o(S,{name:a._lang.label.name,field:"name",sortable:!0},null,8,["name"]),o(S,{name:a._lang.label.hostOrganization,field:"organizationHost",sortField:"organizationHostId",sortable:!0},null,8,["name"]),o(S,{name:a._lang.label.state,field:"recordStateTypeId",sortField:"recordStateTypeId",align:e(s).columnAlign.center,custom:W,options:e(g),sortable:!0},null,8,["name","align","options"])]),actions:_(N=>[N.item.recordStateTypeId==e(s).recordStateType.draft?(A(),w(z,{key:0,onClick:U=>v(N.item)},null,8,["onClick"])):h("",!0),N.item.recordStateTypeId>e(s).recordStateType.draft?(A(),w(R,{key:1,onClick:U=>c(N.item)},null,8,["onClick"])):h("",!0)]),_:1},8,["data","loading"])]),_:1})}}},Le={__name:"services",props:{organizationId:{type:[Number,String],required:!0},organizationVersion:{type:[Number,String],required:!0},disabled:{Boolean,default:!0}},setup(y){const u=y;K(async()=>{await f(),n.value=m.convertEnumToArray(l.enums.recordStateType),g.value=m.concatItemsBadge(n.value,B.recordStateTypeBadgeOptions)});const l=q(),d=Y();let p=F(!1),r=G(C()),t=F(m.createEmptyDataSource()),g=F([]),n=F([]);function C(){return{pageNumber:0,sortBy:"Code",code:null,channelTypeIds:null,abreviation:null,name:null,organization:{id:u.organizationId,version:null},organizationHostId:null,recordStateIds:null,active:!0}}async function f(){p.value=!0;let a=await ae.search(r);m.validateResponse(a,null,()=>{t.value=a.data}),p.value=!1}async function k(a){r.sortBy=a,await f()}async function V(a){r.pageNumber=a,await f()}function c(a){d.push({name:$.router.BACKOFFICE_DETAIL_SERVICE_PAGE.name,params:{serviceId:m.encodeId(a.serviceId),serviceVersion:m.encodeId(a.serviceVersion)}})}async function I(){p.value=!0;const a={id:u.organizationId,version:u.organizationVersion},i=await ae.create(_e.newForm(a));m.validateResponseAsync(i,null,async()=>{const T=m.encodeId(i.data.serviceId),O=m.encodeId(i.data.serviceVersion);d.push({name:$.router.BACKOFFICE_EDIT_ENTITY_SERVICE_PAGE.name,params:{serviceId:T,serviceVersion:O,organizationId:m.encodeId(u.organizationId),organizationVersion:m.encodeId(u.organizationVersion)}})}),p.value=!1}function v(a){d.push({name:$.router.BACKOFFICE_EDIT_ENTITY_SERVICE_PAGE.name,params:{serviceId:m.encodeId(a.serviceId),serviceVersion:m.encodeId(a.serviceVersion),organizationId:m.encodeId(u.organizationId),organizationVersion:m.encodeId(u.organizationVersion)}})}return(a,i)=>{const T=b("cbutton"),O=b("table-actions"),S=b("ccolumn"),z=b("table-action-edit"),R=b("table-action-detail"),P=b("ctable"),D=b("container-wrapper");return A(),w(D,null,{default:_(()=>[o(O,{title:""},{default:_(()=>[o(T,{class:"col-12 col-sm-auto",type:e(s).buttonType.secondary,size:e(s).buttonSize.medium,title:a._lang.common.toAdd,icon:H,onClick:I},null,8,["type","size","title"])]),_:1}),o(P,{onSort:k,onChangePage:V,data:e(t),checkbox:!1,loading:e(p),defaultSort:"code"},{columns:_(()=>[o(S,{name:a._lang.label.code,field:"code",sortable:!0},null,8,["name"]),o(S,{name:a._lang.label.serviceTypeId,field:"serviceType",sortField:"serviceTypeId",sortable:!0},null,8,["name"]),o(S,{name:a._lang.label.abreviation,field:"abreviation",sortable:!0},null,8,["name"]),o(S,{name:a._lang.label.name,field:"name",sortable:!0},null,8,["name"]),o(S,{name:a._lang.label.state,field:"recordStateTypeId",align:e(s).columnAlign.center,custom:W,options:e(g),sortable:!0},null,8,["name","align","options"])]),actions:_(N=>[N.item.recordStateTypeId==e(s).recordStateType.draft?(A(),w(z,{key:0,onClick:U=>v(N.item)},null,8,["onClick"])):h("",!0),N.item.recordStateTypeId>e(s).recordStateType.draft?(A(),w(R,{key:1,onClick:U=>c(N.item)},null,8,["onClick"])):h("",!0)]),_:1},8,["data","loading"])]),_:1})}}},$e={__name:"documents",props:{organizationId:{type:[Number,String],required:!0},organizationVersion:{type:[Number,String],required:!0},disabled:{Boolean,default:!0}},setup(y){const u=y;K(async()=>{await f(),n.value=m.convertEnumToArray(l.enums.recordStateType),g.value=m.concatItemsBadge(n.value,B.recordStateTypeBadgeOptions)});const l=q(),d=Y();let p=F(!1),r=G(C()),t=F(m.createEmptyDataSource()),g=F([]),n=F([]);function C(){return{pageNumber:0,sortBy:"Code",code:null,documentTypeIds:null,abreviation:null,name:null,recordStateIds:null,active:!0,organization:{id:u.organizationId,version:null}}}async function f(){p.value=!0;let a=await le.search(r);m.validateResponse(a,null,()=>{t.value=a.data}),p.value=!1}async function k(a){r.sortBy=a,await f()}async function V(a){r.pageNumber=a,await f()}function c(a){d.push({name:$.router.BACKOFFICE_DETAIL_DOCUMENT_PAGE.name,params:{documentId:m.encodeId(a.documentId),documentVersion:m.encodeId(a.documentVersion)}})}async function I(){p.value=!0;const a={id:u.organizationId,version:u.organizationVersion},i=await le.create(Ve.newForm(a));m.validateResponseAsync(i,null,async()=>{const T=m.encodeId(i.data.documentId),O=m.encodeId(i.data.documentVersion);d.push({name:$.router.BACKOFFICE_EDIT_ENTITY_DOCUMENT_PAGE.name,params:{documentId:T,documentVersion:O,organizationId:m.encodeId(u.organizationId),organizationVersion:m.encodeId(u.organizationVersion)}})}),p.value=!1}function v(a){d.push({name:$.router.BACKOFFICE_EDIT_ENTITY_DOCUMENT_PAGE.name,params:{documentId:m.encodeId(a.documentId),documentVersion:m.encodeId(a.documentVersion),organizationId:m.encodeId(u.organizationId),organizationVersion:m.encodeId(u.organizationVersion)}})}return(a,i)=>{const T=b("cbutton"),O=b("table-actions"),S=b("ccolumn"),z=b("table-action-edit"),R=b("table-action-detail"),P=b("ctable"),D=b("container-wrapper");return A(),w(D,null,{default:_(()=>[o(O,{title:""},{default:_(()=>[o(T,{class:"col-12 col-sm-auto",type:e(s).buttonType.secondary,size:e(s).buttonSize.medium,title:a._lang.common.toAdd,icon:H,onClick:I},null,8,["type","size","title"])]),_:1}),o(P,{onSort:k,onChangePage:V,data:e(t),checkbox:!1,loading:e(p),defaultSort:"code"},{columns:_(()=>[o(S,{name:a._lang.label.code,field:"code",sortable:!0},null,8,["name"]),o(S,{name:a._lang.label.documentTypeId,field:"documentType",sortField:"documentTypeId",sortable:!0},null,8,["name"]),o(S,{name:a._lang.label.abreviation,field:"abreviation",sortable:!0},null,8,["name"]),o(S,{name:a._lang.label.name,field:"name",sortable:!0},null,8,["name"]),o(S,{name:a._lang.label.state,field:"recordStateTypeId",align:e(s).columnAlign.center,custom:W,options:e(g),sortable:!0},null,8,["name","align","options"])]),actions:_(N=>[N.item.recordStateTypeId==e(s).recordStateType.draft?(A(),w(z,{key:0,onClick:U=>v(N.item)},null,8,["onClick"])):h("",!0),N.item.recordStateTypeId>e(s).recordStateType.draft?(A(),w(R,{key:1,onClick:U=>c(N.item)},null,8,["onClick"])):h("",!0)]),_:1},8,["data","loading"])]),_:1})}}},he={__name:"sub-entities",props:{organizationId:{type:[Number,String],required:!0},organizationVersion:{type:[Number,String],required:!0},disabled:{Boolean,default:!0}},setup(y){const u=y;K(async()=>{await f(),n.value=m.convertEnumToArray(l.enums.recordStateType),g.value=m.concatItemsBadge(n.value,B.recordStateTypeBadgeOptions)});const l=q(),d=Y();let p=F(!1),r=G(C()),t=F(m.createEmptyDataSource()),g=F([]),n=F([]);function C(){return{pageNumber:0,sortBy:"Code",parentOrganization:{id:u.organizationId,version:null},active:!0}}async function f(){p.value=!0;let a=await oe.search(r);m.validateResponse(a,null,()=>{t.value=a.data}),p.value=!1}async function k(a){r.sortBy=a,await f()}async function V(a){r.pageNumber=a,await f()}function c(a){d.push({name:$.router.BACKOFFICE_DETAIL_ENTITY_PAGE.name,params:{organizationId:m.encodeId(a.organizationId),organizationVersion:m.encodeId(a.organizationVersion)}})}async function I(){p.value=!0;const a={id:u.organizationId,version:u.organizationVersion},i=await oe.create(ne.newForm(a));m.validateResponseAsync(i,null,async()=>{d.push({name:$.router.BACKOFFICE_EDIT_ENTITY_PAGE.name,params:{organizationId:m.encodeId(i.data.organizationId),organizationVersion:m.encodeId(i.data.organizationVersion)}})}),p.value=!1}function v(a){d.push({name:$.router.BACKOFFICE_EDIT_ENTITY_PAGE.name,params:{organizationId:m.encodeId(a.organizationId),organizationVersion:m.encodeId(a.organizationVersion)}})}return(a,i)=>{const T=b("cbutton"),O=b("table-actions"),S=b("ccolumn"),z=b("table-action-edit"),R=b("table-action-detail"),P=b("ctable"),D=b("container-wrapper");return A(),w(D,null,{default:_(()=>[o(O,{title:""},{default:_(()=>[o(T,{class:"col-12 col-sm-auto",type:e(s).buttonType.secondary,size:e(s).buttonSize.medium,title:a._lang.common.toAdd,icon:H,onClick:I},null,8,["type","size","title"])]),_:1}),o(P,{onSort:k,onChangePage:V,data:e(t),checkbox:!1,loading:e(p),defaultSort:"code"},{columns:_(()=>[o(S,{name:a._lang.label.code,field:"code",sortable:!0},null,8,["name"]),o(S,{name:a._lang.label.organizationTypeId,field:"organizationType",sortField:"organizationTypeId",sortable:!0},null,8,["name"]),o(S,{name:a._lang.label.abreviation,field:"abreviation",sortable:!0},null,8,["name"]),o(S,{name:a._lang.common.name,field:"name",sortable:!0},null,8,["name"]),o(S,{name:a._lang.label.parentOrganization,field:"organizationParent",sortField:"organizationParentId",sortable:!0},null,8,["name"]),o(S,{name:a._lang.common.state,field:"recordStateTypeId",align:e(s).columnAlign.center,custom:W,options:e(g),sortable:!0},null,8,["name","align","options"])]),actions:_(N=>[N.item.recordStateTypeId==e(s).recordStateType.draft?(A(),w(z,{key:0,onClick:U=>v(N.item)},null,8,["onClick"])):h("",!0),N.item.recordStateTypeId>e(s).recordStateType.draft?(A(),w(R,{key:1,onClick:U=>c(N.item)},null,8,["onClick"])):h("",!0)]),_:1},8,["data","loading"])]),_:1})}}},ea={__name:"form",props:{formModel:{Object,required:!0},selectedLang:{type:[Number,String],required:!0},loading:{type:Boolean,required:!0},disabled:{type:Boolean,required:!0},validateForm:{type:Boolean,required:!0},rules:{type:Object,required:!0},organizationId:{type:[Number,String],required:!0},organizationVersion:{type:[Number,String],required:!0},progressValue:{type:[Number],required:!1},showProgress:{type:Boolean,default:!0},vuelidate:{Object,default:null}},emits:["update:formModel"],setup(y,{emit:u}){const l=y,d=E({get(){return l.formModel},set(p){u("update:formModel",p)}});return(p,r)=>{const t=b("progress-bar"),g=b("container-wrapper"),n=b("tab-content"),C=b("tabs");return A(),w(C,null,{default:_(()=>[o(n,{id:"general",title:p._lang.common.general,active:!0},{default:_(()=>[o(g,{"margin-top":!1},{default:_(()=>[l.showProgress?(A(),w(t,{key:0,value:l.progressValue,label:p._lang.common.fill,class:"mb-4 col-12 float-end"},null,8,["value","label"])):h("",!0)]),_:1}),o(we,{modelValue:e(d),"onUpdate:modelValue":r[0]||(r[0]=f=>L(d)?d.value=f:null),disabled:l.disabled,loading:l.loading,selectedLang:l.selectedLang,validateForm:l.validateForm,rules:l.rules,vuelidate:l.vuelidate},null,8,["modelValue","disabled","loading","selectedLang","validateForm","rules","vuelidate"])]),_:1},8,["title"]),o(n,{id:"pontosatendimento",title:p._lang.backoffice.menu.servicePoints,active:!1,disabled:!1},{default:_(()=>[o(Ne,{organizationId:y.organizationId,organizationVersion:y.organizationVersion,disabled:l.disabled},null,8,["organizationId","organizationVersion","disabled"])]),_:1},8,["title"]),o(n,{id:"servicos",title:p._lang.backoffice.menu.services,active:!1,disabled:!1},{default:_(()=>[o(Le,{organizationId:y.organizationId,organizationVersion:y.organizationVersion,disabled:l.disabled},null,8,["organizationId","organizationVersion","disabled"])]),_:1},8,["title"]),o(n,{id:"documentos",title:p._lang.backoffice.menu.documents,active:!1,disabled:!1},{default:_(()=>[o($e,{organizationId:y.organizationId,organizationVersion:y.organizationVersion,disabled:l.disabled},null,8,["organizationId","organizationVersion","disabled"])]),_:1},8,["title"]),o(n,{id:"sub-entities",title:p._lang.backoffice.menu.subEntities,active:!1,disabled:!1},{default:_(()=>[o(he,{organizationId:y.organizationId,organizationVersion:y.organizationVersion,disabled:l.disabled},null,8,["organizationId","organizationVersion","disabled"])]),_:1},8,["title"])]),_:1})}}};export{ea as _};
