import{s as F,z as I,a as m,r as A,b as s,o as G,l as R,w as n,e as t,g as e,x as r,i,D as z,u as d,Q as B}from"./index-5b4ebf84.js";import{h as N,_ as P}from"./form-0314808e.js";import{_ as O}from"./cancel-confirm-46a9e596.js";import{u as U}from"./users-d8dbf72b.js";import{u as V}from"./index.esm-65642301.js";import"./helpers-4796f1a9.js";import"./index.esm-85573352.js";import"./users-f6b26c46.js";const J={__name:"create",setup(K){const c=F(),p=I(),_="confirm-cancel",C=m(N.formRules());let o=A(!1),l=m({name:null,email:null,profiles:[],active:!0,Password:"P@ssw0rd"}),E=m({name:null,email:null,profiles:[],active:!0});const u=V(C,l);function v(){d.compareObjectIsDirty(l,E)?d.showModalById(_):c.push({name:r.router.BACKOFFICE_SETTINGS_USERS_PAGE.name})}async function T(){if(o.value=!0,await u.value.$validate(),u.value.$error)B.warning(p.common.requiredFields);else{let a=await U.create(l);d.validateResponse(a,p.backoffice.settings.users.create.created,()=>{c.push({name:r.router.BACKOFFICE_SETTINGS_USERS_PAGE.name})})}o.value=!1}function h(){c.push({name:r.router.BACKOFFICE_SETTINGS_USERS_PAGE.name})}return(a,f)=>{const b=s("breadcrumb-item"),y=s("breadcrumb"),g=s("cbutton"),k=s("card"),w=s("page");return G(),R(w,{title:a._lang.backoffice.settings.users.create.pageTitle},{breadcrumb:n(()=>[t(y,{"has-home":!0},{default:n(()=>[t(b,{label:a._lang.backoffice.settings.users.pageTitle,"router-path":e(r).router.BACKOFFICE_SETTINGS_USERS_PAGE.path},null,8,["label","router-path"]),t(b,{label:a._lang.backoffice.settings.users.create.pageTitle},null,8,["label"])]),_:1})]),actions:n(()=>[t(g,{class:"col-12 col-sm-auto",type:e(i).buttonType.secondary,size:e(i).buttonSize.large,title:a._lang.common.cancel,onClick:v,disabled:e(o)},null,8,["type","size","title","disabled"]),t(g,{class:"col-12 col-sm-auto",title:a._lang.common.create,type:e(i).buttonType.primary,size:e(i).buttonSize.large,onClick:T,disabled:e(o)},null,8,["title","type","size","disabled"])]),default:n(()=>[t(k,{shadow:!0},{body:n(()=>[t(P,{modelValue:e(l),"onUpdate:modelValue":f[0]||(f[0]=S=>z(l)?l.value=S:l=S),required:!0,vuelidator:e(u),loading:e(o)},null,8,["modelValue","vuelidator","loading"])]),_:1}),t(O,{id:_,title:a._lang.common.cancel,action:h},null,8,["title"])]),_:1},8,["title"])}}};export{J as default};
