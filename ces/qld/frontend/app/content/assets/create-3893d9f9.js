import{h as F,q as I,s as m,i as A,r as s,o as G,c as R,w as n,a as t,m as e,l as r,v as i,z,j as d,Q as B}from"./index-d8a56bcc.js";import{h as N,_ as P}from"./form-36f391c7.js";import{_ as O}from"./cancel-confirm-72811969.js";import{u as U}from"./users-de7380a1.js";import{u as V}from"./index.esm-90cb40dd.js";import"./helpers-d89764d1.js";import"./index.esm-d77c3574.js";import"./users-ffa78d40.js";const J={__name:"create",setup(K){const c=F(),p=I(),_="confirm-cancel",C=m(N.formRules());let o=A(!1),l=m({name:null,email:null,profiles:[],active:!0,Password:"P@ssw0rd"}),E=m({name:null,email:null,profiles:[],active:!0});const u=V(C,l);function v(){d.compareObjectIsDirty(l,E)?d.showModalById(_):c.push({name:r.router.BACKOFFICE_SETTINGS_USERS_PAGE.name})}async function h(){if(o.value=!0,await u.value.$validate(),u.value.$error)B.warning(p.common.requiredFields);else{let a=await U.create(l);d.validateResponse(a,p.backoffice.settings.users.create.created,()=>{c.push({name:r.router.BACKOFFICE_SETTINGS_USERS_PAGE.name})})}o.value=!1}function T(){c.push({name:r.router.BACKOFFICE_SETTINGS_USERS_PAGE.name})}return(a,f)=>{const b=s("breadcrumb-item"),y=s("breadcrumb"),g=s("cbutton"),k=s("card"),w=s("page");return G(),R(w,{title:a._lang.backoffice.settings.users.create.pageTitle},{breadcrumb:n(()=>[t(y,{"has-home":!0},{default:n(()=>[t(b,{label:a._lang.backoffice.settings.users.pageTitle,"router-path":e(r).router.BACKOFFICE_SETTINGS_USERS_PAGE.path},null,8,["label","router-path"]),t(b,{label:a._lang.backoffice.settings.users.create.pageTitle},null,8,["label"])]),_:1})]),actions:n(()=>[t(g,{class:"col-12 col-sm-auto",type:e(i).buttonType.secondary,size:e(i).buttonSize.large,title:a._lang.common.cancel,onClick:v,disabled:e(o)},null,8,["type","size","title","disabled"]),t(g,{class:"col-12 col-sm-auto",title:a._lang.common.create,type:e(i).buttonType.primary,size:e(i).buttonSize.large,onClick:h,disabled:e(o)},null,8,["title","type","size","disabled"])]),default:n(()=>[t(k,{shadow:!0},{body:n(()=>[t(P,{modelValue:e(l),"onUpdate:modelValue":f[0]||(f[0]=S=>z(l)?l.value=S:l=S),required:!0,vuelidator:e(u),loading:e(o)},null,8,["modelValue","vuelidator","loading"])]),_:1}),t(O,{id:_,title:a._lang.common.cancel,action:T},null,8,["title"])]),_:1},8,["title"])}}};export{J as default};
