import{u as C,h as S,_ as w}from"./business-event-86d6417f.js";import{_ as V}from"./edit-actions-48107c1a.js";import{m as h,N as G,x as U,r as m,y as I,A as O,a8 as P,I as L,L as R,n as b,s as g,a as d,b as M,c as K,w as u,d as r,f as e,i as v}from"./index-920dbb37.js";import{u as j}from"./index.esm-d064d6e3.js";import{b as B}from"./business-event-05a0ae81.js";import{b as c}from"./helpers-4c156364.js";import"./cancel-confirm-33e0b7cc.js";import"./settings-bb7269a2.js";import"./index.esm-d0811cb6.js";const Z={__name:"edit",setup(H){const N=h(),T=G();U();const f=C();let n=m(!0),t=I(S.newForm()),a=m(O.language.pt),i=m(0),p=I(S.formRules());const E=j(p,t);async function F(){n.value=!0;const s=await B.getById(i.value);b.validateResponse(s,null,()=>{Object.assign(t,s.data),f.setFormToCompare(b.cloneObject(s.data))}),n.value=!1}return P(()=>{}),L({get(){return c.getFieldByLangAndName(t,a.value,"businessEventLevel1")},set(s){c.setFieldByLangAndName(t,a.value,"businessEventLevel1",s)}}),L({get(){return c.getFieldByLangAndName(t,a.value,"businessEventLevel2")},set(s){c.setFieldByLangAndName(t,a.value,"businessEventLevel2",s)}}),R(async()=>{i.value=b.decodeId(T.params.businessEventId),i.value?await F():N.push({name:g.router.BACKOFFICE_SETTINGS_BUSINESSEVENT_PAGE.name})}),(s,l)=>{const _=d("breadcrumb-item"),A=d("breadcrumb"),k=d("card"),y=d("page");return M(),K(y,{title:s._lang.backoffice.settings.businessEvent.editPageTitle},{breadcrumb:u(()=>[r(A,{"has-home":!0},{default:u(()=>[r(_,{label:s._lang.backoffice.settings.businessEvent.breadcrumbTitle,"router-path":e(g).router.BACKOFFICE_SETTINGS_BUSINESSEVENT_PAGE.path},null,8,["label","router-path"]),r(_,{label:s._lang.backoffice.settings.businessEvent.editPageTitle},null,8,["label"])]),_:1})]),actions:u(()=>[r(V,{loading:e(n),"onUpdate:loading":l[0]||(l[0]=o=>v(n)?n.value=o:n=o),selectedLang:e(a),"onUpdate:selectedLang":l[1]||(l[1]=o=>v(a)?a.value=o:a=o),service:e(B),itemId:e(i),formModel:e(t),vuelidate:e(E),store:e(f),resource:s._lang.backoffice.settings.businessEvent,"back-route":e(g).router.BACKOFFICE_SETTINGS_BUSINESSEVENT_PAGE.name,"show-lang-selector":!0,"can-delete":!0,"can-edit":!0},null,8,["loading","selectedLang","service","itemId","formModel","vuelidate","store","resource","back-route"])]),default:u(()=>[r(k,{shadow:!0},{body:u(()=>[r(w,{modelValue:e(t),"onUpdate:modelValue":l[2]||(l[2]=o=>v(t)?t.value=o:t=o),selectedLang:e(a),loading:e(n),disabled:e(n),vuelidate:e(E),rules:e(p)},null,8,["modelValue","selectedLang","loading","disabled","vuelidate","rules"])]),_:1})]),_:1},8,["title"])}}};export{Z as default};
