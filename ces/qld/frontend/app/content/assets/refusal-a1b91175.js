import{q as w,D as E,E as b,i as k,K as I,j as T,r as u,o as S,c as v,w as f,a as n,m as l,v as c,L as P,l as B,z as j,y as D}from"./index-d8a56bcc.js";import{b as V}from"./helpers-d89764d1.js";const $={__name:"duplicated-names",props:{dataSource:{Object,required:!0},name:{String,required:!0}},emits:["update:dataSource"],setup(r,{emit:d}){const m=r,t=w(),e=E(),o=b({get(){return m.dataSource},set(a){d("update:dataSource",a)}});let s=k([]),i=k([]);const p=b(()=>t.backoffice.tasks.messages.possibleDuplicateNames.replace("{0}",`<strong class="cb">${m.name}</strong>`));I(()=>{s.value=T.convertEnumToArray(t.enums.recordStateType),i.value=T.concatItemsBadge(s.value,V.recordStateTypeBadgeOptions)});const y=a=>{T.sortArrayOffline(a,o.value.items)},_=a=>{},L=async()=>{e.emit(B.emitter.DUPLICATE_NAMES,!0)},A=async()=>{e.emit(B.emitter.DUPLICATE_NAMES,!1)};return(a,U)=>{const N=u("alert"),g=u("ccolumn"),O=u("ctable"),C=u("cbutton"),q=u("modal");return S(),v(q,{id:"duplicated-names",title:a._lang.backoffice.tasks.possibleDuplicateNames,size:l(c).modalSize.large},{alert:f(()=>[n(N,{type:l(c).alertType.warning,text:l(p)},null,8,["type","text"])]),body:f(()=>[n(O,{data:l(o),checkbox:!1,defaultSort:"name",onSort:y,onChangePage:_,"show-pagination":!1},{columns:f(()=>[n(g,{name:a._lang.label.code,field:"code",sortable:!0},null,8,["name"]),n(g,{name:a._lang.label.name,field:"name",sortable:!0},null,8,["name"]),n(g,{name:a._lang.label.duplicateProbability,field:"duplicateProbability",sortable:!0,sufix:"%"},null,8,["name"]),n(g,{name:a._lang.common.state,field:"recordStateTypeId",align:l(c).columnAlign.center,custom:P,options:l(i),sortable:!0},null,8,["name","align","options"])]),_:1},8,["data"])]),footer:f(()=>[n(C,{title:a._lang.common.close,type:l(c).buttonType.secondary,"data-bs-dismiss":"modal","aria-label":a._lang.common.close,onClick:A},null,8,["title","type","aria-label"]),n(C,{title:a._lang.common.continue,type:l(c).buttonType.primary,"data-bs-dismiss":"modal","aria-label":a._lang.common.continue,onClick:L},null,8,["title","type","aria-label"])]),_:1},8,["title","size"])}}},x={__name:"comments",props:{modelValue:{type:Object,required:!0},disabled:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},selectedLang:{type:[String,Number],required:!0}},emits:["update:modelValue"],setup(r,{emit:d}){const m=r,t=b({get(){return m.modelValue},set(s){d("update:modelValue",s)}}),e=b(()=>m.selectedLang),o=b({get(){return V.getFieldByLangAndName(t.value,e.value,"versionComments")},set(s){V.setFieldByLangAndName(t.value,e.value,"versionComments",s)}});return(s,i)=>{const p=u("form-field"),y=u("accordion");return S(),v(y,{id:"comments",title:s._lang.common.comments,collapsed:!1,class:"mb-4"},{default:f(()=>[n(p,{id:"versionComments",class:"mb-3 col-12",modelValue:l(o),"onUpdate:modelValue":i[0]||(i[0]=_=>j(o)?o.value=_:null),label:s._lang.label.versionComments,disabled:m.disabled,loading:m.loading,type:l(c).inputs.textarea,maxlength:255,language:l(e)},null,8,["modelValue","label","disabled","loading","type","language"])]),_:1},8,["title"])}}},M={__name:"refusal",props:{modelValue:{type:Object,required:!0},store:{type:Object,required:!0}},setup(r){const d=r,m=b(()=>{var t,e,o;return((t=d.modelValue)==null?void 0:t.recordStateTypeId)==c.recordStateType.returned||((e=d.modelValue)==null?void 0:e.refusalType)!=null&&((o=d.modelValue)==null?void 0:o.refusalText)!=null});return(t,e)=>{const o=u("form-field"),s=u("row"),i=u("accordion");return l(m)?(S(),v(i,{key:0,id:"refusal",title:t._lang.common.refusal,collapsed:!0,class:"mb-4"},{default:f(()=>[n(s,null,{default:f(()=>[n(o,{id:"refusalType",class:"mb-3 col-12 col-md-6",modelValue:r.modelValue.refusalType,"onUpdate:modelValue":e[0]||(e[0]=p=>r.modelValue.refusalType=p),label:t._lang.label.refusalTypeId,disabled:!0,type:l(c).inputs.multiselect,options:r.store.refusalTypeList},null,8,["modelValue","label","type","options"]),n(o,{id:"refusalText",class:"mb-3 col-12 col-md-6",modelValue:r.modelValue.refusalText,"onUpdate:modelValue":e[1]||(e[1]=p=>r.modelValue.refusalText=p),label:t._lang.label.refusal,disabled:!0,type:l(c).inputs.text},null,8,["modelValue","label","type"])]),_:1})]),_:1},8,["title"])):D("",!0)}}};export{M as _,x as a,$ as b};
