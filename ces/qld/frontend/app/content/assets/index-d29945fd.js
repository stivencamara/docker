import{_ as z}from"./delete-confirm-05276eba.js";import{h as J,q as W,J as H,i,v as S,s as C,j as m,b as Q,K as X,r as o,o as Y,c as Z,w as s,a,m as l,U as $,z as _,l as x}from"./index-60da5de7.js";import{u as ee,p as g}from"./params-6e5313de.js";import"./helpers-870863ae.js";import"./index.esm-eed786a6.js";const re={__name:"index",setup(ae){const w=J();W();const B=ee(),M=H();let r=i(!1),u=i([]),p=i([]),f=i(S.tableSelectedState.none),n=C(v()),I=i(m.createEmptyDataSource());C({});let k=i(0);function v(){return{pageNumber:1,sortBy:"description",name:null}}Q(async()=>{await d()});function T(e){w.push({name:x.router.BACKOFFICE_SETTINGS_EDIT_PARAMS_PAGE.name,params:{parameterId:m.encodeId(e.parameterId)}})}async function h(){Object.assign(n,v()),await y()}async function y(){n.pageNumber=1,await d()}async function E(e){n.sortBy=e,await d()}async function L(e){n.pageNumber=e,await d()}async function d(){r.value=!0,n.parameterId?n.parameterIds=[n.parameterId]:n.parameterIds=[];let e=await g.search(n);m.validateResponse(e,null,()=>{I.value=e.data}),r.value=!1}async function N(e){k.value=e.parameterId}async function P(){m.closeModalById("confirm-delete"),await d()}return X(async()=>{r.value=!0;const e=await g.getLists(M.getLanguage);m.validateResponse(e,null,()=>{B.setLists(e.data)}),r.value=!1}),(e,c)=>{const R=o("breadcrumb-item"),U=o("breadcrumb"),A=o("form-field"),V=o("row"),D=o("cfilter"),b=o("ccolumn"),F=o("table-action-edit"),j=o("table-action-delete"),G=o("ctable"),K=o("card"),O=o("page");return Y(),Z(O,{title:e._lang.backoffice.settings.params.pageTitle},{breadcrumb:s(()=>[a(U,{"has-home":!0},{default:s(()=>[a(R,{label:e._lang.backoffice.settings.params.breadcrumbTitle},null,8,["label"])]),_:1})]),default:s(()=>[a(K,{shadow:!0},{body:s(()=>[a(D,{title:e._lang.common.filter,disabled:l(r),"clear-click":h,"apply-click":y,loading:l(r),collapsed:!0},{default:s(()=>[a(V,null,{default:s(()=>[a(A,{id:"name",modelValue:l(n).name,"onUpdate:modelValue":c[0]||(c[0]=t=>l(n).name=t),class:"mb-3 col-12",label:e._lang.label.name,type:l(S).inputs.text,maxlength:45,disabled:l(r)},null,8,["modelValue","label","type","disabled"])]),_:1})]),_:1},8,["title","disabled","loading"]),a($,null,{default:s(()=>[a(G,{onSort:E,onChangePage:L,selectedItems:l(u),"onUpdate:selectedItems":c[1]||(c[1]=t=>_(u)?u.value=t:u=t),unselectedItems:l(p),"onUpdate:unselectedItems":c[2]||(c[2]=t=>_(p)?p.value=t:p=t),selectedState:l(f),"onUpdate:selectedState":c[3]||(c[3]=t=>_(f)?f.value=t:f=t),data:l(I),checkbox:!1,loading:l(r),defaultSort:"description"},{columns:s(()=>[a(b,{name:e._lang.label.name,field:"name",sortable:!0},null,8,["name"]),a(b,{name:e._lang.label.description,field:"description",sortable:!0},null,8,["name"]),a(b,{name:e._lang.label.value,field:"value",sortable:!0},null,8,["name"])]),actions:s(t=>[a(F,{onClick:q=>T(t.item)},null,8,["onClick"]),a(j,{onClick:q=>N(t.item)},null,8,["onClick"])]),_:1},8,["selectedItems","unselectedItems","selectedState","data","loading"])]),_:1})]),_:1}),a(z,{"item-id":l(k),resource:e._lang.backoffice.settings.params,action:P,service:l(g)},null,8,["item-id","resource","service"])]),_:1},8,["title"])}}};export{re as default};
