import{g as y,i as S,E as m,r as O,k as r,c as R,l as w,w as s,n as o,p as e,z as n,s as i,H as A,u as p,R as G}from"./index-cce4225b.js";import{p as P}from"./profiles-e4a7bb36.js";import{h as z,p as B}from"./helpers-0cecbf1e.js";import{_ as N}from"./cancel-confirm-7c9616d5.js";import{u as L}from"./index.esm-7471f5f2.js";import"./helpers-2be1e0ad.js";import"./index.esm-840476f1.js";const U={__name:"create",setup(V){const c=y(),f=S(),d="confirm-cancel",E=m(z.formRules());var l=O(!1),t=m({name:"",permissions:[]}),F=m({name:"",permissions:[]});const u=L(E,t);function v(){p.compareObjectIsDirty(t,F)?p.showModalById(d):c.push({name:n.router.BACKOFFICE_SETTINGS_PROFILE_PAGE.name})}async function I(){if(l.value=!0,await u.value.$validate(),u.value.$error)G.warning(f.common.requiredFields);else{let a=await P.create(t);p.validateResponse(a,f.backoffice.settings.profiles.create.created,()=>{c.push({name:n.router.BACKOFFICE_SETTINGS_PROFILE_PAGE.name})})}l.value=!1}function T(){c.push({name:n.router.BACKOFFICE_SETTINGS_PROFILE_PAGE.name})}return(a,_)=>{const b=r("breadcrumb-item"),k=r("breadcrumb"),g=r("cbutton"),h=r("page");return R(),w(h,{title:a._lang.backoffice.settings.profiles.create.pageTitle},{breadcrumb:s(()=>[o(k,{"has-home":!0},{default:s(()=>[o(b,{label:a._lang.backoffice.settings.profiles.pageTitle,"router-path":e(n).router.BACKOFFICE_SETTINGS_PROFILE_PAGE.path},null,8,["label","router-path"]),o(b,{label:a._lang.backoffice.settings.profiles.create.pageTitle},null,8,["label"])]),_:1})]),actions:s(()=>[o(g,{class:"col-12 col-sm-auto",type:e(i).buttonType.secondary,size:e(i).buttonSize.large,title:a._lang.common.cancel,onClick:v,disabled:e(l)},null,8,["type","size","title","disabled"]),o(g,{class:"col-12 col-sm-auto",title:a._lang.common.create,type:e(i).buttonType.primary,size:e(i).buttonSize.large,onClick:I,disabled:e(l)},null,8,["title","type","size","disabled"])]),default:s(()=>[o(B,{modelValue:e(t),"onUpdate:modelValue":_[0]||(_[0]=C=>A(t)?t.value=C:t=C),required:!0,vuelidator:e(u)},null,8,["modelValue","vuelidator"]),o(N,{id:d,title:a._lang.common.cancel,action:T},null,8,["title"])]),_:1},8,["title"])}}};export{U as default};
