import{g as F,i as I,E as m,r as R,k as s,c as A,l as G,w as n,n as t,p as e,z as r,s as i,H as z,u as d,R as B}from"./index-255cb3f5.js";import{u as N}from"./users-626c46cb.js";import{h as P,_ as O}from"./form-3cc48a74.js";import{_ as U}from"./cancel-confirm-7ef04aba.js";import{u as V}from"./index.esm-a0301e1b.js";import"./helpers-3a01797c.js";import"./index.esm-d39b5f1a.js";import"./users-386063ec.js";const Q={__name:"create",setup(K){const c=F(),p=I(),_="confirm-cancel",C=m(P.formRules());let o=R(!1),l=m({name:null,email:null,profiles:[],active:!0,Password:"P@ssw0rd"}),E=m({name:null,email:null,profiles:[],active:!0});const u=V(C,l);function v(){d.compareObjectIsDirty(l,E)?d.showModalById(_):c.push({name:r.router.BACKOFFICE_SETTINGS_USERS_PAGE.name})}async function T(){if(o.value=!0,await u.value.$validate(),u.value.$error)B.warning(p.common.requiredFields);else{let a=await N.create(l);d.validateResponse(a,p.backoffice.settings.users.create.created,()=>{c.push({name:r.router.BACKOFFICE_SETTINGS_USERS_PAGE.name})})}o.value=!1}function h(){c.push({name:r.router.BACKOFFICE_SETTINGS_USERS_PAGE.name})}return(a,f)=>{const b=s("breadcrumb-item"),k=s("breadcrumb"),g=s("cbutton"),y=s("card"),w=s("page");return A(),G(w,{title:a._lang.backoffice.settings.users.create.pageTitle},{breadcrumb:n(()=>[t(k,{"has-home":!0},{default:n(()=>[t(b,{label:a._lang.backoffice.settings.users.pageTitle,"router-path":e(r).router.BACKOFFICE_SETTINGS_USERS_PAGE.path},null,8,["label","router-path"]),t(b,{label:a._lang.backoffice.settings.users.create.pageTitle},null,8,["label"])]),_:1})]),actions:n(()=>[t(g,{class:"col-12 col-sm-auto",type:e(i).buttonType.secondary,size:e(i).buttonSize.large,title:a._lang.common.cancel,onClick:v,disabled:e(o)},null,8,["type","size","title","disabled"]),t(g,{class:"col-12 col-sm-auto",title:a._lang.common.create,type:e(i).buttonType.primary,size:e(i).buttonSize.large,onClick:T,disabled:e(o)},null,8,["title","type","size","disabled"])]),default:n(()=>[t(y,{shadow:!0},{body:n(()=>[t(O,{modelValue:e(l),"onUpdate:modelValue":f[0]||(f[0]=S=>z(l)?l.value=S:l=S),required:!0,vuelidator:e(u),loading:e(o)},null,8,["modelValue","vuelidator","loading"])]),_:1}),t(U,{id:_,title:a._lang.common.cancel,action:h},null,8,["title"])]),_:1},8,["title"])}}};export{Q as default};
