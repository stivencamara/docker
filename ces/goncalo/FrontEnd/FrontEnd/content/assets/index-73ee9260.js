import{ac as Ut,h as qe,J as Je,r as J,k as dt,u as P,j as ft,o as Qe,C as H,l as Q,c as fe,e as Ge,m as Ie,n as de,q as Z,p as Pe,s as w,v as R,A as Ye,ad as ut,F as Ze,ae as $t,a as pt,g as mt,i as vt,P as Se,x as gt,O as Gt,L as ht,af as Yt,K as yt,ag as Zt,ah as Xt,ai as qt,_ as Jt,N as Qt,aj as en,z as tn,Q as nn,R as on,B as rn,T as st}from"./index-ecfd29ec.js";import{t as et}from"./treeview-fba874ec.js";import{o as bt}from"./organization-353f36e4.js";import{p as Ct}from"./point-of-care-242a3b32.js";import{d as an}from"./document-1cfe5b0b.js";import{s as xt}from"./service-e9b4c2c0.js";import{p as ln,u as un}from"./params-946375aa.js";import{b as sn}from"./helpers-42575dad.js";import{s as cn}from"./helpers-29ad8680.js";import{o as dn}from"./helpers-aa27db39.js";import{d as fn}from"./helpers-ae409286.js";import{p as pn}from"./helpers-52c527b5.js";import"./index.esm-8adcd136.js";import"./helpers-93b2601c.js";const mn={class:"col-12"},ct={__name:"treeview",props:{selectedNode:[Object,String],date:[Date,String],showSearch:{Boolean,default:!1},index:{Number,default:0}},setup(De){const G=De,q=Ut({loader:()=>$t(()=>import("./item-bb0feb55.js"),["assets/item-bb0feb55.js","assets/index-ecfd29ec.js","assets/index-b39ee602.css","assets/treeview-fba874ec.js","assets/point-of-care-242a3b32.js","assets/item-e208ce73.css"]),loadingComponent:ut,delay:200}),U=qe(),ee=Je();var I=J(!1),he=J(0);const o=dt(()=>P.formatDate(G.date,"DDMMyyyy")===P.formatDate(new Date,"DDMMyyyy"));var u=ft({Id:null,version:null,TypeId:null,LevelDeep:1,onlyPublish:!G.showSearch,filterDate:G.date});Qe(async()=>{ee.itemList[G.index].tree==null&&await e()});async function e(){I.value=!0;let t=await et.get(u);P.validateResponse(t,null,()=>{ee.itemList[G.index].tree=t.data,he.value++}),I.value=!1,U.emit(H.emitter.CLOSE_SUMMARY_CLICK)}return(t,n)=>{const r=Q("form-field"),a=Q("row"),l=Q("container-wrapper");return fe(),Ge(Ze,null,[G.showSearch?(fe(),Ie(l,{key:0,"margin-top":!1,"margin-bottom":!0},{default:de(()=>[Z(a,null,{default:de(()=>[Pe("div",mn,[Z(r,{id:"active",class:"mt-2",modelValue:w(u).onlyPublish,"onUpdate:modelValue":n[0]||(n[0]=s=>w(u).onlyPublish=s),label:t._lang.backoffice.organic.publishedRecords,type:w(R).inputs.checkbox,disabled:w(I),loading:w(I),onChange:e},null,8,["modelValue","label","type","disabled","loading"])])]),_:1})]),_:1})):Ye("",!0),w(ee).itemList[G.index].tree!=null?(fe(),Ie(w(q),{key:w(he),item:w(ee).itemList[G.index].tree,"onUpdate:item":n[1]||(n[1]=s=>w(ee).itemList[G.index].tree=s),index:1,level:1,parent:"",selectedNode:G.selectedNode,onlyPublish:w(u).onlyPublish,date:G.date,canEdit:w(o)},null,8,["item","selectedNode","onlyPublish","date","canEdit"])):(fe(),Ie(ut,{key:2}))],64)}}};const vn={class:"summary-header d-flex align-items-center"},gn={class:""},hn={class:""},yn={class:"p-4"},bn={__name:"summary",props:{showMargin:{Boolean,default:!0}},setup(De){Qe(()=>{G.on(H.emitter.OPEN_SUMMARY_CLICK,async h=>{r.value=h,o.value=!0,I=h.item,he.value++,await l(I),o.value=!1,x()}),t.value=P.convertEnumToArray(ee.enums.recordStateType),e.value=P.concatItemsBadge(t.value,sn.recordStateTypeBadgeOptions)}),pt(()=>{G.off(H.emitter.OPEN_SUMMARY_CLICK)});const G=qe(),q=Je(),U=mt(),ee=vt();var I=ft({name:""}),he=J(0),o=J(!1),u=J(!1);let e=J([]),t=J([]);var n=J(0),r=J(null);function a(){q.resetSelectedItem(),G.emit(H.emitter.CLOSE_SUMMARY_CLICK)}async function l(h){switch(h.typeId){case R.objectType.organization:case R.objectType.folder:await s(h);break;case R.objectType.service:await c(h);break;case R.objectType.pointOfCare:await d(h);break}}async function s(h){const k=await bt.getById(h.id,h.version);P.validateResponse(k,null,()=>{Object.assign(h,k.data),n.value=k.data.treeOrder})}async function d(h){const k=await Ct.getById(h.id,h.version);P.validateResponse(k,null,()=>{Object.assign(h,k.data)})}async function c(h){const k=await xt.getById(h.id,h.version);P.validateResponse(k,null,()=>{Object.assign(h,k.data)})}function p(){switch(I.typeId){case R.objectType.organization:case R.objectType.folder:v();break;case R.objectType.service:y(I);break;case R.objectType.pointOfCare:b(I);break}}function v(){U.push({name:H.router.BACKOFFICE_DETAIL_ENTITY_PAGE.name,params:{organizationId:P.encodeId(I.id),organizationVersion:P.encodeId(I.version)}})}function y(h){U.push({name:H.router.BACKOFFICE_DETAIL_SERVICE_PAGE.name,params:{serviceId:P.encodeId(h.id),serviceVersion:P.encodeId(h.version)}})}function b(h){U.push({name:H.router.BACKOFFICE_DETAIL_POINT_OF_CARE_PAGE.name,params:{pointOfCareId:P.encodeId(h.id),pointOfCareVersion:P.encodeId(h.version)}})}async function O(){o.value=!0;let h={order:n.value,source:{id:I.id,version:I.version}};const k=await et.updateOrder(h);P.validateResponse(k,null,()=>{G.emit(H.emitter.UPDATE_TREE_NODE,k.data)}),o.value=!1}function x(){u.value=(I==null?void 0:I.typeId)==R.organicEnum.entity&&Se.havePermissionOrganization(R.permissions.organization.order,(I==null?void 0:I.id)&&(I==null?void 0:I.id)!=1)}return(h,k)=>{const N=Q("icon-eye"),D=Q("icon-close-circle"),B=Q("spinner"),M=Q("form-field"),f=Q("row"),S=Q("card");return fe(),Ie(S,{shadow:!0,class:yt(["summary-card sticky-xl-top p-c",{"show-margin":De.showMargin}]),key:w(he)},{body:de(()=>[Pe("div",null,[Pe("div",vn,[Pe("div",gn,[Pe("h2",hn,gt(h._lang.backoffice.organic.summary),1)]),w(o)?Ye("",!0):(fe(),Ie(N,{key:0,color:"#002D74",class:"p-hand ms-1",onClick:p,"data-bs-toggle":"tooltip","data-bs-title":h._lang.common.seeDetail},null,8,["data-bs-title"])),Z(D,{color:"#002D74",class:"p-hand ms-auto",onClick:a,"aria-label":h._lang.common.close},null,8,["aria-label"])]),Pe("div",yn,[w(o)?(fe(),Ie(B,{key:0,class:"mt-2 mb-2"})):(fe(),Ie(f,{key:1},{default:de(()=>[Z(Gt,{class:"mb-2",value:w(I).recordStateTypeId,options:w(e)},null,8,["value","options"]),Z(M,{id:"code",class:"mb-3 col-12",modelValue:w(I).code,"onUpdate:modelValue":k[0]||(k[0]=g=>w(I).code=g),label:h._lang.label.code,disabled:!0,loading:w(o),type:w(R).inputs.text},null,8,["modelValue","label","loading","type"]),Z(M,{id:"name",class:"mb-3 col-12",modelValue:w(I).name,"onUpdate:modelValue":k[1]||(k[1]=g=>w(I).name=g),label:h._lang.label.name,disabled:!0,loading:w(o),type:w(R).inputs.text},null,8,["modelValue","label","loading","type"]),Z(M,{id:"description",class:"mb-3 col-12",modelValue:w(I).startDate,"onUpdate:modelValue":k[2]||(k[2]=g=>w(I).startDate=g),label:h._lang.label.startDate,disabled:!0,loading:w(o),type:w(R).inputs.datepicker},null,8,["modelValue","label","loading","type"]),Z(M,{id:"description",class:"mb-3 col-12",modelValue:w(I).endDate,"onUpdate:modelValue":k[3]||(k[3]=g=>w(I).endDate=g),label:h._lang.label.endDate,disabled:!0,loading:w(o),type:w(R).inputs.endDate},null,8,["modelValue","label","loading","type"]),w(u)?(fe(),Ie(M,{key:0,id:"treeOrder",class:"mb-3 col-12",modelValue:w(n),"onUpdate:modelValue":k[4]||(k[4]=g=>ht(n)?n.value=g:n=g),label:h._lang.label.order,disabled:w(o),loading:w(o),type:w(R).inputs.inputFunc,inputType:w(R).inputs.number,icon:Yt,func:O},null,8,["modelValue","label","disabled","loading","type","inputType"])):Ye("",!0)]),_:1}))])])]),_:1},8,["class"])}}};var Xe={},Cn={get exports(){return Xe},set exports(De){Xe=De}};(function(De,G){(function(q,U){De.exports=U(Zt)})(typeof self<"u"?self:Xt,q=>(()=>{var U={9662:(o,u,e)=>{var t=e(614),n=e(6330),r=TypeError;o.exports=function(a){if(t(a))return a;throw r(n(a)+" is not a function")}},6077:(o,u,e)=>{var t=e(614),n=String,r=TypeError;o.exports=function(a){if(typeof a=="object"||t(a))return a;throw r("Can't set "+n(a)+" as a prototype")}},9670:(o,u,e)=>{var t=e(111),n=String,r=TypeError;o.exports=function(a){if(t(a))return a;throw r(n(a)+" is not an object")}},8533:(o,u,e)=>{var t=e(2092).forEach,n=e(9341),r=n("forEach");o.exports=r?[].forEach:function(a){return t(this,a,arguments.length>1?arguments[1]:void 0)}},1318:(o,u,e)=>{var t=e(5656),n=e(1400),r=e(6244),a=function(l){return function(s,d,c){var p,v=t(s),y=r(v),b=n(c,y);if(l&&d!=d){for(;y>b;)if(p=v[b++],p!=p)return!0}else for(;y>b;b++)if((l||b in v)&&v[b]===d)return l||b||0;return!l&&-1}};o.exports={includes:a(!0),indexOf:a(!1)}},2092:(o,u,e)=>{var t=e(9974),n=e(1702),r=e(8361),a=e(7908),l=e(6244),s=e(5417),d=n([].push),c=function(p){var v=p==1,y=p==2,b=p==3,O=p==4,x=p==6,h=p==7,k=p==5||x;return function(N,D,B,M){for(var f,S,g=a(N),T=r(g),j=t(D,B),oe=l(T),ie=0,ke=M||s,te=v?ke(N,oe):y||h?ke(N,0):void 0;oe>ie;ie++)if((k||ie in T)&&(f=T[ie],S=j(f,ie,g),p))if(v)te[ie]=S;else if(S)switch(p){case 3:return!0;case 5:return f;case 6:return ie;case 2:d(te,f)}else switch(p){case 4:return!1;case 7:d(te,f)}return x?-1:b||O?O:te}};o.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6),filterReject:c(7)}},1194:(o,u,e)=>{var t=e(7293),n=e(5112),r=e(7392),a=n("species");o.exports=function(l){return r>=51||!t(function(){var s=[],d=s.constructor={};return d[a]=function(){return{foo:1}},s[l](Boolean).foo!==1})}},9341:(o,u,e)=>{var t=e(7293);o.exports=function(n,r){var a=[][n];return!!a&&t(function(){a.call(null,r||function(){return 1},1)})}},3658:(o,u,e)=>{var t=e(9781),n=e(3157),r=TypeError,a=Object.getOwnPropertyDescriptor,l=t&&!function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(s){return s instanceof TypeError}}();o.exports=l?function(s,d){if(n(s)&&!a(s,"length").writable)throw r("Cannot set read only .length");return s.length=d}:function(s,d){return s.length=d}},206:(o,u,e)=>{var t=e(1702);o.exports=t([].slice)},7475:(o,u,e)=>{var t=e(3157),n=e(4411),r=e(111),a=e(5112),l=a("species"),s=Array;o.exports=function(d){var c;return t(d)&&(c=d.constructor,n(c)&&(c===s||t(c.prototype))?c=void 0:r(c)&&(c=c[l],c===null&&(c=void 0))),c===void 0?s:c}},5417:(o,u,e)=>{var t=e(7475);o.exports=function(n,r){return new(t(n))(r===0?0:r)}},4326:(o,u,e)=>{var t=e(1702),n=t({}.toString),r=t("".slice);o.exports=function(a){return r(n(a),8,-1)}},648:(o,u,e)=>{var t=e(1694),n=e(614),r=e(4326),a=e(5112),l=a("toStringTag"),s=Object,d=r(function(){return arguments}())=="Arguments",c=function(p,v){try{return p[v]}catch{}};o.exports=t?r:function(p){var v,y,b;return p===void 0?"Undefined":p===null?"Null":typeof(y=c(v=s(p),l))=="string"?y:d?r(v):(b=r(v))=="Object"&&n(v.callee)?"Arguments":b}},9920:(o,u,e)=>{var t=e(2597),n=e(3887),r=e(1236),a=e(3070);o.exports=function(l,s,d){for(var c=n(s),p=a.f,v=r.f,y=0;y<c.length;y++){var b=c[y];t(l,b)||d&&t(d,b)||p(l,b,v(s,b))}}},8880:(o,u,e)=>{var t=e(9781),n=e(3070),r=e(9114);o.exports=t?function(a,l,s){return n.f(a,l,r(1,s))}:function(a,l,s){return a[l]=s,a}},9114:o=>{o.exports=function(u,e){return{enumerable:!(1&u),configurable:!(2&u),writable:!(4&u),value:e}}},6135:(o,u,e)=>{var t=e(4948),n=e(3070),r=e(9114);o.exports=function(a,l,s){var d=t(l);d in a?n.f(a,d,r(0,s)):a[d]=s}},8052:(o,u,e)=>{var t=e(614),n=e(3070),r=e(6339),a=e(3072);o.exports=function(l,s,d,c){c||(c={});var p=c.enumerable,v=c.name!==void 0?c.name:s;if(t(d)&&r(d,v,c),c.global)p?l[s]=d:a(s,d);else{try{c.unsafe?l[s]&&(p=!0):delete l[s]}catch{}p?l[s]=d:n.f(l,s,{value:d,enumerable:!1,configurable:!c.nonConfigurable,writable:!c.nonWritable})}return l}},3072:(o,u,e)=>{var t=e(7854),n=Object.defineProperty;o.exports=function(r,a){try{n(t,r,{value:a,configurable:!0,writable:!0})}catch{t[r]=a}return a}},5117:(o,u,e)=>{var t=e(6330),n=TypeError;o.exports=function(r,a){if(!delete r[a])throw n("Cannot delete property "+t(a)+" of "+t(r))}},9781:(o,u,e)=>{var t=e(7293);o.exports=!t(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},317:(o,u,e)=>{var t=e(7854),n=e(111),r=t.document,a=n(r)&&n(r.createElement);o.exports=function(l){return a?r.createElement(l):{}}},7207:o=>{var u=TypeError,e=9007199254740991;o.exports=function(t){if(t>e)throw u("Maximum allowed index exceeded");return t}},8113:(o,u,e)=>{var t=e(5005);o.exports=t("navigator","userAgent")||""},7392:(o,u,e)=>{var t,n,r=e(7854),a=e(8113),l=r.process,s=r.Deno,d=l&&l.versions||s&&s.version,c=d&&d.v8;c&&(t=c.split("."),n=t[0]>0&&t[0]<4?1:+(t[0]+t[1])),!n&&a&&(t=a.match(/Edge\/(\d+)/),(!t||t[1]>=74)&&(t=a.match(/Chrome\/(\d+)/),t&&(n=+t[1]))),o.exports=n},748:o=>{o.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},7762:(o,u,e)=>{var t=e(9781),n=e(7293),r=e(9670),a=e(30),l=e(6277),s=Error.prototype.toString,d=n(function(){if(t){var c=a(Object.defineProperty({},"name",{get:function(){return this===c}}));if(s.call(c)!=="true")return!0}return s.call({message:1,name:2})!=="2: 1"||s.call({})!=="Error"});o.exports=d?function(){var c=r(this),p=l(c.name,"Error"),v=l(c.message);return p?v?p+": "+v:p:v}:s},2109:(o,u,e)=>{var t=e(7854),n=e(1236).f,r=e(8880),a=e(8052),l=e(3072),s=e(9920),d=e(4705);o.exports=function(c,p){var v,y,b,O,x,h,k=c.target,N=c.global,D=c.stat;if(y=N?t:D?t[k]||l(k,{}):(t[k]||{}).prototype,y)for(b in p){if(x=p[b],c.dontCallGetSet?(h=n(y,b),O=h&&h.value):O=y[b],v=d(N?b:k+(D?".":"#")+b,c.forced),!v&&O!==void 0){if(typeof x==typeof O)continue;s(x,O)}(c.sham||O&&O.sham)&&r(x,"sham",!0),a(y,b,x,c)}}},7293:o=>{o.exports=function(u){try{return!!u()}catch{return!0}}},2104:(o,u,e)=>{var t=e(4374),n=Function.prototype,r=n.apply,a=n.call;o.exports=typeof Reflect=="object"&&Reflect.apply||(t?a.bind(r):function(){return a.apply(r,arguments)})},9974:(o,u,e)=>{var t=e(1702),n=e(9662),r=e(4374),a=t(t.bind);o.exports=function(l,s){return n(l),s===void 0?l:r?a(l,s):function(){return l.apply(s,arguments)}}},4374:(o,u,e)=>{var t=e(7293);o.exports=!t(function(){var n=function(){}.bind();return typeof n!="function"||n.hasOwnProperty("prototype")})},6916:(o,u,e)=>{var t=e(4374),n=Function.prototype.call;o.exports=t?n.bind(n):function(){return n.apply(n,arguments)}},6530:(o,u,e)=>{var t=e(9781),n=e(2597),r=Function.prototype,a=t&&Object.getOwnPropertyDescriptor,l=n(r,"name"),s=l&&function(){}.name==="something",d=l&&(!t||t&&a(r,"name").configurable);o.exports={EXISTS:l,PROPER:s,CONFIGURABLE:d}},1702:(o,u,e)=>{var t=e(4374),n=Function.prototype,r=n.bind,a=n.call,l=t&&r.bind(a,a);o.exports=t?function(s){return s&&l(s)}:function(s){return s&&function(){return a.apply(s,arguments)}}},5005:(o,u,e)=>{var t=e(7854),n=e(614),r=function(a){return n(a)?a:void 0};o.exports=function(a,l){return arguments.length<2?r(t[a]):t[a]&&t[a][l]}},8173:(o,u,e)=>{var t=e(9662),n=e(8554);o.exports=function(r,a){var l=r[a];return n(l)?void 0:t(l)}},7854:(o,u,e)=>{var t=function(n){return n&&n.Math==Math&&n};o.exports=t(typeof globalThis=="object"&&globalThis)||t(typeof window=="object"&&window)||t(typeof self=="object"&&self)||t(typeof e.g=="object"&&e.g)||function(){return this}()||Function("return this")()},2597:(o,u,e)=>{var t=e(1702),n=e(7908),r=t({}.hasOwnProperty);o.exports=Object.hasOwn||function(a,l){return r(n(a),l)}},3501:o=>{o.exports={}},490:(o,u,e)=>{var t=e(5005);o.exports=t("document","documentElement")},4664:(o,u,e)=>{var t=e(9781),n=e(7293),r=e(317);o.exports=!t&&!n(function(){return Object.defineProperty(r("div"),"a",{get:function(){return 7}}).a!=7})},8361:(o,u,e)=>{var t=e(1702),n=e(7293),r=e(4326),a=Object,l=t("".split);o.exports=n(function(){return!a("z").propertyIsEnumerable(0)})?function(s){return r(s)=="String"?l(s,""):a(s)}:a},9587:(o,u,e)=>{var t=e(614),n=e(111),r=e(7674);o.exports=function(a,l,s){var d,c;return r&&t(d=l.constructor)&&d!==s&&n(c=d.prototype)&&c!==s.prototype&&r(a,c),a}},2788:(o,u,e)=>{var t=e(1702),n=e(614),r=e(5465),a=t(Function.toString);n(r.inspectSource)||(r.inspectSource=function(l){return a(l)}),o.exports=r.inspectSource},9909:(o,u,e)=>{var t,n,r,a=e(4811),l=e(7854),s=e(1702),d=e(111),c=e(8880),p=e(2597),v=e(5465),y=e(6200),b=e(3501),O="Object already initialized",x=l.TypeError,h=l.WeakMap,k=function(g){return r(g)?n(g):t(g,{})},N=function(g){return function(T){var j;if(!d(T)||(j=n(T)).type!==g)throw x("Incompatible receiver, "+g+" required");return j}};if(a||v.state){var D=v.state||(v.state=new h),B=s(D.get),M=s(D.has),f=s(D.set);t=function(g,T){if(M(D,g))throw x(O);return T.facade=g,f(D,g,T),T},n=function(g){return B(D,g)||{}},r=function(g){return M(D,g)}}else{var S=y("state");b[S]=!0,t=function(g,T){if(p(g,S))throw x(O);return T.facade=g,c(g,S,T),T},n=function(g){return p(g,S)?g[S]:{}},r=function(g){return p(g,S)}}o.exports={set:t,get:n,has:r,enforce:k,getterFor:N}},3157:(o,u,e)=>{var t=e(4326);o.exports=Array.isArray||function(n){return t(n)=="Array"}},614:o=>{o.exports=function(u){return typeof u=="function"}},4411:(o,u,e)=>{var t=e(1702),n=e(7293),r=e(614),a=e(648),l=e(5005),s=e(2788),d=function(){},c=[],p=l("Reflect","construct"),v=/^\s*(?:class|function)\b/,y=t(v.exec),b=!v.exec(d),O=function(h){if(!r(h))return!1;try{return p(d,c,h),!0}catch{return!1}},x=function(h){if(!r(h))return!1;switch(a(h)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return b||!!y(v,s(h))}catch{return!0}};x.sham=!0,o.exports=!p||n(function(){var h;return O(O.call)||!O(Object)||!O(function(){h=!0})||h})?x:O},4705:(o,u,e)=>{var t=e(7293),n=e(614),r=/#|\.prototype\./,a=function(p,v){var y=s[l(p)];return y==c||y!=d&&(n(v)?t(v):!!v)},l=a.normalize=function(p){return String(p).replace(r,".").toLowerCase()},s=a.data={},d=a.NATIVE="N",c=a.POLYFILL="P";o.exports=a},8554:o=>{o.exports=function(u){return u==null}},111:(o,u,e)=>{var t=e(614),n=typeof document=="object"&&document.all,r=typeof n>"u"&&n!==void 0;o.exports=r?function(a){return typeof a=="object"?a!==null:t(a)||a===n}:function(a){return typeof a=="object"?a!==null:t(a)}},1913:o=>{o.exports=!1},2190:(o,u,e)=>{var t=e(5005),n=e(614),r=e(7976),a=e(3307),l=Object;o.exports=a?function(s){return typeof s=="symbol"}:function(s){var d=t("Symbol");return n(d)&&r(d.prototype,l(s))}},6244:(o,u,e)=>{var t=e(7466);o.exports=function(n){return t(n.length)}},6339:(o,u,e)=>{var t=e(7293),n=e(614),r=e(2597),a=e(9781),l=e(6530).CONFIGURABLE,s=e(2788),d=e(9909),c=d.enforce,p=d.get,v=Object.defineProperty,y=a&&!t(function(){return v(function(){},"length",{value:8}).length!==8}),b=String(String).split("String"),O=o.exports=function(x,h,k){String(h).slice(0,7)==="Symbol("&&(h="["+String(h).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),k&&k.getter&&(h="get "+h),k&&k.setter&&(h="set "+h),(!r(x,"name")||l&&x.name!==h)&&(a?v(x,"name",{value:h,configurable:!0}):x.name=h),y&&k&&r(k,"arity")&&x.length!==k.arity&&v(x,"length",{value:k.arity});try{k&&r(k,"constructor")&&k.constructor?a&&v(x,"prototype",{writable:!1}):x.prototype&&(x.prototype=void 0)}catch{}var N=c(x);return r(N,"source")||(N.source=b.join(typeof h=="string"?h:"")),x};Function.prototype.toString=O(function(){return n(this)&&p(this).source||s(this)},"toString")},4758:o=>{var u=Math.ceil,e=Math.floor;o.exports=Math.trunc||function(t){var n=+t;return(n>0?e:u)(n)}},6277:(o,u,e)=>{var t=e(1340);o.exports=function(n,r){return n===void 0?arguments.length<2?"":r:t(n)}},30:(o,u,e)=>{var t,n=e(9670),r=e(6048),a=e(748),l=e(3501),s=e(490),d=e(317),c=e(6200),p=">",v="<",y="prototype",b="script",O=c("IE_PROTO"),x=function(){},h=function(B){return v+b+p+B+v+"/"+b+p},k=function(B){B.write(h("")),B.close();var M=B.parentWindow.Object;return B=null,M},N=function(){var B,M=d("iframe"),f="java"+b+":";return M.style.display="none",s.appendChild(M),M.src=String(f),B=M.contentWindow.document,B.open(),B.write(h("document.F=Object")),B.close(),B.F},D=function(){try{t=new ActiveXObject("htmlfile")}catch{}D=typeof document<"u"?document.domain&&t?k(t):N():k(t);for(var B=a.length;B--;)delete D[y][a[B]];return D()};l[O]=!0,o.exports=Object.create||function(B,M){var f;return B!==null?(x[y]=n(B),f=new x,x[y]=null,f[O]=B):f=D(),M===void 0?f:r.f(f,M)}},6048:(o,u,e)=>{var t=e(9781),n=e(3353),r=e(3070),a=e(9670),l=e(5656),s=e(1956);u.f=t&&!n?Object.defineProperties:function(d,c){a(d);for(var p,v=l(c),y=s(c),b=y.length,O=0;b>O;)r.f(d,p=y[O++],v[p]);return d}},3070:(o,u,e)=>{var t=e(9781),n=e(4664),r=e(3353),a=e(9670),l=e(4948),s=TypeError,d=Object.defineProperty,c=Object.getOwnPropertyDescriptor,p="enumerable",v="configurable",y="writable";u.f=t?r?function(b,O,x){if(a(b),O=l(O),a(x),typeof b=="function"&&O==="prototype"&&"value"in x&&y in x&&!x[y]){var h=c(b,O);h&&h[y]&&(b[O]=x.value,x={configurable:v in x?x[v]:h[v],enumerable:p in x?x[p]:h[p],writable:!1})}return d(b,O,x)}:d:function(b,O,x){if(a(b),O=l(O),a(x),n)try{return d(b,O,x)}catch{}if("get"in x||"set"in x)throw s("Accessors not supported");return"value"in x&&(b[O]=x.value),b}},1236:(o,u,e)=>{var t=e(9781),n=e(6916),r=e(5296),a=e(9114),l=e(5656),s=e(4948),d=e(2597),c=e(4664),p=Object.getOwnPropertyDescriptor;u.f=t?p:function(v,y){if(v=l(v),y=s(y),c)try{return p(v,y)}catch{}if(d(v,y))return a(!n(r.f,v,y),v[y])}},8006:(o,u,e)=>{var t=e(6324),n=e(748),r=n.concat("length","prototype");u.f=Object.getOwnPropertyNames||function(a){return t(a,r)}},5181:(o,u)=>{u.f=Object.getOwnPropertySymbols},7976:(o,u,e)=>{var t=e(1702);o.exports=t({}.isPrototypeOf)},6324:(o,u,e)=>{var t=e(1702),n=e(2597),r=e(5656),a=e(1318).indexOf,l=e(3501),s=t([].push);o.exports=function(d,c){var p,v=r(d),y=0,b=[];for(p in v)!n(l,p)&&n(v,p)&&s(b,p);for(;c.length>y;)n(v,p=c[y++])&&(~a(b,p)||s(b,p));return b}},1956:(o,u,e)=>{var t=e(6324),n=e(748);o.exports=Object.keys||function(r){return t(r,n)}},5296:(o,u)=>{var e={}.propertyIsEnumerable,t=Object.getOwnPropertyDescriptor,n=t&&!e.call({1:2},1);u.f=n?function(r){var a=t(this,r);return!!a&&a.enumerable}:e},7674:(o,u,e)=>{var t=e(1702),n=e(9670),r=e(6077);o.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var a,l=!1,s={};try{a=t(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set),a(s,[]),l=s instanceof Array}catch{}return function(d,c){return n(d),r(c),l?a(d,c):d.__proto__=c,d}}():void 0)},288:(o,u,e)=>{var t=e(1694),n=e(648);o.exports=t?{}.toString:function(){return"[object "+n(this)+"]"}},2140:(o,u,e)=>{var t=e(6916),n=e(614),r=e(111),a=TypeError;o.exports=function(l,s){var d,c;if(s==="string"&&n(d=l.toString)&&!r(c=t(d,l))||n(d=l.valueOf)&&!r(c=t(d,l))||s!=="string"&&n(d=l.toString)&&!r(c=t(d,l)))return c;throw a("Can't convert object to primitive value")}},3887:(o,u,e)=>{var t=e(5005),n=e(1702),r=e(8006),a=e(5181),l=e(9670),s=n([].concat);o.exports=t("Reflect","ownKeys")||function(d){var c=r.f(l(d)),p=a.f;return p?s(c,p(d)):c}},7066:(o,u,e)=>{var t=e(9670);o.exports=function(){var n=t(this),r="";return n.hasIndices&&(r+="d"),n.global&&(r+="g"),n.ignoreCase&&(r+="i"),n.multiline&&(r+="m"),n.dotAll&&(r+="s"),n.unicode&&(r+="u"),n.unicodeSets&&(r+="v"),n.sticky&&(r+="y"),r}},4706:(o,u,e)=>{var t=e(6916),n=e(2597),r=e(7976),a=e(7066),l=RegExp.prototype;o.exports=function(s){var d=s.flags;return d!==void 0||"flags"in l||n(s,"flags")||!r(l,s)?d:t(a,s)}},4488:(o,u,e)=>{var t=e(8554),n=TypeError;o.exports=function(r){if(t(r))throw n("Can't call method on "+r);return r}},7152:(o,u,e)=>{var t=e(7854),n=e(2104),r=e(614),a=e(8113),l=e(206),s=e(8053),d=/MSIE .\./.test(a),c=t.Function,p=function(v){return d?function(y,b){var O=s(arguments.length,1)>2,x=r(y)?y:c(y),h=O?l(arguments,2):void 0;return v(O?function(){n(x,this,h)}:x,b)}:v};o.exports={setTimeout:p(t.setTimeout),setInterval:p(t.setInterval)}},6200:(o,u,e)=>{var t=e(2309),n=e(9711),r=t("keys");o.exports=function(a){return r[a]||(r[a]=n(a))}},5465:(o,u,e)=>{var t=e(7854),n=e(3072),r="__core-js_shared__",a=t[r]||n(r,{});o.exports=a},2309:(o,u,e)=>{var t=e(1913),n=e(5465);(o.exports=function(r,a){return n[r]||(n[r]=a!==void 0?a:{})})("versions",[]).push({version:"3.25.0",mode:t?"pure":"global",copyright:"© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.25.0/LICENSE",source:"https://github.com/zloirock/core-js"})},3111:(o,u,e)=>{var t=e(1702),n=e(4488),r=e(1340),a=e(1361),l=t("".replace),s="["+a+"]",d=RegExp("^"+s+s+"*"),c=RegExp(s+s+"*$"),p=function(v){return function(y){var b=r(n(y));return 1&v&&(b=l(b,d,"")),2&v&&(b=l(b,c,"")),b}};o.exports={start:p(1),end:p(2),trim:p(3)}},6293:(o,u,e)=>{var t=e(7392),n=e(7293);o.exports=!!Object.getOwnPropertySymbols&&!n(function(){var r=Symbol();return!String(r)||!(Object(r)instanceof Symbol)||!Symbol.sham&&t&&t<41})},863:(o,u,e)=>{var t=e(1702);o.exports=t(1 .valueOf)},1400:(o,u,e)=>{var t=e(9303),n=Math.max,r=Math.min;o.exports=function(a,l){var s=t(a);return s<0?n(s+l,0):r(s,l)}},5656:(o,u,e)=>{var t=e(8361),n=e(4488);o.exports=function(r){return t(n(r))}},9303:(o,u,e)=>{var t=e(4758);o.exports=function(n){var r=+n;return r!==r||r===0?0:t(r)}},7466:(o,u,e)=>{var t=e(9303),n=Math.min;o.exports=function(r){return r>0?n(t(r),9007199254740991):0}},7908:(o,u,e)=>{var t=e(4488),n=Object;o.exports=function(r){return n(t(r))}},7593:(o,u,e)=>{var t=e(6916),n=e(111),r=e(2190),a=e(8173),l=e(2140),s=e(5112),d=TypeError,c=s("toPrimitive");o.exports=function(p,v){if(!n(p)||r(p))return p;var y,b=a(p,c);if(b){if(v===void 0&&(v="default"),y=t(b,p,v),!n(y)||r(y))return y;throw d("Can't convert object to primitive value")}return v===void 0&&(v="number"),l(p,v)}},4948:(o,u,e)=>{var t=e(7593),n=e(2190);o.exports=function(r){var a=t(r,"string");return n(a)?a:a+""}},1694:(o,u,e)=>{var t=e(5112),n=t("toStringTag"),r={};r[n]="z",o.exports=String(r)==="[object z]"},1340:(o,u,e)=>{var t=e(648),n=String;o.exports=function(r){if(t(r)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return n(r)}},6330:o=>{var u=String;o.exports=function(e){try{return u(e)}catch{return"Object"}}},9711:(o,u,e)=>{var t=e(1702),n=0,r=Math.random(),a=t(1 .toString);o.exports=function(l){return"Symbol("+(l===void 0?"":l)+")_"+a(++n+r,36)}},3307:(o,u,e)=>{var t=e(6293);o.exports=t&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},3353:(o,u,e)=>{var t=e(9781),n=e(7293);o.exports=t&&n(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!=42})},8053:o=>{var u=TypeError;o.exports=function(e,t){if(e<t)throw u("Not enough arguments");return e}},4811:(o,u,e)=>{var t=e(7854),n=e(614),r=t.WeakMap;o.exports=n(r)&&/native code/.test(String(r))},5112:(o,u,e)=>{var t=e(7854),n=e(2309),r=e(2597),a=e(9711),l=e(6293),s=e(3307),d=n("wks"),c=t.Symbol,p=c&&c.for,v=s?c:c&&c.withoutSetter||a;o.exports=function(y){if(!r(d,y)||!l&&typeof d[y]!="string"){var b="Symbol."+y;l&&r(c,y)?d[y]=c[y]:d[y]=s&&p?p(b):v(b)}return d[y]}},1361:o=>{o.exports=`	
\v\f\r                　\u2028\u2029\uFEFF`},9554:(o,u,e)=>{var t=e(2109),n=e(8533);t({target:"Array",proto:!0,forced:[].forEach!=n},{forEach:n})},2772:(o,u,e)=>{var t=e(2109),n=e(1702),r=e(1318).indexOf,a=e(9341),l=n([].indexOf),s=!!l&&1/l([1],1,-0)<0,d=a("indexOf");t({target:"Array",proto:!0,forced:s||!d},{indexOf:function(c){var p=arguments.length>1?arguments[1]:void 0;return s?l(this,c,p)||0:r(this,c,p)}})},561:(o,u,e)=>{var t=e(2109),n=e(7908),r=e(1400),a=e(9303),l=e(6244),s=e(3658),d=e(7207),c=e(5417),p=e(6135),v=e(5117),y=e(1194),b=y("splice"),O=Math.max,x=Math.min;t({target:"Array",proto:!0,forced:!b},{splice:function(h,k){var N,D,B,M,f,S,g=n(this),T=l(g),j=r(h,T),oe=arguments.length;for(oe===0?N=D=0:oe===1?(N=0,D=T-j):(N=oe-2,D=x(O(a(k),0),T-j)),d(T+N-D),B=c(g,D),M=0;M<D;M++)f=j+M,f in g&&p(B,M,g[f]);if(B.length=D,N<D){for(M=j;M<T-D;M++)f=M+D,S=M+N,f in g?g[S]=g[f]:v(g,S);for(M=T;M>T-D+N;M--)v(g,M-1)}else if(N>D)for(M=T-D;M>j;M--)f=M+D-1,S=M+N-1,f in g?g[S]=g[f]:v(g,S);for(M=0;M<N;M++)g[M+j]=arguments[M+2];return s(g,T-D+N),B}})},3710:(o,u,e)=>{var t=e(1702),n=e(8052),r=Date.prototype,a="Invalid Date",l="toString",s=t(r[l]),d=t(r.getTime);String(new Date(NaN))!=a&&n(r,l,function(){var c=d(this);return c===c?s(this):a})},6647:(o,u,e)=>{var t=e(8052),n=e(7762),r=Error.prototype;r.toString!==n&&t(r,"toString",n)},9653:(o,u,e)=>{var t=e(9781),n=e(7854),r=e(1702),a=e(4705),l=e(8052),s=e(2597),d=e(9587),c=e(7976),p=e(2190),v=e(7593),y=e(7293),b=e(8006).f,O=e(1236).f,x=e(3070).f,h=e(863),k=e(3111).trim,N="Number",D=n[N],B=D.prototype,M=n.TypeError,f=r("".slice),S=r("".charCodeAt),g=function(te){var ue=v(te,"number");return typeof ue=="bigint"?ue:T(ue)},T=function(te){var ue,ye,Be,se,we,Le,Fe,Ve,pe=v(te,"number");if(p(pe))throw M("Cannot convert a Symbol value to a number");if(typeof pe=="string"&&pe.length>2){if(pe=k(pe),ue=S(pe,0),ue===43||ue===45){if(ye=S(pe,2),ye===88||ye===120)return NaN}else if(ue===48){switch(S(pe,1)){case 66:case 98:Be=2,se=49;break;case 79:case 111:Be=8,se=55;break;default:return+pe}for(we=f(pe,2),Le=we.length,Fe=0;Fe<Le;Fe++)if(Ve=S(we,Fe),Ve<48||Ve>se)return NaN;return parseInt(we,Be)}}return+pe};if(a(N,!D(" 0o1")||!D("0b1")||D("+0x1"))){for(var j,oe=function(te){var ue=arguments.length<1?0:D(g(te)),ye=this;return c(B,ye)&&y(function(){h(ye)})?d(Object(ue),ye,oe):ue},ie=t?b(D):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),ke=0;ie.length>ke;ke++)s(D,j=ie[ke])&&!s(oe,j)&&x(oe,j,O(D,j));oe.prototype=B,B.constructor=oe,l(n,N,oe,{constructor:!0})}},1539:(o,u,e)=>{var t=e(1694),n=e(8052),r=e(288);t||n(Object.prototype,"toString",r,{unsafe:!0})},9714:(o,u,e)=>{var t=e(6530).PROPER,n=e(8052),r=e(9670),a=e(1340),l=e(7293),s=e(4706),d="toString",c=RegExp.prototype,p=c[d],v=l(function(){return p.call({source:"a",flags:"b"})!="/a/b"}),y=t&&p.name!=d;(v||y)&&n(RegExp.prototype,d,function(){var b=r(this),O=a(b.source),x=a(s(b));return"/"+O+"/"+x},{unsafe:!0})},6815:(o,u,e)=>{var t=e(2109),n=e(7854),r=e(7152).setInterval;t({global:!0,bind:!0,forced:n.setInterval!==r},{setInterval:r})},8417:(o,u,e)=>{var t=e(2109),n=e(7854),r=e(7152).setTimeout;t({global:!0,bind:!0,forced:n.setTimeout!==r},{setTimeout:r})},2564:(o,u,e)=>{e(6815),e(8417)},3744:(o,u)=>{u.Z=(e,t)=>{const n=e.__vccOpts||e;for(const[r,a]of t)n[r]=a;return n}},7203:o=>{o.exports=q}},ee={};function I(o){var u=ee[o];if(u!==void 0)return u.exports;var e=ee[o]={exports:{}};return U[o](e,e.exports,I),e.exports}I.d=(o,u)=>{for(var e in u)I.o(u,e)&&!I.o(o,e)&&Object.defineProperty(o,e,{enumerable:!0,get:u[e]})},I.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),I.o=(o,u)=>Object.prototype.hasOwnProperty.call(o,u),I.r=o=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},I.p="";var he={};return(()=>{if(I.r(he),I.d(he,{ContextMenu:()=>ot,ContextMenuGroup:()=>rt,ContextMenuItem:()=>ze,ContextMenuSeparator:()=>We,default:()=>Vt}),typeof window<"u"){var o=window.document.currentScript,u=o&&o.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);u&&(I.p=u[1])}var e=I(7203),t=null;function n(i){t&&a(),t=i}function r(i){i===t&&(t=null)}function a(){t&&(t.closeMenu(),t=null)}I(6647),I(3710),I(1539),I(9714);var l={defaultMinWidth:100,defaultMaxWidth:600,defaultZindex:100,defaultAdjustPadding:10};function s(i,m){var C=i.offsetTop;return i.offsetParent!=null&&i.offsetParent!=m&&(C-=i.offsetParent.scrollTop,C+=s(i.offsetParent,m)),C}function d(i,m){var C=i.offsetLeft;return i.offsetParent!=null&&i.offsetParent!=m&&(C-=i.offsetParent.scrollLeft,C+=d(i.offsetParent,m)),C}function c(i,m,C,A){return{x:d(i,A)+m,y:s(i,A)+C}}function p(i){var m;(m=i.parentNode)===null||m===void 0||m.removeChild(i)}var v="mx-menu-default-container";function y(i){var m=i.getContainer,C=i.zIndex;if(m){var A=typeof m=="function"?m():m;if(A)return A.style.zIndex=(C==null?void 0:C.toString())||l.defaultZindex.toString(),{container:A,isNew:!1}}var V=document.getElementById(v);return V&&document.body.removeChild(V),V=document.createElement("div"),V.setAttribute("id",v),V.setAttribute("class","mx-menu-ghost-host fullscreen"),V.style.zIndex=(C==null?void 0:C.toString())||l.defaultZindex.toString(),document.body.appendChild(V),{container:V,isNew:!0}}var b=(0,e.defineComponent)({props:{vnode:{type:[Object,Function],default:null},data:{type:Object,default:null}},setup:function(i){var m=(0,e.toRefs)(i),C=m.vnode,A=m.data;return function(){return typeof C.value=="function"?C.value(A.value):C.value}}});function O(i,m,C){return m in i?Object.defineProperty(i,m,{value:C,enumerable:!0,configurable:!0,writable:!0}):i[m]=C,i}function x(i,m){var C=Object.keys(i);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(i);m&&(A=A.filter(function(V){return Object.getOwnPropertyDescriptor(i,V).enumerable})),C.push.apply(C,A)}return C}function h(i){for(var m=1;m<arguments.length;m++){var C=arguments[m]!=null?arguments[m]:{};m%2?x(Object(C),!0).forEach(function(A){O(i,A,C[A])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(C)):x(Object(C)).forEach(function(A){Object.defineProperty(i,A,Object.getOwnPropertyDescriptor(C,A))})}return i}I(2564);var k={class:"mx-context-menu-scroll",ref:"scroll"};function N(i,m,C,A,V,F){var L=(0,e.resolveComponent)("ContextSubMenu",!0),me=(0,e.resolveComponent)("ContextMenuItem"),ce=(0,e.resolveComponent)("VNodeRender"),ve=(0,e.resolveComponent)("ContextMenuSeparator"),ne=(0,e.resolveComponent)("ContextMenuIconRight");return(0,e.openBlock)(),(0,e.createElementBlock)("div",{class:(0,e.normalizeClass)("mx-context-menu "+(i.options.customClass?i.options.customClass:"")+" "+i.globalTheme),style:(0,e.normalizeStyle)({maxWidth:i.maxWidth?i.maxWidth:"".concat(i.constOptions.defaultMaxWidth,"px"),minWidth:i.minWidth?i.minWidth:"".concat(i.constOptions.defaultMinWidth,"px"),maxHeight:i.overflow&&i.maxHeight>0?"".concat(i.maxHeight,"px"):void 0,zIndex:i.zIndex,left:"".concat(i.position.x,"px"),top:"".concat(i.position.y,"px")}),"data-type":"ContextSubMenu",onClick:m[2]||(m[2]=function(){return i.onSubMenuBodyClick&&i.onSubMenuBodyClick.apply(i,arguments)})},[(0,e.createElementVNode)("div",{class:"mx-context-menu-items",ref:"menu",style:(0,e.normalizeStyle)({top:"".concat(i.scrollValue,"px")})},[(0,e.renderSlot)(i.$slots,"default",{},function(){return[((0,e.openBlock)(!0),(0,e.createElementBlock)(e.Fragment,null,(0,e.renderList)(i.items,function(E,be){return(0,e.openBlock)(),(0,e.createElementBlock)(e.Fragment,{key:be},[(0,e.createVNode)(me,{clickHandler:E.onClick,disabled:E.disabled,hidden:E.hidden,icon:E.icon,iconFontClass:E.iconFontClass,svgIcon:E.svgIcon,svgProps:E.svgProps,label:E.label,customRender:E.customRender,customClass:E.customClass,checked:E.checked,shortcut:E.shortcut,clickClose:E.clickClose,clickableWhenHasChildren:E.clickableWhenHasChildren,preserveIconWidth:E.preserveIconWidth!==void 0?E.preserveIconWidth:i.options.preserveIconWidth,showRightArrow:E.children&&E.children.length>0,hasChildren:E.children&&E.children.length>0,onSubMenuOpen:E.onSubMenuOpen,onSubMenuClose:E.onSubMenuClose},(0,e.createSlots)({_:2},[E.children&&E.children.length>0?{name:"submenu",fn:(0,e.withCtx)(function(){return[(0,e.createVNode)(L,{items:E.children,maxWidth:E.maxWidth,minWidth:E.minWidth,adjustPosition:E.adjustSubMenuPosition!==void 0?E.adjustSubMenuPosition:i.options.adjustPosition},null,8,["items","maxWidth","minWidth","adjustPosition"])]}),key:"0"}:void 0]),1032,["clickHandler","disabled","hidden","icon","iconFontClass","svgIcon","svgProps","label","customRender","customClass","checked","shortcut","clickClose","clickableWhenHasChildren","preserveIconWidth","showRightArrow","hasChildren","onSubMenuOpen","onSubMenuClose"]),E.hidden!==!0&&E.divided&&i.globalHasSlot("separatorRender")?((0,e.openBlock)(),(0,e.createBlock)(ce,{key:0,vnode:function(){return i.globalRenderSlot("separatorRender",{})}},null,8,["vnode"])):E.hidden!==!0&&E.divided?((0,e.openBlock)(),(0,e.createBlock)(ve,{key:1})):(0,e.createCommentVNode)("",!0)],64)}),128))]})],4),(0,e.createElementVNode)("div",k,[(0,e.withDirectives)((0,e.createElementVNode)("div",{class:"mx-context-menu-updown mx-context-no-clickable up",onClick:m[0]||(m[0]=function(E){return i.onScroll(!1)})},[(0,e.createVNode)(ne)],512),[[e.vShow,i.overflow&&i.scrollValue<0]]),(0,e.withDirectives)((0,e.createElementVNode)("div",{class:"mx-context-menu-updown mx-context-no-clickable down",onClick:m[1]||(m[1]=function(E){return i.onScroll(!0)})},[(0,e.createVNode)(ne)],512),[[e.vShow,i.overflow&&i.scrollValue>-i.scrollHeight]])],512)],6)}I(9653),I(2772),I(9554),I(561);var D={key:0,class:"mx-context-menu-item-wrapper",ref:"menuItemRef","data-type":"ContextMenuItem"},B={class:"mx-item-row"},M=["xlink:href"],f={key:1,class:"label"},S={class:"mx-item-row"},g={class:"mx-shortcut"};function T(i,m,C,A,V,F){var L=(0,e.resolveComponent)("VNodeRender"),me=(0,e.resolveComponent)("ContextMenuIconCheck"),ce=(0,e.resolveComponent)("ContextMenuIconRight");return i.hidden?(0,e.createCommentVNode)("",!0):((0,e.openBlock)(),(0,e.createElementBlock)("div",D,[i.globalHasSlot("itemRender")?((0,e.openBlock)(),(0,e.createBlock)(L,{key:0,vnode:function(){return i.globalRenderSlot("itemRender",i.getItemDataForChildren())}},null,8,["vnode"])):i.customRender?((0,e.openBlock)(),(0,e.createBlock)(L,{key:1,vnode:i.customRender,data:i.getItemDataForChildren()},null,8,["vnode","data"])):((0,e.openBlock)(),(0,e.createElementBlock)("div",{key:2,class:(0,e.normalizeClass)(["mx-context-menu-item",i.disabled?"disabled":"",i.keyBoardFocusMenu?"keyboard-focus":"",i.customClass?" "+i.customClass:"",i.showSubMenu?"open":""]),onClick:m[0]||(m[0]=function(){return i.onClick&&i.onClick.apply(i,arguments)}),onMouseenter:m[1]||(m[1]=function(){return i.onMouseEnter&&i.onMouseEnter.apply(i,arguments)})},[(0,e.renderSlot)(i.$slots,"default",{},function(){return[(0,e.createElementVNode)("div",B,[(0,e.createElementVNode)("div",{class:(0,e.normalizeClass)(["mx-icon-placeholder",i.preserveIconWidth?"preserve-width":""])},[(0,e.renderSlot)(i.$slots,"icon",{},function(){return[i.globalHasSlot("itemIconRender")?((0,e.openBlock)(),(0,e.createBlock)(L,{key:0,vnode:function(){return i.globalRenderSlot("itemIconRender",i.getItemDataForChildren())}},null,8,["vnode"])):typeof i.svgIcon=="string"&&i.svgIcon?((0,e.openBlock)(),(0,e.createElementBlock)("svg",(0,e.mergeProps)({key:1,class:"icon svg"},i.svgProps),[(0,e.createElementVNode)("use",{"xlink:href":i.svgIcon},null,8,M)],16)):typeof i.icon!="string"?((0,e.openBlock)(),(0,e.createBlock)(L,{key:2,vnode:i.icon,data:i.icon},null,8,["vnode","data"])):typeof i.icon=="string"&&i.icon!==""?((0,e.openBlock)(),(0,e.createElementBlock)("i",{key:3,class:(0,e.normalizeClass)(i.icon+" icon "+i.iconFontClass+" "+i.globalIconFontClass)},null,2)):(0,e.createCommentVNode)("",!0)]}),i.checked?(0,e.renderSlot)(i.$slots,"check",{key:0},function(){return[i.globalHasSlot("itemCheckRender")?((0,e.openBlock)(),(0,e.createBlock)(L,{key:0,vnode:function(){return i.globalRenderSlot("itemCheckRender",i.getItemDataForChildren())}},null,8,["vnode"])):(0,e.createCommentVNode)("",!0),(0,e.createVNode)(me)]}):(0,e.createCommentVNode)("",!0)],2),(0,e.renderSlot)(i.$slots,"label",{},function(){return[i.globalHasSlot("itemLabelRender")?((0,e.openBlock)(),(0,e.createBlock)(L,{key:0,vnode:function(){return i.globalRenderSlot("itemLabelRender",i.getItemDataForChildren())}},null,8,["vnode"])):typeof i.label=="string"?((0,e.openBlock)(),(0,e.createElementBlock)("span",f,(0,e.toDisplayString)(i.label),1)):((0,e.openBlock)(),(0,e.createBlock)(L,{key:2,vnode:i.label,data:i.label},null,8,["vnode","data"]))]})]),(0,e.createElementVNode)("div",S,[i.shortcut?(0,e.renderSlot)(i.$slots,"shortcut",{key:0},function(){return[i.globalHasSlot("itemShortcutRender")?((0,e.openBlock)(),(0,e.createBlock)(L,{key:0,vnode:function(){return i.globalRenderSlot("itemShortcutRender",i.getItemDataForChildren())}},null,8,["vnode"])):(0,e.createCommentVNode)("",!0),(0,e.createElementVNode)("span",g,(0,e.toDisplayString)(i.shortcut),1)]}):(0,e.createCommentVNode)("",!0),i.showRightArrow?(0,e.renderSlot)(i.$slots,"rightArrow",{key:1},function(){return[i.globalHasSlot("itemRightArrowRender")?((0,e.openBlock)(),(0,e.createBlock)(L,{key:0,vnode:function(){return i.globalRenderSlot("itemRightArrowRender",i.getItemDataForChildren())}},null,8,["vnode"])):(0,e.createCommentVNode)("",!0),(0,e.createVNode)(ce)]}):(0,e.createCommentVNode)("",!0)])]})],34)),i.showSubMenu?(0,e.renderSlot)(i.$slots,"submenu",{key:3}):(0,e.createCommentVNode)("",!0)],512))}var j={class:"mx-checked-mark","aria-hidden":"true",viewBox:"0 0 1024 1024"},oe=(0,e.createElementVNode)("path",{d:"M129.3,428.6L52,512l345,372.5l575-620.8l-69.5-75L400.4,718.2L129.3,428.6z"},null,-1),ie=[oe];function ke(i,m){return(0,e.openBlock)(),(0,e.createElementBlock)("svg",j,ie)}var te=I(3744);const ue={},ye=(0,te.Z)(ue,[["render",ke]]),Be=ye;var se={class:"mx-right-arrow","aria-hidden":"true",viewBox:"0 0 1024 1024"},we=(0,e.createElementVNode)("path",{d:"M307.018 49.445c11.517 0 23.032 4.394 31.819 13.18L756.404 480.18c8.439 8.438 13.181 19.885 13.181 31.82s-4.741 23.38-13.181 31.82L338.838 961.376c-17.574 17.573-46.065 17.573-63.64-0.001-17.573-17.573-17.573-46.065 0.001-63.64L660.944 512 275.198 126.265c-17.574-17.573-17.574-46.066-0.001-63.64C283.985 53.839 295.501 49.445 307.018 49.445z"},null,-1),Le=[we];function Fe(i,m){return(0,e.openBlock)(),(0,e.createElementBlock)("svg",se,Le)}const Ve={},pe=(0,te.Z)(Ve,[["render",Fe]]),tt=pe,St=(0,e.defineComponent)({name:"ContextMenuItem",components:{VNodeRender:b,ContextMenuIconCheck:Be,ContextMenuIconRight:tt},props:{disabled:{type:Boolean,default:!1},hidden:{type:Boolean,default:!1},customRender:{type:Function,default:null},customClass:{type:String,default:""},clickHandler:{type:Function,default:null},label:{type:[String,Object,Function],default:""},icon:{type:[String,Object,Function],default:""},iconFontClass:{type:String,default:"iconfont"},checked:{type:Boolean,default:!1},shortcut:{type:String,default:""},svgIcon:{type:String,default:""},svgProps:{type:Object,default:null},preserveIconWidth:{type:Boolean,default:!0},showRightArrow:{type:Boolean,default:!1},hasChildren:{type:Boolean,default:!1},clickClose:{type:Boolean,default:!0},clickableWhenHasChildren:{type:Boolean,default:!1}},emits:["click","subMenuOpen","subMenuClose"],setup:function(i,m){var C=(0,e.toRefs)(i),A=C.clickHandler,V=C.clickClose,F=C.clickableWhenHasChildren,L=C.disabled,me=C.hidden,ce=C.label,ve=C.icon,ne=C.iconFontClass,E=C.showRightArrow,be=C.shortcut,W=C.hasChildren,le=(0,e.ref)(!1),Y=(0,e.ref)(!1),K=(0,e.ref)(),Ee=(0,e.inject)("globalHasSlot"),z=(0,e.inject)("globalRenderSlot"),re=(0,e.inject)("globalTheme"),Oe=(0,e.inject)("globalIconFontClass"),Re=(0,e.inject)("globalCloseMenu"),X=(0,e.inject)("menuContext"),ge={showSubMenu:function(){le.value?X.markActiveMenuItem(ge,!0):W.value&&xe()},isDisabledOrHidden:function(){return L.value||me.value},getElement:function(){return K.value},focus:function(){return Y.value=!0},blur:function(){return Y.value=!1},click:_e};function _e(ae){L.value||ae&&ae.target.classList.contains("mx-context-no-clickable")||(W.value?F.value?(typeof A.value=="function"&&A.value(),m.emit("click")):le.value||xe():(typeof A.value=="function"&&A.value(),m.emit("click"),V.value&&Re()))}function xe(ae){Y.value=!1,X.checkCloseOtherSubMenuTimeOut()||X.closeOtherSubMenu(),L.value||(X.markActiveMenuItem(ge),W.value&&(ae||X.markThisOpenedByKeyBoard(),X.addOpenedSubMenu(function(){Y.value=!1,le.value=!1,m.emit("subMenuClose")}),le.value=!0,m.emit("subMenuOpen")))}return(0,e.onMounted)(function(){X.isMenuItemDataCollectedFlag()?(0,e.nextTick)(function(){var ae=0,Ce=X.getElement();if(Ce)for(var Te=0,Ae=0;Ae<Ce.children.length;Ae++){var Ne=Ce.children[Ae];if(Ne.getAttribute("data-type")==="ContextMenuItem"){if(Ne===K.value){ae=Te;break}Te++}}X.addChildMenuItem(ge,ae)}):X.addChildMenuItem(ge)}),(0,e.onBeforeUnmount)(function(){X.removeChildMenuItem(ge)}),{getItemDataForChildren:function(){return{disabled:L.value,label:ce.value,icon:ve.value,iconFontClass:ne.value,showRightArrow:E.value,clickClose:V.value,clickableWhenHasChildren:F.value,shortcut:be.value,theme:re,isOpen:le,hasChildren:W,onClick:_e,onMouseEnter:xe}},showSubMenu:le,keyBoardFocusMenu:Y,menuItemRef:K,globalHasSlot:Ee,globalRenderSlot:z,globalIconFontClass:Oe,onMouseEnter:xe,onClick:_e}}}),It=(0,te.Z)(St,[["render",T]]),ze=It;var kt={class:"mx-context-menu-item-sperator mx-context-no-clickable"};function wt(i,m,C,A,V,F){return(0,e.openBlock)(),(0,e.createElementBlock)("div",kt)}const Ot=(0,e.defineComponent)({name:"ContextMenuSperator"}),_t=(0,te.Z)(Ot,[["render",wt]]),We=_t,Mt=(0,e.defineComponent)({name:"ContextSubMenu",components:{ContextMenuItem:ze,ContextMenuSeparator:We,VNodeRender:b,ContextMenuIconRight:tt},props:{items:{type:Object,default:null},maxWidth:{type:[String,Number],default:0},minWidth:{type:[String,Number],default:0},adjustPosition:{type:Boolean,default:!0}},setup:function(i){var m=(0,e.inject)("menuContext"),C=(0,e.inject)("globalOptions"),A=(0,e.inject)("globalHasSlot"),V=(0,e.inject)("globalRenderSlot"),F=(0,e.inject)("globalTheme"),L=((0,e.inject)("globalIsFullScreenContainer"),m.zIndex),me=m.getMyPosition,ce=m.getParentWidth,ve=(0,e.toRefs)(i),ne=ve.adjustPosition,E=(0,e.ref)(),be=(0,e.ref)(),W=[],le=(0,e.inject)("globalSetCurrentSubMenu"),Y=[],K=null,Ee=0;function z(){K&&K.blur()}function re(_,$){if(_){for(var Me=$!==void 0?$:0;Me<Y.length;Me++)if(!Y[Me].isDisabledOrHidden()){Oe(Me);break}}else for(var je=$!==void 0?$:Y.length-1;je>=0;je--)if(!Y[je].isDisabledOrHidden()){Oe(je);break}}function Oe(_){if(K&&z(),_!==void 0&&(K=Y[Math.max(0,Math.min(_,Y.length-1))]),K&&(K.focus(),Ae.value)){var $=K.getElement();$&&(ae.value=Math.min(Math.max(-Ce.value,-$.offsetTop-$.offsetHeight+He.value),0))}}function Re(){le(X)}var X={isTopLevel:function(){return m.getParentContext()===null},closeSelfAndActiveParent:function(){var _,$=xe.getParentContext();$&&($.closeOtherSubMenu(),(_=$.getSubMenuInstanceContext())===null||_===void 0||_.focusCurrentItem())},closeCurrentSubMenu:function(){var _;return(_=xe.getParentContext())===null||_===void 0?void 0:_.closeOtherSubMenu()},moveCurrentItemFirst:function(){return re(!0)},moveCurrentItemLast:function(){return re(!1)},moveCurrentItemDown:function(){return re(!0,K?Y.indexOf(K)+1:0)},moveCurrentItemUp:function(){return re(!1,K?Y.indexOf(K)-1:0)},focusCurrentItem:function(){return Oe()},openCurrentItemSubMenu:function(){var _;return(_=K)===null||_===void 0?void 0:_.showSubMenu()},triggerCurrentItemClick:function(){var _;return(_=K)===null||_===void 0?void 0:_.click()}},ge=!1,_e=!1,xe={zIndex:L+1,container:m.container,adjustPadding:m.adjustPadding,getMyPosition:function(){var _={x:0,y:0};return E.value&&(_.x=E.value.offsetWidth+(C.xOffset||0)),C.yOffset&&(_.y=C.yOffset),_},getParentWidth:function(){var _;return((_=E.value)===null||_===void 0?void 0:_.offsetWidth)||0},getParentAbsY:function(){return E.value?s(E.value,m.container):0},addOpenedSubMenu:function(_){W.push(_)},closeOtherSubMenu:function(){W.forEach(function(_){return _()}),W.splice(0,W.length),le(X)},checkCloseOtherSubMenuTimeOut:function(){return!!Ee&&(clearTimeout(Ee),Ee=0,!0)},closeOtherSubMenuWithTimeOut:function(){var _=this;Ee=setTimeout(function(){Ee=0,_.closeOtherSubMenu()},200)},addChildMenuItem:function(_,$){$===void 0?Y.push(_):Y.splice($,0,_)},removeChildMenuItem:function(_){Y.splice(Y.indexOf(_),1)},markActiveMenuItem:function(_){var $=arguments.length>1&&arguments[1]!==void 0&&arguments[1];z(),K=_,$&&Oe()},markThisOpenedByKeyBoard:function(){ge=!0},isOpenedByKeyBoardFlag:function(){return!!ge&&(ge=!1,!0)},isMenuItemDataCollectedFlag:function(){return _e},getElement:function(){return E.value||null},getParentContext:function(){return m},getSubMenuInstanceContext:function(){return X}};(0,e.provide)("menuContext",xe);var ae=(0,e.ref)(0),Ce=(0,e.ref)(0);function Te(_){ae.value=_?Math.max(ae.value-50,-Ce.value):Math.min(ae.value+50,0)}var Ae=(0,e.ref)(!1),Ne=(0,e.ref)({x:0,y:0}),He=(0,e.ref)(0);return(0,e.onMounted)(function(){Ne.value=me(),le(X),(0,e.nextTick)(function(){var _=E.value;if(ne.value&&_&&be.value){var $=m.container,Me=m.adjustPadding,je=document.documentElement.scrollHeight,Lt=document.documentElement.scrollWidth,zt=Math.min(Lt,$.offsetWidth),$e=Math.min(je,$.offsetHeight),Wt=d(_,$),it=s(_,$),Ht=Wt+_.offsetWidth-zt,lt=it+_.offsetHeight-$e;if(Ce.value=_.offsetHeight-$e+2*Me,Ae.value=lt>0,Ht>0&&(Ne.value.x-=(ce?ce():0)+_.offsetWidth-Me),Ae.value){var Kt=Math.min(it-Me,lt+Me);Ne.value.y-=Kt,He.value=$e-2*Me}else He.value=0}_==null||_.focus({preventScroll:!0}),m.isOpenedByKeyBoardFlag()&&re(!0),_e=!0})}),{menu:E,scroll:be,options:C,zIndex:L,constOptions:l,scrollValue:ae,overflow:Ae,position:Ne,scrollHeight:Ce,maxHeight:He,globalHasSlot:A,globalRenderSlot:V,globalTheme:F,onScroll:Te,onSubMenuBodyClick:Re}}}),Et=(0,te.Z)(Mt,[["render",N]]),Ke=Et,Pt=(0,e.defineComponent)({name:"ContextMenu",emits:["update:show","close"],props:{options:{type:Object,default:null},show:{type:Boolean,default:!1},container:{type:Object,default:null},isFullScreenContainer:{type:Boolean,default:!0}},setup:function(i,m){var C,A,V=(0,e.toRefs)(i),F=V.options,L=V.show,me=V.container;(0,e.onMounted)(function(){L&&ve()}),(0,e.onBeforeUnmount)(function(){be()}),(0,e.watch)(L,function(z){z?ve():be()});var ce={closeMenu:ne};function ve(){E(),n(ce)}function ne(){m.emit("update:show",!1),m.emit("close"),r(ce)}function E(){setTimeout(function(){document.addEventListener("click",K,!0),document.addEventListener("contextmenu",K,!0),document.addEventListener("wheel",Y,!0),F.value.keyboardControl!==!1&&document.addEventListener("keydown",le)},50)}function be(){document.removeEventListener("contextmenu",K,!0),document.removeEventListener("click",K,!0),document.removeEventListener("wheel",Y,!0),F.value.keyboardControl!==!1&&document.removeEventListener("keydown",le)}m.expose({closeMenu:ne});var W=(0,e.ref)();function le(z){var re,Oe,Re,X,ge,_e,xe=!0;switch(z.key){case"Escape":var ae,Ce;((ae=W.value)===null||ae===void 0?void 0:ae.isTopLevel())===!1?(Ce=W.value)===null||Ce===void 0||Ce.closeCurrentSubMenu():ne();break;case"ArrowDown":(re=W.value)===null||re===void 0||re.moveCurrentItemDown();break;case"ArrowUp":(Oe=W.value)===null||Oe===void 0||Oe.moveCurrentItemUp();break;case"Home":(Re=W.value)===null||Re===void 0||Re.moveCurrentItemFirst();break;case"End":(X=W.value)===null||X===void 0||X.moveCurrentItemLast();break;case"ArrowLeft":var Te;(Te=W.value)===null||Te===void 0||Te.closeSelfAndActiveParent();break;case"ArrowRight":(ge=W.value)===null||ge===void 0||ge.openCurrentItemSubMenu();break;case"Enter":(_e=W.value)===null||_e===void 0||_e.triggerCurrentItemClick();break;default:xe=!1;break}xe&&W.value&&(z.stopPropagation(),z.preventDefault())}function Y(){F.value.closeWhenScroll!==!1&&ne()}function K(z){Ee(z.target)}function Ee(z){for(;z;){if(z.classList&&z.classList.contains("mx-menu-host"))return;z=z.parentNode}be(),ne()}return(0,e.provide)("globalSetCurrentSubMenu",function(z){return W.value=z}),(0,e.provide)("globalOptions",F.value),(0,e.provide)("globalCloseMenu",ne),(0,e.provide)("globalTheme",((C=F.value)===null||C===void 0?void 0:C.theme)||"light"),(0,e.provide)("globalIsFullScreenContainer",i.isFullScreenContainer),(0,e.provide)("globalIconFontClass",((A=F.value)===null||A===void 0?void 0:A.iconFontClass)||"iconfont"),(0,e.provide)("globalHasSlot",function(z){return m.slots[z]!==void 0}),(0,e.provide)("globalRenderSlot",function(z,re){return(0,e.renderSlot)(m.slots,z,h({},re))}),(0,e.provide)("menuContext",{zIndex:F.value.zIndex||l.defaultZindex,container:me.value,adjustPadding:F.value.adjustPadding||l.defaultAdjustPadding,getParentAbsY:function(){return F.value.y},getMyPosition:function(){return{x:F.value.x,y:F.value.y}},getParentWidth:function(){return 0},closeOtherSubMenuWithTimeOut:function(){},checkCloseOtherSubMenuTimeOut:function(){return!1},addOpenedSubMenu:function(){},closeOtherSubMenu:function(){},getParentContext:function(){return null},getSubMenuInstanceContext:function(){return null},getElement:function(){return null},addChildMenuItem:function(){},removeChildMenuItem:function(){},markActiveMenuItem:function(){},markThisOpenedByKeyBoard:function(){},isOpenedByKeyBoardFlag:function(){return!1},isMenuItemDataCollectedFlag:function(){return!1}}),function(){var z,re;return L.value?[(0,e.h)("div",{class:"mx-menu-ghost-host"},[(0,e.h)(Ke,{class:"mx-menu-host",items:(z=F.value)===null||z===void 0?void 0:z.items,adjustPosition:(re=F.value)===null||re===void 0?void 0:re.adjustPosition,maxWidth:F.value.maxWidth||l.defaultMaxWidth,minWidth:F.value.minWidth||l.defaultMinWidth},{default:m.slots.default})])]:[]}}}),Dt=Pt,nt=Dt,Tt=(0,e.defineComponent)({name:"ContextMenu",emits:["update:show","close"],props:{options:{type:Object,default:null},show:{type:Boolean,default:!1}},setup:function(i,m){var C=(0,e.toRefs)(i),A=C.options,V=C.show,F=null,L=!1;function me(){var ve=y(A.value),ne=ve.container,E=ve.isNew,be=(0,e.h)(nt,{options:A,show:!0,container:ne,isFullScreenContainer:!E,"onUpdate:show":function(W){return m.emit("update:show",W)},onClose:function(){var W,le;(0,e.render)(null,ne),(W=(le=A.value).onClose)===null||W===void 0||W.call(le),m.emit("close")}},m.slots);L=E,F=ne,(0,e.render)(be,ne)}function ce(){F&&(L&&p(F),F=null)}return(0,e.watch)(V,function(ve){ve?me():ce()}),m.expose({closeMenu:ce}),function(){return[]}}}),At=Tt,ot=At;function Ue(i){return Ue=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},Ue(i)}const Bt=(0,e.defineComponent)({name:"ContextMenuGroup",props:{disabled:{type:Boolean,default:!1},hidden:{type:Boolean,default:!1},clickHandler:{type:Function,default:null},label:{type:String,default:""},icon:{type:String,default:""},iconFontClass:{type:String,default:"iconfont"},checked:{type:Boolean,default:!1},shortcut:{type:String,default:""},svgIcon:{type:String,default:""},svgProps:{type:Object,default:null},preserveIconWidth:{type:Boolean,default:!0},showRightArrow:{type:Boolean,default:!1},clickClose:{type:Boolean,default:!0},adjustSubMenuPosition:{type:Boolean,default:void 0},maxWidth:{type:[String,Number],default:0},minWidth:{type:[String,Number],default:0}},setup:function(i,m){var C=(0,e.inject)("globalOptions"),A=(0,e.toRefs)(i),V=A.adjustSubMenuPosition,F=A.maxWidth,L=A.minWidth,me=typeof V.value<"u"?V.value:C.adjustPosition;return function(){return(0,e.h)(ze,h(h({},i),{},{showRightArrow:!0,maxWidth:void 0,minWidth:void 0,adjustSubMenuPosition:void 0,hasChildren:Ue(m.slots.default)!==void 0}),m.slots.default?{submenu:function(){return(0,e.h)(Ke,{maxWidth:F.value,minWidth:L.value,adjustPosition:me},{default:m.slots.default})}}:void 0)}}}),Rt=Bt,rt=Rt;function Nt(i,m,C,A){var V=(0,e.h)(nt,{options:i,show:!0,container:m,isFullScreenContainer:!C,onClose:function(){var F;(0,e.render)(null,m),(F=i.onClose)===null||F===void 0||F.call(i)}},A);return(0,e.render)(V,m),V.component}function at(i,m){var C=y(i),A=Nt(i,C.container,C.isNew,m);return A.exposed}const Ft={install:function(i){i.config.globalProperties.$contextmenu=at,i.component("ContextMenu",ot),i.component("ContextMenuItem",ze),i.component("ContextMenuGroup",rt),i.component("ContextMenuSperator",We),i.component("ContextMenuSeparator",We),i.component("ContextSubMenu",Ke)},showContextMenu:function(i,m){return at(i,m)},closeContextMenu:a,transformMenuPosition:c},jt=Ft,Vt=jt})(),he})())})(Cn);const xn=qt(Xe);const Sn={class:"col-12 col-xl-4 mt-4 mt-xl-0"},In={__name:"index",setup(De){const G=J(Se.havePermission(R.permissions.organization.createEdit)||Se.havePermission(R.permissions.organization.submit)||Se.havePermission(R.permissions.organization.approve));Qt(async()=>{t.value=!0;const f=await ln.getById(4);P.validateResponse(f,null,()=>{if(P.isDate(f.data.value)){if(f.data.value.includes("/")){let g=f.data.value.split(" ")[0].split("/");a.value=new Date(`${g[2]}/${g[1]}/${g[0]}`)}if(f.data.value.includes("-")){let g=f.data.value.split("T")[0].split("-");a.value=new Date(`${g[1]}/${g[2]}/${g[0]}`)}}else a.value=new Date(f.data.value)}),t.value=!1}),Qe(async()=>{U.isOnPage=!0,q.on(H.emitter.OPEN_SUMMARY_CLICK,f=>{U.setSelectedItem(f.item),o.value=f.itemKey,e.value=!0}),q.on(H.emitter.CLOSE_SUMMARY_CLICK,()=>{U.resetSelectedItem(),o.value="",e.value=!1}),q.on(H.emitter.OPEN_CONTEXT_MENU,f=>{const S=s(f);xn.showContextMenu({x:f.e.x,y:f.e.y,items:S})}),await M()}),pt(()=>{U.isOnPage=!1,q.off(H.emitter.OPEN_SUMMARY_CLICK),q.off(H.emitter.CLOSE_SUMMARY_CLICK),q.off(H.emitter.OPEN_CONTEXT_MENU),q.off(H.emitter.OPENALL),U.resetSelectedItem()});const q=qe(),U=Je(),ee=mt(),I="date-picker",he=vt();un();var o=J("");J(0);var u=J(0),e=J(!1),t=J(!0),n=J(null),r=new Date,a=J(null);r.setDate(r.getDate()-1);var l=J(U.itemList);J(null);function s(f){var S=[];if(S.push({label:"Abrir tudo",onClick:()=>v(f.uuid)}),f.isOpen&&S.push({label:"Fechar tudo",onClick:()=>y(f.uuid)}),P.formatDate(f.date,"DDMMyyyy")===P.formatDate(new Date,"DDMMyyyy"))switch(f.item.typeId){case R.organicEnum.entity:U.lastItemKey=f.itemKey,S.push({label:"Ver detalhe",onClick:()=>d(f.item)}),f.item.canHaveServices&&Se.havePermissionOrganization(R.permissions.organization.createEdit,f.item.id)&&S.push({label:"Criar serviço",onClick:()=>h(f.item)}),f.item.canHavePointsOfCare&&Se.havePermissionOrganization(R.permissions.organization.createEdit,f.item.id)&&S.push({label:"Criar ponto de atendimento",onClick:()=>k(f.item)}),Se.havePermissionOrganization(R.permissions.organization.createEdit,f.item.id)&&S.push({label:"Criar sub-entidade",onClick:()=>N(f.item)}),Se.havePermissionOrganization(R.permissions.document.createEdit,f.item.id)&&S.push({label:"Criar documento",onClick:()=>D(f.item)});break;case R.organicEnum.service:S.push({label:"Ver detalhe",onClick:()=>c(f.item)});break;case R.organicEnum.servicePoint:S.push({label:"Ver detalhe",onClick:()=>seePointOfCareDetail(f.item)}),Se.havePermissionOrganization(R.permissions.pointOfCare.createEdit,f.item.parent.id)&&S.push({label:"Associar serviço",onClick:()=>p(f.item)});break;case R.organicEnum.folder:let g=f.item.parent.id;Se.havePermissionOrganization(R.permissions.pointOfCare.createEdit,g)&&f.item.name=="Pontos de Atendimento"&&S.push({label:"Criar ponto de atendimento",onClick:()=>k(f.item.parent)}),Se.havePermissionOrganization(R.permissions.service.createEdit,f.item.parent.id)&&f.item.name=="Serviços"&&f.item.parentTypeId==R.organicEnum.entity&&S.push({label:"Criar serviço",onClick:()=>h(f.item.parent)});break}return S}function d(f){ee.push({name:H.router.BACKOFFICE_DETAIL_ENTITY_PAGE.name,params:{organizationId:P.encodeId(f.id),organizationVersion:P.encodeId(f.version),organicOrigin:!0}})}function c(f){ee.push({name:H.router.BACKOFFICE_DETAIL_SERVICE_PAGE.name,params:{serviceId:P.encodeId(f.id),serviceVersion:P.encodeId(f.version),organicOrigin:!0}})}function p(f){ee.push({name:H.router.BACKOFFICE_DETAIL_POINT_OF_CARE_PAGE.name,params:{pointOfCareId:P.encodeId(f.id),pointOfCareVersion:P.encodeId(f.version),organicOrigin:!0,association:!0}})}function v(f){q.emit(H.emitter.OPENALL,f)}function y(f){q.emit(H.emitter.CLOSEALL,f)}function b(){n.value=null,P.showModalById(I)}function O(){if(l.value.find(S=>P.formatDate(S.date,"DDMMyyyy")===P.formatDate(n.value,"DDMMyyyy"))){n.value=null,rn.warning(he.common.duplicatedDate);return}U.addItem({id:`tab${P.formatDate(n.value,"DDMMyyyy")}`,name:P.formatDate(n.value),date:n.value,showSearch:!1,showIconClose:!0,tree:null}),l.value=U.itemList,window.setTimeout(function(){document.querySelectorAll(".nav-tabs button.nav-link").forEach(g=>{const T=new st(g);g.addEventListener("click",j=>{j.preventDefault(),T.show(),q.emit(H.emitter.TAB_CLICK,T)}),g.id==`tab${P.formatDate(n.value,"DDMMyyyy")}-tab`&&(T.show(),q.emit(H.emitter.TAB_CLICK,T))}),n.value=null},100)}function x(f){var S=U.revomeItemById(f);S&&window.setTimeout(function(){document.querySelectorAll(".nav-tabs button.nav-link").forEach(T=>{if(T.id==`tab${P.formatDate(new Date,"DDMMyyyy")}-tab`){const j=new st(T);j.show(),q.emit(H.emitter.TAB_CLICK,j)}}),l.value=U.itemList},0)}async function h(f){t.value=!0;const S={id:f.id,version:f.version},g=await xt.create(cn.newForm(S));P.validateResponseAsync(g,null,async()=>{const T=P.encodeId(g.data.serviceId),j=P.encodeId(g.data.serviceVersion);ee.push({name:H.router.BACKOFFICE_EDIT_ENTITY_SERVICE_PAGE.name,params:{serviceId:T,serviceVersion:j,organizationId:P.encodeId(f.id),organizationVersion:P.encodeId(f.version),organicOrigin:!0}})}),t.value=!1}async function k(f){t.value=!0;const S={id:f.id,version:f.version},g=await Ct.create(pn.newForm(S));P.validateResponseAsync(g,null,async()=>{const T=P.encodeId(g.data.pointOfCareId),j=P.encodeId(g.data.pointOfCareVersion);ee.push({name:H.router.BACKOFFICE_EDIT_ENTITY_POINT_OF_CARE_PAGE.name,params:{pointOfCareId:T,pointOfCareVersion:j,organizationId:P.encodeId(f.id),organizationVersion:P.encodeId(f.version),organicOrigin:!0}})}),t.value=!1}async function N(f){t.value=!0;const S={id:f.id,version:f.version},g=await bt.create(dn.newForm(S));P.validateResponseAsync(g,null,async()=>{const T=P.encodeId(g.data.organizationId),j=P.encodeId(g.data.organizationVersion);ee.push({name:H.router.BACKOFFICE_EDIT_ENTITY_PAGE.name,params:{organizationId:T,organizationVersion:j,organicOrigin:!0}})}),t.value=!1}async function D(f){t.value=!0;const S={id:f.id,version:f.version},g=await an.create(fn.newForm(S));P.validateResponseAsync(g,null,async()=>{const T=P.encodeId(g.data.documentId),j=P.encodeId(g.data.documentVersion);ee.push({name:H.router.BACKOFFICE_EDIT_DOCUMENT_PAGE.name,params:{documentId:T,documentVersion:j,organicOrigin:!0}})}),t.value=!1}const B=dt(()=>he.backoffice.organic.infoDate.replace("{0}",P.formatDate(a.value)));async function M(){t.value=!0;let f=await et.getIcons();P.validateResponseAsync(f,null,async()=>{U.iconList=f.data}),t.value=!1}return(f,S)=>{const g=Q("tab-content"),T=Q("plus-tab-item"),j=Q("tabs"),oe=Q("card"),ie=Q("row"),ke=Q("page"),te=Q("form-field"),ue=Q("alert"),ye=Q("cbutton"),Be=Q("modal");return fe(),Ge(Ze,null,[Z(ke,{title:f._lang.backoffice.organic.pageTitle},{default:de(()=>[Z(ie,null,{default:de(()=>[Pe("div",{class:yt([{"col-xl-8":w(e)},"col-12"])},[G.value?(fe(),Ie(j,{isChildOfProps:!0,key:w(u),onIconCloseClick:x},en({default:de(()=>[(fe(!0),Ge(Ze,null,tn(w(l),(se,we)=>(fe(),Ie(g,{key:we,id:se.id,title:se.name,active:we==0,disabled:!1,showIconClose:se.showIconClose},{default:de(()=>[Z(ct,{selectedNode:w(o),date:se.date,showSearch:se.showSearch,index:we},null,8,["selectedNode","date","showSearch","index"])]),_:2},1032,["id","title","active","showIconClose"]))),128))]),_:2},[G.value?{name:"after",fn:de(()=>[Z(T,{onClick:b})]),key:"0"}:void 0]),1024)):(fe(),Ie(oe,{key:1,shadow:!0},{body:de(()=>[Z(ct,{selectedNode:w(o),date:w(l)[0].date,showSearch:!1,index:0},null,8,["selectedNode","date"])]),_:1}))],2),nn(Pe("div",Sn,[Z(bn,{showMargin:G.value},null,8,["showMargin"])],512),[[on,w(e)]])]),_:1})]),_:1},8,["title"]),Z(Be,{id:I,title:f._lang.common.addDate,size:w(R).modalSize.medium},{body:de(()=>[Z(ie,null,{default:de(()=>[Z(te,{id:"startDate",class:"mb-3 col-12",modelValue:w(n),"onUpdate:modelValue":S[0]||(S[0]=se=>ht(n)?n.value=se:n=se),label:f._lang.label.date,type:w(R).inputs.datepicker,placeholder:"dd/mm/aaaa",maxDate:w(r),minDate:w(a)},null,8,["modelValue","label","type","maxDate","minDate"])]),_:1}),Z(ie,null,{default:de(()=>[Pe("p",null,gt(w(B)),1),Z(ue,{type:w(R).alertType.warning,text:f._lang.backoffice.organic.dateDescription},null,8,["type","text"])]),_:1})]),footer:de(()=>[Z(ye,{title:f._lang.common.confirm,"data-bs-dismiss":"modal","aria-label":"Close",onClick:O,disabled:!w(n)},null,8,["title","disabled"]),Z(ye,{title:f._lang.common.close,type:w(R).buttonType.secondary,"data-bs-dismiss":"modal","aria-label":"Close"},null,8,["title","type"])]),_:1},8,["title","size"])],64)}}},jn=Jt(In,[["__scopeId","data-v-b256e074"]]);export{jn as default};
