import{_ as qr,J as vr,k as vn,s as N,c as De,e as gt,A as qt,ac as Xo,d as Ca,h as hr,r as Se,i as Zr,u as re,o as mr,C as be,a as Jr,v as q,P as mt,l as He,p as ot,K as pn,q as Ve,y as Ia,x as pr,Q as Ko,R as Go,F as Bn,z as qo,m as dt,D as ka,E as Ma,j as Zo,n as ut,g as Jo,O as Ta,L as Qo,ad as ja,ae as Da,af as Aa,N as Ra,ag as za,B as Ba,T as $o}from"./index-bb041a92.js";import{t as Fn}from"./treeview-3f314a99.js";import{p as Qr}from"./point-of-care-cea4a765.js";import{o as ei}from"./organization-e761b3c4.js";import{s as ti}from"./service-05ba5811.js";import{p as Fa,u as Na}from"./params-ffadf4e3.js";import{b as La}from"./helpers-f0eb2667.js";import{s as Va}from"./helpers-88e09779.js";import{o as Wa}from"./helpers-87024433.js";import{p as Ha}from"./helpers-c3e2dc86.js";import"./index.esm-70b2cee2.js";import"./helpers-c77579e9.js";const $a="/images/organic/item-close.png",ni="/images/organic/item-open.png";const Ua=["src"],Ya={__name:"icon",props:{itemTypeId:{type:Number,required:!0}},setup(Ae){const Te=Ae,K=vr(),J=vn(()=>{var W;let he=null;return he=(W=K.iconList.find($e=>$e.id==Te.itemTypeId))==null?void 0:W.icon,he&&(he=`data:${he==null?void 0:he.mime};base64,${he==null?void 0:he.data}`),he});return(he,W)=>N(J)!=null?(De(),gt("img",{key:0,src:N(J),class:"previewImg"},null,8,Ua)):qt("",!0)}},Xa=qr(Ya,[["__scopeId","data-v-dc885b70"]]);var Kr={},Ka={get exports(){return Kr},set exports(Ae){Kr=Ae}};(function(Ae,Te){(function(K){Ae.exports=K()})(function(){var K={};Object.defineProperty(K,"__esModule",{value:!0}),K.default=void 0,K.default=function(e){return!(!e||!e.Window)&&e instanceof e.Window};var J={};Object.defineProperty(J,"__esModule",{value:!0}),J.getWindow=function(e){return(0,K.default)(e)?e:(e.ownerDocument||e).defaultView||W.window},J.init=$e,J.window=J.realWindow=void 0;var he=void 0;J.realWindow=he;var W=void 0;function $e(e){J.realWindow=he=e;var t=e.document.createTextNode("");t.ownerDocument!==e.document&&typeof e.wrap=="function"&&e.wrap(t)===t&&(e=e.wrap(e)),J.window=W=e}J.window=W,typeof window<"u"&&window&&$e(window);var c={};function g(e){return g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},g(e)}Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var i=function(e){return!!e&&g(e)==="object"},f=function(e){return typeof e=="function"},p={window:function(e){return e===J.window||(0,K.default)(e)},docFrag:function(e){return i(e)&&e.nodeType===11},object:i,func:f,number:function(e){return typeof e=="number"},bool:function(e){return typeof e=="boolean"},string:function(e){return typeof e=="string"},element:function(e){if(!e||g(e)!=="object")return!1;var t=J.getWindow(e)||J.window;return/object|function/.test(typeof Element>"u"?"undefined":g(Element))?e instanceof Element||e instanceof t.Element:e.nodeType===1&&typeof e.nodeName=="string"},plainObject:function(e){return i(e)&&!!e.constructor&&/function Object\b/.test(e.constructor.toString())},array:function(e){return i(e)&&e.length!==void 0&&f(e.splice)}};c.default=p;var h={};function m(e){var t=e.interaction;if(t.prepared.name==="drag"){var n=t.prepared.axis;n==="x"?(t.coords.cur.page.y=t.coords.start.page.y,t.coords.cur.client.y=t.coords.start.client.y,t.coords.velocity.client.y=0,t.coords.velocity.page.y=0):n==="y"&&(t.coords.cur.page.x=t.coords.start.page.x,t.coords.cur.client.x=t.coords.start.client.x,t.coords.velocity.client.x=0,t.coords.velocity.page.x=0)}}function w(e){var t=e.iEvent,n=e.interaction;if(n.prepared.name==="drag"){var r=n.prepared.axis;if(r==="x"||r==="y"){var o=r==="x"?"y":"x";t.page[o]=n.coords.start.page[o],t.client[o]=n.coords.start.client[o],t.delta[o]=0}}}Object.defineProperty(h,"__esModule",{value:!0}),h.default=void 0;var _={id:"actions/drag",install:function(e){var t=e.actions,n=e.Interactable,r=e.defaults;n.prototype.draggable=_.draggable,t.map.drag=_,t.methodDict.drag="draggable",r.actions.drag=_.defaults},listeners:{"interactions:before-action-move":m,"interactions:action-resume":m,"interactions:action-move":w,"auto-start:check":function(e){var t=e.interaction,n=e.interactable,r=e.buttons,o=n.options.drag;if(o&&o.enabled&&(!t.pointerIsDown||!/mouse|pointer/.test(t.pointerType)||r&n.options.drag.mouseButtons))return e.action={name:"drag",axis:o.lockAxis==="start"?o.startAxis:o.lockAxis},!1}},draggable:function(e){return c.default.object(e)?(this.options.drag.enabled=e.enabled!==!1,this.setPerAction("drag",e),this.setOnEvents("drag",e),/^(xy|x|y|start)$/.test(e.lockAxis)&&(this.options.drag.lockAxis=e.lockAxis),/^(xy|x|y)$/.test(e.startAxis)&&(this.options.drag.startAxis=e.startAxis),this):c.default.bool(e)?(this.options.drag.enabled=e,this):this.options.drag},beforeMove:m,move:w,defaults:{startAxis:"xy",lockAxis:"xy"},getCursor:function(){return"move"}},C=_;h.default=C;var S={};Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var k={init:function(e){var t=e;k.document=t.document,k.DocumentFragment=t.DocumentFragment||T,k.SVGElement=t.SVGElement||T,k.SVGSVGElement=t.SVGSVGElement||T,k.SVGElementInstance=t.SVGElementInstance||T,k.Element=t.Element||T,k.HTMLElement=t.HTMLElement||k.Element,k.Event=t.Event,k.Touch=t.Touch||T,k.PointerEvent=t.PointerEvent||t.MSPointerEvent},document:null,DocumentFragment:null,SVGElement:null,SVGSVGElement:null,SVGElementInstance:null,Element:null,HTMLElement:null,Event:null,Touch:null,PointerEvent:null};function T(){}var F=k;S.default=F;var D={};Object.defineProperty(D,"__esModule",{value:!0}),D.default=void 0;var $={init:function(e){var t=S.default.Element,n=e.navigator||{};$.supportsTouch="ontouchstart"in e||c.default.func(e.DocumentTouch)&&S.default.document instanceof e.DocumentTouch,$.supportsPointerEvent=n.pointerEnabled!==!1&&!!S.default.PointerEvent,$.isIOS=/iP(hone|od|ad)/.test(n.platform),$.isIOS7=/iP(hone|od|ad)/.test(n.platform)&&/OS 7[^\d]/.test(n.appVersion),$.isIe9=/MSIE 9/.test(n.userAgent),$.isOperaMobile=n.appName==="Opera"&&$.supportsTouch&&/Presto/.test(n.userAgent),$.prefixedMatchesSelector="matches"in t.prototype?"matches":"webkitMatchesSelector"in t.prototype?"webkitMatchesSelector":"mozMatchesSelector"in t.prototype?"mozMatchesSelector":"oMatchesSelector"in t.prototype?"oMatchesSelector":"msMatchesSelector",$.pEventTypes=$.supportsPointerEvent?S.default.PointerEvent===e.MSPointerEvent?{up:"MSPointerUp",down:"MSPointerDown",over:"mouseover",out:"mouseout",move:"MSPointerMove",cancel:"MSPointerCancel"}:{up:"pointerup",down:"pointerdown",over:"pointerover",out:"pointerout",move:"pointermove",cancel:"pointercancel"}:null,$.wheelEvent=S.default.document&&"onmousewheel"in S.default.document?"mousewheel":"wheel"},supportsTouch:null,supportsPointerEvent:null,isIOS7:null,isIOS:null,isIe9:null,isOperaMobile:null,prefixedMatchesSelector:null,pEventTypes:null,wheelEvent:null},H=$;D.default=H;var E={};function X(e){var t=e.parentNode;if(c.default.docFrag(t)){for(;(t=t.host)&&c.default.docFrag(t););return t}return t}function se(e,t){return J.window!==J.realWindow&&(t=t.replace(/\/deep\//g," ")),e[D.default.prefixedMatchesSelector](t)}Object.defineProperty(E,"__esModule",{value:!0}),E.closest=function(e,t){for(;c.default.element(e);){if(se(e,t))return e;e=X(e)}return null},E.getActualElement=function(e){return e.correspondingUseElement||e},E.getElementClientRect=Y,E.getElementRect=function(e){var t=Y(e);if(!D.default.isIOS7&&t){var n=P(J.getWindow(e));t.left+=n.x,t.right+=n.x,t.top+=n.y,t.bottom+=n.y}return t},E.getPath=function(e){for(var t=[];e;)t.push(e),e=X(e);return t},E.getScrollXY=P,E.indexOfDeepestElement=function(e){for(var t,n=[],r=0;r<e.length;r++){var o=e[r],a=e[t];if(o&&r!==t)if(a){var u=ee(o),s=ee(a);if(u!==o.ownerDocument)if(s!==o.ownerDocument)if(u!==s){n=n.length?n:ae(a);var l=void 0;if(a instanceof S.default.HTMLElement&&o instanceof S.default.SVGElement&&!(o instanceof S.default.SVGSVGElement)){if(o===s)continue;l=o.ownerSVGElement}else l=o;for(var d=ae(l,a.ownerDocument),v=0;d[v]&&d[v]===n[v];)v++;var y=[d[v-1],d[v],n[v]];if(y[0])for(var O=y[0].lastChild;O;){if(O===y[1]){t=r,n=d;break}if(O===y[2])break;O=O.previousSibling}}else I=o,x=a,(parseInt(J.getWindow(I).getComputedStyle(I).zIndex,10)||0)>=(parseInt(J.getWindow(x).getComputedStyle(x).zIndex,10)||0)&&(t=r);else t=r}else t=r}var I,x;return t},E.matchesSelector=se,E.matchesUpTo=function(e,t,n){for(;c.default.element(e);){if(se(e,t))return!0;if((e=X(e))===n)return se(e,t)}return!1},E.nodeContains=function(e,t){if(e.contains)return e.contains(t);for(;t;){if(t===e)return!0;t=t.parentNode}return!1},E.parentNode=X,E.trySelector=function(e){return!!c.default.string(e)&&(S.default.document.querySelector(e),!0)};var ee=function(e){return e.parentNode||e.host};function ae(e,t){for(var n,r=[],o=e;(n=ee(o))&&o!==t&&n!==o.ownerDocument;)r.unshift(o),o=n;return r}function P(e){return{x:(e=e||J.window).scrollX||e.document.documentElement.scrollLeft,y:e.scrollY||e.document.documentElement.scrollTop}}function Y(e){var t=e instanceof S.default.SVGElement?e.getBoundingClientRect():e.getClientRects()[0];return t&&{left:t.left,right:t.right,top:t.top,bottom:t.bottom,width:t.width||t.right-t.left,height:t.height||t.bottom-t.top}}var M={};Object.defineProperty(M,"__esModule",{value:!0}),M.default=function(e,t){for(var n in t)e[n]=t[n];return e};var j={};function R(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function ie(e,t,n){return e==="parent"?(0,E.parentNode)(n):e==="self"?t.getRect(n):(0,E.closest)(n,e)}Object.defineProperty(j,"__esModule",{value:!0}),j.addEdges=function(e,t,n){e.left&&(t.left+=n.x),e.right&&(t.right+=n.x),e.top&&(t.top+=n.y),e.bottom&&(t.bottom+=n.y),t.width=t.right-t.left,t.height=t.bottom-t.top},j.getStringOptionResult=ie,j.rectToXY=function(e){return e&&{x:"x"in e?e.x:e.left,y:"y"in e?e.y:e.top}},j.resolveRectLike=function(e,t,n,r){var o,a=e;return c.default.string(a)?a=ie(a,t,n):c.default.func(a)&&(a=a.apply(void 0,function(u){if(Array.isArray(u))return R(u)}(o=r)||function(u){if(typeof Symbol<"u"&&u[Symbol.iterator]!=null||u["@@iterator"]!=null)return Array.from(u)}(o)||function(u,s){if(u){if(typeof u=="string")return R(u,s);var l=Object.prototype.toString.call(u).slice(8,-1);return l==="Object"&&u.constructor&&(l=u.constructor.name),l==="Map"||l==="Set"?Array.from(u):l==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l)?R(u,s):void 0}}(o)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}())),c.default.element(a)&&(a=(0,E.getElementRect)(a)),a},j.tlbrToXywh=function(e){return!e||"x"in e&&"y"in e||((e=(0,M.default)({},e)).x=e.left||0,e.y=e.top||0,e.width=e.width||(e.right||0)-e.x,e.height=e.height||(e.bottom||0)-e.y),e},j.xywhToTlbr=function(e){return!e||"left"in e&&"top"in e||((e=(0,M.default)({},e)).left=e.x||0,e.top=e.y||0,e.right=e.right||e.left+e.width,e.bottom=e.bottom||e.top+e.height),e};var de={};Object.defineProperty(de,"__esModule",{value:!0}),de.default=function(e,t,n){var r=e.options[n],o=r&&r.origin||e.options.origin,a=(0,j.resolveRectLike)(o,e,t,[e&&t]);return(0,j.rectToXY)(a)||{x:0,y:0}};var Oe={};function Je(e){return e.trim().split(/ +/)}Object.defineProperty(Oe,"__esModule",{value:!0}),Oe.default=function e(t,n,r){if(r=r||{},c.default.string(t)&&t.search(" ")!==-1&&(t=Je(t)),c.default.array(t))return t.reduce(function(l,d){return(0,M.default)(l,e(d,n,r))},r);if(c.default.object(t)&&(n=t,t=""),c.default.func(n))r[t]=r[t]||[],r[t].push(n);else if(c.default.array(n))for(var o=0;o<n.length;o++){var a;a=n[o],e(t,a,r)}else if(c.default.object(n))for(var u in n){var s=Je(u).map(function(l){return"".concat(t).concat(l)});e(s,n[u],r)}return r};var xe={};Object.defineProperty(xe,"__esModule",{value:!0}),xe.default=void 0,xe.default=function(e,t){return Math.sqrt(e*e+t*t)};var Re={};Object.defineProperty(Re,"__esModule",{value:!0}),Re.default=function(e,t){e.__set||(e.__set={});var n=function(o){typeof e[o]!="function"&&o!=="__set"&&Object.defineProperty(e,o,{get:function(){return o in e.__set?e.__set[o]:e.__set[o]=t[o]},set:function(a){e.__set[o]=a},configurable:!0})};for(var r in t)n(r);return e};var V={};function We(e){return e instanceof S.default.Event||e instanceof S.default.Touch}function Ye(e,t,n){return e=e||"page",(n=n||{}).x=t[e+"X"],n.y=t[e+"Y"],n}function ft(e,t){return t=t||{x:0,y:0},D.default.isOperaMobile&&We(e)?(Ye("screen",e,t),t.x+=window.scrollX,t.y+=window.scrollY):Ye("page",e,t),t}function Ot(e,t){return t=t||{},D.default.isOperaMobile&&We(e)?Ye("screen",e,t):Ye("client",e,t),t}function it(e){var t=[];return c.default.array(e)?(t[0]=e[0],t[1]=e[1]):e.type==="touchend"?e.touches.length===1?(t[0]=e.touches[0],t[1]=e.changedTouches[0]):e.touches.length===0&&(t[0]=e.changedTouches[0],t[1]=e.changedTouches[1]):(t[0]=e.touches[0],t[1]=e.touches[1]),t}function yt(e){for(var t={pageX:0,pageY:0,clientX:0,clientY:0,screenX:0,screenY:0},n=0;n<e.length;n++){var r=e[n];for(var o in t)t[o]+=r[o]}for(var a in t)t[a]/=e.length;return t}Object.defineProperty(V,"__esModule",{value:!0}),V.coordsToEvent=function(e){return{coords:e,get page(){return this.coords.page},get client(){return this.coords.client},get timeStamp(){return this.coords.timeStamp},get pageX(){return this.coords.page.x},get pageY(){return this.coords.page.y},get clientX(){return this.coords.client.x},get clientY(){return this.coords.client.y},get pointerId(){return this.coords.pointerId},get target(){return this.coords.target},get type(){return this.coords.type},get pointerType(){return this.coords.pointerType},get buttons(){return this.coords.buttons},preventDefault:function(){}}},V.copyCoords=function(e,t){e.page=e.page||{},e.page.x=t.page.x,e.page.y=t.page.y,e.client=e.client||{},e.client.x=t.client.x,e.client.y=t.client.y,e.timeStamp=t.timeStamp},V.getClientXY=Ot,V.getEventTargets=function(e){var t=c.default.func(e.composedPath)?e.composedPath():e.path;return[E.getActualElement(t?t[0]:e.target),E.getActualElement(e.currentTarget)]},V.getPageXY=ft,V.getPointerId=function(e){return c.default.number(e.pointerId)?e.pointerId:e.identifier},V.getPointerType=function(e){return c.default.string(e.pointerType)?e.pointerType:c.default.number(e.pointerType)?[void 0,void 0,"touch","pen","mouse"][e.pointerType]:/touch/.test(e.type||"")||e instanceof S.default.Touch?"touch":"mouse"},V.getTouchPair=it,V.getXY=Ye,V.isNativePointer=We,V.newCoords=function(){return{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0}},V.pointerAverage=yt,Object.defineProperty(V,"pointerExtend",{enumerable:!0,get:function(){return Re.default}}),V.setCoordDeltas=function(e,t,n){e.page.x=n.page.x-t.page.x,e.page.y=n.page.y-t.page.y,e.client.x=n.client.x-t.client.x,e.client.y=n.client.y-t.client.y,e.timeStamp=n.timeStamp-t.timeStamp},V.setCoordVelocity=function(e,t){var n=Math.max(t.timeStamp/1e3,.001);e.page.x=t.page.x/n,e.page.y=t.page.y/n,e.client.x=t.client.x/n,e.client.y=t.client.y/n,e.timeStamp=n},V.setCoords=function(e,t,n){var r=t.length>1?yt(t):t[0];ft(r,e.page),Ot(r,e.client),e.timeStamp=n},V.setZeroCoords=function(e){e.page.x=0,e.page.y=0,e.client.x=0,e.client.y=0},V.touchAngle=function(e,t){var n=t+"X",r=t+"Y",o=it(e),a=o[1][n]-o[0][n],u=o[1][r]-o[0][r];return 180*Math.atan2(u,a)/Math.PI},V.touchBBox=function(e){if(!e.length)return null;var t=it(e),n=Math.min(t[0].pageX,t[1].pageX),r=Math.min(t[0].pageY,t[1].pageY),o=Math.max(t[0].pageX,t[1].pageX),a=Math.max(t[0].pageY,t[1].pageY);return{x:n,y:r,left:n,top:r,right:o,bottom:a,width:o-n,height:a-r}},V.touchDistance=function(e,t){var n=t+"X",r=t+"Y",o=it(e),a=o[0][n]-o[1][n],u=o[0][r]-o[1][r];return(0,xe.default)(a,u)};var Be={};function Ft(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Nt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(Be,"__esModule",{value:!0}),Be.BaseEvent=void 0;var Lt=function(){function e(r){(function(o,a){if(!(o instanceof a))throw new TypeError("Cannot call a class as a function")})(this,e),Nt(this,"immediatePropagationStopped",!1),Nt(this,"propagationStopped",!1),this._interaction=r}var t,n;return t=e,(n=[{key:"preventDefault",value:function(){}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}}])&&Ft(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();Be.BaseEvent=Lt,Object.defineProperty(Lt.prototype,"interaction",{get:function(){return this._interaction._proxy},set:function(){}});var fe={};Object.defineProperty(fe,"__esModule",{value:!0}),fe.remove=fe.merge=fe.from=fe.findIndex=fe.find=fe.contains=void 0,fe.contains=function(e,t){return e.indexOf(t)!==-1},fe.remove=function(e,t){return e.splice(e.indexOf(t),1)};var Zt=function(e,t){for(var n=0;n<t.length;n++){var r=t[n];e.push(r)}return e};fe.merge=Zt,fe.from=function(e){return Zt([],e)};var Jt=function(e,t){for(var n=0;n<e.length;n++)if(t(e[n],n,e))return n;return-1};fe.findIndex=Jt,fe.find=function(e,t){return e[Jt(e,t)]};var bt={};function hn(e){return hn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hn(e)}function Qt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function mn(e,t){return mn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},mn(e,t)}function gr(e,t){if(t&&(hn(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xt(e)}function xt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function en(e){return en=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},en(e)}function jt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(bt,"__esModule",{value:!0}),bt.DropEvent=void 0;var Nn=function(e){(function(s,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(l&&l.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),Object.defineProperty(s,"prototype",{writable:!1}),l&&mn(s,l)})(u,e);var t,n,r,o,a=(r=u,o=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var s,l=en(r);if(o){var d=en(this).constructor;s=Reflect.construct(l,arguments,d)}else s=l.apply(this,arguments);return gr(this,s)});function u(s,l,d){var v;(function(x,z){if(!(x instanceof z))throw new TypeError("Cannot call a class as a function")})(this,u),jt(xt(v=a.call(this,l._interaction)),"dropzone",void 0),jt(xt(v),"dragEvent",void 0),jt(xt(v),"relatedTarget",void 0),jt(xt(v),"draggable",void 0),jt(xt(v),"propagationStopped",!1),jt(xt(v),"immediatePropagationStopped",!1);var y=d==="dragleave"?s.prev:s.cur,O=y.element,I=y.dropzone;return v.type=d,v.target=O,v.currentTarget=O,v.dropzone=I,v.dragEvent=l,v.relatedTarget=l.target,v.draggable=l.interactable,v.timeStamp=l.timeStamp,v}return t=u,(n=[{key:"reject",value:function(){var s=this,l=this._interaction.dropState;if(this.type==="dropactivate"||this.dropzone&&l.cur.dropzone===this.dropzone&&l.cur.element===this.target)if(l.prev.dropzone=this.dropzone,l.prev.element=this.target,l.rejected=!0,l.events.enter=null,this.stopImmediatePropagation(),this.type==="dropactivate"){var d=l.activeDrops,v=fe.findIndex(d,function(O){var I=O.dropzone,x=O.element;return I===s.dropzone&&x===s.target});l.activeDrops.splice(v,1);var y=new u(l,this.dragEvent,"dropdeactivate");y.dropzone=this.dropzone,y.target=this.target,this.dropzone.fire(y)}else this.dropzone.fire(new u(l,this.dragEvent,"dragleave"))}},{key:"preventDefault",value:function(){}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}}])&&Qt(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),u}(Be.BaseEvent);bt.DropEvent=Nn;var tn={};function Ln(e,t){for(var n=0;n<e.slice().length;n++){var r=e.slice()[n],o=r.dropzone,a=r.element;t.dropzone=o,t.target=a,o.fire(t),t.propagationStopped=t.immediatePropagationStopped=!1}}function nn(e,t){for(var n=function(a,u){for(var s=a.interactables,l=[],d=0;d<s.list.length;d++){var v=s.list[d];if(v.options.drop.enabled){var y=v.options.drop.accept;if(!(c.default.element(y)&&y!==u||c.default.string(y)&&!E.matchesSelector(u,y)||c.default.func(y)&&!y({dropzone:v,draggableElement:u})))for(var O=c.default.string(v.target)?v._context.querySelectorAll(v.target):c.default.array(v.target)?v.target:[v.target],I=0;I<O.length;I++){var x=O[I];x!==u&&l.push({dropzone:v,element:x,rect:v.getRect(x)})}}}return l}(e,t),r=0;r<n.length;r++){var o=n[r];o.rect=o.dropzone.getRect(o.element)}return n}function rn(e,t,n){for(var r=e.dropState,o=e.interactable,a=e.element,u=[],s=0;s<r.activeDrops.length;s++){var l=r.activeDrops[s],d=l.dropzone,v=l.element,y=l.rect;u.push(d.dropCheck(t,n,o,a,v,y)?v:null)}var O=E.indexOfDeepestElement(u);return r.activeDrops[O]||null}function gn(e,t,n){var r=e.dropState,o={enter:null,leave:null,activate:null,deactivate:null,move:null,drop:null};return n.type==="dragstart"&&(o.activate=new bt.DropEvent(r,n,"dropactivate"),o.activate.target=null,o.activate.dropzone=null),n.type==="dragend"&&(o.deactivate=new bt.DropEvent(r,n,"dropdeactivate"),o.deactivate.target=null,o.deactivate.dropzone=null),r.rejected||(r.cur.element!==r.prev.element&&(r.prev.dropzone&&(o.leave=new bt.DropEvent(r,n,"dragleave"),n.dragLeave=o.leave.target=r.prev.element,n.prevDropzone=o.leave.dropzone=r.prev.dropzone),r.cur.dropzone&&(o.enter=new bt.DropEvent(r,n,"dragenter"),n.dragEnter=r.cur.element,n.dropzone=r.cur.dropzone)),n.type==="dragend"&&r.cur.dropzone&&(o.drop=new bt.DropEvent(r,n,"drop"),n.dropzone=r.cur.dropzone,n.relatedTarget=r.cur.element),n.type==="dragmove"&&r.cur.dropzone&&(o.move=new bt.DropEvent(r,n,"dropmove"),o.move.dragmove=n,n.dropzone=r.cur.dropzone)),o}function yn(e,t){var n=e.dropState,r=n.activeDrops,o=n.cur,a=n.prev;t.leave&&a.dropzone.fire(t.leave),t.enter&&o.dropzone.fire(t.enter),t.move&&o.dropzone.fire(t.move),t.drop&&o.dropzone.fire(t.drop),t.deactivate&&Ln(r,t.deactivate),n.prev.dropzone=o.dropzone,n.prev.element=o.element}function bn(e,t){var n=e.interaction,r=e.iEvent,o=e.event;if(r.type==="dragmove"||r.type==="dragend"){var a=n.dropState;t.dynamicDrop&&(a.activeDrops=nn(t,n.element));var u=r,s=rn(n,u,o);a.rejected=a.rejected&&!!s&&s.dropzone===a.cur.dropzone&&s.element===a.cur.element,a.cur.dropzone=s&&s.dropzone,a.cur.element=s&&s.element,a.events=gn(n,0,u)}}Object.defineProperty(tn,"__esModule",{value:!0}),tn.default=void 0;var Vn={id:"actions/drop",install:function(e){var t=e.actions,n=e.interactStatic,r=e.Interactable,o=e.defaults;e.usePlugin(h.default),r.prototype.dropzone=function(a){return function(u,s){if(c.default.object(s)){if(u.options.drop.enabled=s.enabled!==!1,s.listeners){var l=(0,Oe.default)(s.listeners),d=Object.keys(l).reduce(function(v,y){return v[/^(enter|leave)/.test(y)?"drag".concat(y):/^(activate|deactivate|move)/.test(y)?"drop".concat(y):y]=l[y],v},{});u.off(u.options.drop.listeners),u.on(d),u.options.drop.listeners=d}return c.default.func(s.ondrop)&&u.on("drop",s.ondrop),c.default.func(s.ondropactivate)&&u.on("dropactivate",s.ondropactivate),c.default.func(s.ondropdeactivate)&&u.on("dropdeactivate",s.ondropdeactivate),c.default.func(s.ondragenter)&&u.on("dragenter",s.ondragenter),c.default.func(s.ondragleave)&&u.on("dragleave",s.ondragleave),c.default.func(s.ondropmove)&&u.on("dropmove",s.ondropmove),/^(pointer|center)$/.test(s.overlap)?u.options.drop.overlap=s.overlap:c.default.number(s.overlap)&&(u.options.drop.overlap=Math.max(Math.min(1,s.overlap),0)),"accept"in s&&(u.options.drop.accept=s.accept),"checker"in s&&(u.options.drop.checker=s.checker),u}return c.default.bool(s)?(u.options.drop.enabled=s,u):u.options.drop}(this,a)},r.prototype.dropCheck=function(a,u,s,l,d,v){return function(y,O,I,x,z,L,B){var Z=!1;if(!(B=B||y.getRect(L)))return!!y.options.drop.checker&&y.options.drop.checker(O,I,Z,y,L,x,z);var ne=y.options.drop.overlap;if(ne==="pointer"){var le=(0,de.default)(x,z,"drag"),ye=V.getPageXY(O);ye.x+=le.x,ye.y+=le.y;var Me=ye.x>B.left&&ye.x<B.right,ve=ye.y>B.top&&ye.y<B.bottom;Z=Me&&ve}var Pe=x.getRect(z);if(Pe&&ne==="center"){var ht=Pe.left+Pe.width/2,Tt=Pe.top+Pe.height/2;Z=ht>=B.left&&ht<=B.right&&Tt>=B.top&&Tt<=B.bottom}return Pe&&c.default.number(ne)&&(Z=Math.max(0,Math.min(B.right,Pe.right)-Math.max(B.left,Pe.left))*Math.max(0,Math.min(B.bottom,Pe.bottom)-Math.max(B.top,Pe.top))/(Pe.width*Pe.height)>=ne),y.options.drop.checker&&(Z=y.options.drop.checker(O,I,Z,y,L,x,z)),Z}(this,a,u,s,l,d,v)},n.dynamicDrop=function(a){return c.default.bool(a)?(e.dynamicDrop=a,n):e.dynamicDrop},(0,M.default)(t.phaselessTypes,{dragenter:!0,dragleave:!0,dropactivate:!0,dropdeactivate:!0,dropmove:!0,drop:!0}),t.methodDict.drop="dropzone",e.dynamicDrop=!1,o.actions.drop=Vn.defaults},listeners:{"interactions:before-action-start":function(e){var t=e.interaction;t.prepared.name==="drag"&&(t.dropState={cur:{dropzone:null,element:null},prev:{dropzone:null,element:null},rejected:null,events:null,activeDrops:[]})},"interactions:after-action-start":function(e,t){var n=e.interaction,r=(e.event,e.iEvent);if(n.prepared.name==="drag"){var o=n.dropState;o.activeDrops=null,o.events=null,o.activeDrops=nn(t,n.element),o.events=gn(n,0,r),o.events.activate&&(Ln(o.activeDrops,o.events.activate),t.fire("actions/drop:start",{interaction:n,dragEvent:r}))}},"interactions:action-move":bn,"interactions:after-action-move":function(e,t){var n=e.interaction,r=e.iEvent;n.prepared.name==="drag"&&(yn(n,n.dropState.events),t.fire("actions/drop:move",{interaction:n,dragEvent:r}),n.dropState.events={})},"interactions:action-end":function(e,t){if(e.interaction.prepared.name==="drag"){var n=e.interaction,r=e.iEvent;bn(e,t),yn(n,n.dropState.events),t.fire("actions/drop:end",{interaction:n,dragEvent:r})}},"interactions:stop":function(e){var t=e.interaction;if(t.prepared.name==="drag"){var n=t.dropState;n&&(n.activeDrops=null,n.events=null,n.cur.dropzone=null,n.cur.element=null,n.prev.dropzone=null,n.prev.element=null,n.rejected=!1)}}},getActiveDrops:nn,getDrop:rn,getDropEvents:gn,fireDropEvents:yn,defaults:{enabled:!1,accept:null,overlap:"pointer"}},Wn=Vn;tn.default=Wn;var on={};function xn(e){var t=e.interaction,n=e.iEvent,r=e.phase;if(t.prepared.name==="gesture"){var o=t.pointers.map(function(d){return d.pointer}),a=r==="start",u=r==="end",s=t.interactable.options.deltaSource;if(n.touches=[o[0],o[1]],a)n.distance=V.touchDistance(o,s),n.box=V.touchBBox(o),n.scale=1,n.ds=0,n.angle=V.touchAngle(o,s),n.da=0,t.gesture.startDistance=n.distance,t.gesture.startAngle=n.angle;else if(u){var l=t.prevEvent;n.distance=l.distance,n.box=l.box,n.scale=l.scale,n.ds=0,n.angle=l.angle,n.da=0}else n.distance=V.touchDistance(o,s),n.box=V.touchBBox(o),n.scale=n.distance/t.gesture.startDistance,n.angle=V.touchAngle(o,s),n.ds=n.scale-t.gesture.scale,n.da=n.angle-t.gesture.angle;t.gesture.distance=n.distance,t.gesture.angle=n.angle,c.default.number(n.scale)&&n.scale!==1/0&&!isNaN(n.scale)&&(t.gesture.scale=n.scale)}}Object.defineProperty(on,"__esModule",{value:!0}),on.default=void 0;var wn={id:"actions/gesture",before:["actions/drag","actions/resize"],install:function(e){var t=e.actions,n=e.Interactable,r=e.defaults;n.prototype.gesturable=function(o){return c.default.object(o)?(this.options.gesture.enabled=o.enabled!==!1,this.setPerAction("gesture",o),this.setOnEvents("gesture",o),this):c.default.bool(o)?(this.options.gesture.enabled=o,this):this.options.gesture},t.map.gesture=wn,t.methodDict.gesture="gesturable",r.actions.gesture=wn.defaults},listeners:{"interactions:action-start":xn,"interactions:action-move":xn,"interactions:action-end":xn,"interactions:new":function(e){e.interaction.gesture={angle:0,distance:0,scale:1,startAngle:0,startDistance:0}},"auto-start:check":function(e){if(!(e.interaction.pointers.length<2)){var t=e.interactable.options.gesture;if(t&&t.enabled)return e.action={name:"gesture"},!1}}},defaults:{},getCursor:function(){return""}},b=wn;on.default=b;var A={};function U(e,t,n,r,o,a,u){if(!t)return!1;if(t===!0){var s=c.default.number(a.width)?a.width:a.right-a.left,l=c.default.number(a.height)?a.height:a.bottom-a.top;if(u=Math.min(u,Math.abs((e==="left"||e==="right"?s:l)/2)),s<0&&(e==="left"?e="right":e==="right"&&(e="left")),l<0&&(e==="top"?e="bottom":e==="bottom"&&(e="top")),e==="left"){var d=s>=0?a.left:a.right;return n.x<d+u}if(e==="top"){var v=l>=0?a.top:a.bottom;return n.y<v+u}if(e==="right")return n.x>(s>=0?a.right:a.left)-u;if(e==="bottom")return n.y>(l>=0?a.bottom:a.top)-u}return!!c.default.element(r)&&(c.default.element(t)?t===r:E.matchesUpTo(r,t,o))}function oe(e){var t=e.iEvent,n=e.interaction;if(n.prepared.name==="resize"&&n.resizeAxes){var r=t;n.interactable.options.resize.square?(n.resizeAxes==="y"?r.delta.x=r.delta.y:r.delta.y=r.delta.x,r.axes="xy"):(r.axes=n.resizeAxes,n.resizeAxes==="x"?r.delta.y=0:n.resizeAxes==="y"&&(r.delta.x=0))}}Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0;var ue={id:"actions/resize",before:["actions/drag"],install:function(e){var t=e.actions,n=e.browser,r=e.Interactable,o=e.defaults;ue.cursors=function(a){return a.isIe9?{x:"e-resize",y:"s-resize",xy:"se-resize",top:"n-resize",left:"w-resize",bottom:"s-resize",right:"e-resize",topleft:"se-resize",bottomright:"se-resize",topright:"ne-resize",bottomleft:"ne-resize"}:{x:"ew-resize",y:"ns-resize",xy:"nwse-resize",top:"ns-resize",left:"ew-resize",bottom:"ns-resize",right:"ew-resize",topleft:"nwse-resize",bottomright:"nwse-resize",topright:"nesw-resize",bottomleft:"nesw-resize"}}(n),ue.defaultMargin=n.supportsTouch||n.supportsPointerEvent?20:10,r.prototype.resizable=function(a){return function(u,s,l){return c.default.object(s)?(u.options.resize.enabled=s.enabled!==!1,u.setPerAction("resize",s),u.setOnEvents("resize",s),c.default.string(s.axis)&&/^x$|^y$|^xy$/.test(s.axis)?u.options.resize.axis=s.axis:s.axis===null&&(u.options.resize.axis=l.defaults.actions.resize.axis),c.default.bool(s.preserveAspectRatio)?u.options.resize.preserveAspectRatio=s.preserveAspectRatio:c.default.bool(s.square)&&(u.options.resize.square=s.square),u):c.default.bool(s)?(u.options.resize.enabled=s,u):u.options.resize}(this,a,e)},t.map.resize=ue,t.methodDict.resize="resizable",o.actions.resize=ue.defaults},listeners:{"interactions:new":function(e){e.interaction.resizeAxes="xy"},"interactions:action-start":function(e){(function(t){var n=t.iEvent,r=t.interaction;if(r.prepared.name==="resize"&&r.prepared.edges){var o=n,a=r.rect;r._rects={start:(0,M.default)({},a),corrected:(0,M.default)({},a),previous:(0,M.default)({},a),delta:{left:0,right:0,width:0,top:0,bottom:0,height:0}},o.edges=r.prepared.edges,o.rect=r._rects.corrected,o.deltaRect=r._rects.delta}})(e),oe(e)},"interactions:action-move":function(e){(function(t){var n=t.iEvent,r=t.interaction;if(r.prepared.name==="resize"&&r.prepared.edges){var o=n,a=r.interactable.options.resize.invert,u=a==="reposition"||a==="negate",s=r.rect,l=r._rects,d=l.start,v=l.corrected,y=l.delta,O=l.previous;if((0,M.default)(O,v),u){if((0,M.default)(v,s),a==="reposition"){if(v.top>v.bottom){var I=v.top;v.top=v.bottom,v.bottom=I}if(v.left>v.right){var x=v.left;v.left=v.right,v.right=x}}}else v.top=Math.min(s.top,d.bottom),v.bottom=Math.max(s.bottom,d.top),v.left=Math.min(s.left,d.right),v.right=Math.max(s.right,d.left);for(var z in v.width=v.right-v.left,v.height=v.bottom-v.top,v)y[z]=v[z]-O[z];o.edges=r.prepared.edges,o.rect=v,o.deltaRect=y}})(e),oe(e)},"interactions:action-end":function(e){var t=e.iEvent,n=e.interaction;if(n.prepared.name==="resize"&&n.prepared.edges){var r=t;r.edges=n.prepared.edges,r.rect=n._rects.corrected,r.deltaRect=n._rects.delta}},"auto-start:check":function(e){var t=e.interaction,n=e.interactable,r=e.element,o=e.rect,a=e.buttons;if(o){var u=(0,M.default)({},t.coords.cur.page),s=n.options.resize;if(s&&s.enabled&&(!t.pointerIsDown||!/mouse|pointer/.test(t.pointerType)||a&s.mouseButtons)){if(c.default.object(s.edges)){var l={left:!1,right:!1,top:!1,bottom:!1};for(var d in l)l[d]=U(d,s.edges[d],u,t._latestPointer.eventTarget,r,o,s.margin||ue.defaultMargin);l.left=l.left&&!l.right,l.top=l.top&&!l.bottom,(l.left||l.right||l.top||l.bottom)&&(e.action={name:"resize",edges:l})}else{var v=s.axis!=="y"&&u.x>o.right-ue.defaultMargin,y=s.axis!=="x"&&u.y>o.bottom-ue.defaultMargin;(v||y)&&(e.action={name:"resize",axes:(v?"x":"")+(y?"y":"")})}return!e.action&&void 0}}}},defaults:{square:!1,preserveAspectRatio:!1,axis:"xy",margin:NaN,edges:null,invert:"none"},cursors:null,getCursor:function(e){var t=e.edges,n=e.axis,r=e.name,o=ue.cursors,a=null;if(n)a=o[r+n];else if(t){for(var u="",s=["top","bottom","left","right"],l=0;l<s.length;l++){var d=s[l];t[d]&&(u+=d)}a=o[u]}return a},defaultMargin:null},pe=ue;A.default=pe;var me={};Object.defineProperty(me,"__esModule",{value:!0}),me.default=void 0;var Qe={id:"actions",install:function(e){e.usePlugin(on.default),e.usePlugin(A.default),e.usePlugin(h.default),e.usePlugin(tn.default)}};me.default=Qe;var Ce={};Object.defineProperty(Ce,"__esModule",{value:!0}),Ce.default=void 0;var Fe,Ie,te=0,at={request:function(e){return Fe(e)},cancel:function(e){return Ie(e)},init:function(e){if(Fe=e.requestAnimationFrame,Ie=e.cancelAnimationFrame,!Fe)for(var t=["ms","moz","webkit","o"],n=0;n<t.length;n++){var r=t[n];Fe=e["".concat(r,"RequestAnimationFrame")],Ie=e["".concat(r,"CancelAnimationFrame")]||e["".concat(r,"CancelRequestAnimationFrame")]}Fe=Fe&&Fe.bind(e),Ie=Ie&&Ie.bind(e),Fe||(Fe=function(o){var a=Date.now(),u=Math.max(0,16-(a-te)),s=e.setTimeout(function(){o(a+u)},u);return te=a+u,s},Ie=function(o){return clearTimeout(o)})}};Ce.default=at;var ce={};Object.defineProperty(ce,"__esModule",{value:!0}),ce.default=void 0,ce.getContainer=ke,ce.getScroll=_e,ce.getScrollSize=function(e){return c.default.window(e)&&(e=window.document.body),{x:e.scrollWidth,y:e.scrollHeight}},ce.getScrollSizeDelta=function(e,t){var n=e.interaction,r=e.element,o=n&&n.interactable.options[n.prepared.name].autoScroll;if(!o||!o.enabled)return t(),{x:0,y:0};var a=ke(o.container,n.interactable,r),u=_e(a);t();var s=_e(a);return{x:s.x-u.x,y:s.y-u.y}};var G={defaults:{enabled:!1,margin:60,container:null,speed:300},now:Date.now,interaction:null,i:0,x:0,y:0,isScrolling:!1,prevTime:0,margin:0,speed:0,start:function(e){G.isScrolling=!0,Ce.default.cancel(G.i),e.autoScroll=G,G.interaction=e,G.prevTime=G.now(),G.i=Ce.default.request(G.scroll)},stop:function(){G.isScrolling=!1,G.interaction&&(G.interaction.autoScroll=null),Ce.default.cancel(G.i)},scroll:function(){var e=G.interaction,t=e.interactable,n=e.element,r=e.prepared.name,o=t.options[r].autoScroll,a=ke(o.container,t,n),u=G.now(),s=(u-G.prevTime)/1e3,l=o.speed*s;if(l>=1){var d={x:G.x*l,y:G.y*l};if(d.x||d.y){var v=_e(a);c.default.window(a)?a.scrollBy(d.x,d.y):a&&(a.scrollLeft+=d.x,a.scrollTop+=d.y);var y=_e(a),O={x:y.x-v.x,y:y.y-v.y};(O.x||O.y)&&t.fire({type:"autoscroll",target:n,interactable:t,delta:O,interaction:e,container:a})}G.prevTime=u}G.isScrolling&&(Ce.default.cancel(G.i),G.i=Ce.default.request(G.scroll))},check:function(e,t){var n;return(n=e.options[t].autoScroll)==null?void 0:n.enabled},onInteractionMove:function(e){var t=e.interaction,n=e.pointer;if(t.interacting()&&G.check(t.interactable,t.prepared.name))if(t.simulation)G.x=G.y=0;else{var r,o,a,u,s=t.interactable,l=t.element,d=t.prepared.name,v=s.options[d].autoScroll,y=ke(v.container,s,l);if(c.default.window(y))u=n.clientX<G.margin,r=n.clientY<G.margin,o=n.clientX>y.innerWidth-G.margin,a=n.clientY>y.innerHeight-G.margin;else{var O=E.getElementClientRect(y);u=n.clientX<O.left+G.margin,r=n.clientY<O.top+G.margin,o=n.clientX>O.right-G.margin,a=n.clientY>O.bottom-G.margin}G.x=o?1:u?-1:0,G.y=a?1:r?-1:0,G.isScrolling||(G.margin=v.margin,G.speed=v.speed,G.start(t))}}};function ke(e,t,n){return(c.default.string(e)?(0,j.getStringOptionResult)(e,t,n):e)||(0,J.getWindow)(n)}function _e(e){return c.default.window(e)&&(e=window.document.body),{x:e.scrollLeft,y:e.scrollTop}}var wt={id:"auto-scroll",install:function(e){var t=e.defaults,n=e.actions;e.autoScroll=G,G.now=function(){return e.now()},n.phaselessTypes.autoscroll=!0,t.perAction.autoScroll=G.defaults},listeners:{"interactions:new":function(e){e.interaction.autoScroll=null},"interactions:destroy":function(e){e.interaction.autoScroll=null,G.stop(),G.interaction&&(G.interaction=null)},"interactions:stop":G.stop,"interactions:action-move":function(e){return G.onInteractionMove(e)}}},we=wt;ce.default=we;var ge={};Object.defineProperty(ge,"__esModule",{value:!0}),ge.copyAction=function(e,t){return e.name=t.name,e.axis=t.axis,e.edges=t.edges,e},ge.sign=void 0,ge.warnOnce=function(e,t){var n=!1;return function(){return n||(J.window.console.warn(t),n=!0),e.apply(this,arguments)}},ge.sign=function(e){return e>=0?1:-1};var et={};function Ct(e){return c.default.bool(e)?(this.options.styleCursor=e,this):e===null?(delete this.options.styleCursor,this):this.options.styleCursor}function Le(e){return c.default.func(e)?(this.options.actionChecker=e,this):e===null?(delete this.options.actionChecker,this):this.options.actionChecker}Object.defineProperty(et,"__esModule",{value:!0}),et.default=void 0;var tt={id:"auto-start/interactableMethods",install:function(e){var t=e.Interactable;t.prototype.getAction=function(n,r,o,a){var u=function(s,l,d,v,y){var O=s.getRect(v),I={action:null,interactable:s,interaction:d,element:v,rect:O,buttons:l.buttons||{0:1,1:4,3:8,4:16}[l.button]};return y.fire("auto-start:check",I),I.action}(this,r,o,a,e);return this.options.actionChecker?this.options.actionChecker(n,r,u,this,a,o):u},t.prototype.ignoreFrom=(0,ge.warnOnce)(function(n){return this._backCompatOption("ignoreFrom",n)},"Interactable.ignoreFrom() has been deprecated. Use Interactble.draggable({ignoreFrom: newValue})."),t.prototype.allowFrom=(0,ge.warnOnce)(function(n){return this._backCompatOption("allowFrom",n)},"Interactable.allowFrom() has been deprecated. Use Interactble.draggable({allowFrom: newValue})."),t.prototype.actionChecker=Le,t.prototype.styleCursor=Ct}};et.default=tt;var Ke={};function st(e,t,n,r,o){return t.testIgnoreAllow(t.options[e.name],n,r)&&t.options[e.name].enabled&&ct(t,n,e,o)?e:null}function Ue(e,t,n,r,o,a,u){for(var s=0,l=r.length;s<l;s++){var d=r[s],v=o[s],y=d.getAction(t,n,e,v);if(y){var O=st(y,d,v,a,u);if(O)return{action:O,interactable:d,element:v}}}return{action:null,interactable:null,element:null}}function nt(e,t,n,r,o){var a=[],u=[],s=r;function l(v){a.push(v),u.push(s)}for(;c.default.element(s);){a=[],u=[],o.interactables.forEachMatch(s,l);var d=Ue(e,t,n,a,u,r,o);if(d.action&&!d.interactable.options[d.action.name].manualStart)return d;s=E.parentNode(s)}return{action:null,interactable:null,element:null}}function _t(e,t,n){var r=t.action,o=t.interactable,a=t.element;r=r||{name:null},e.interactable=o,e.element=a,(0,ge.copyAction)(e.prepared,r),e.rect=o&&r.name?o.getRect(a):null,Q(e,n),n.fire("autoStart:prepared",{interaction:e})}function ct(e,t,n,r){var o=e.options,a=o[n.name].max,u=o[n.name].maxPerElement,s=r.autoStart.maxInteractions,l=0,d=0,v=0;if(!(a&&u&&s))return!1;for(var y=0;y<r.interactions.list.length;y++){var O=r.interactions.list[y],I=O.prepared.name;if(O.interacting()&&(++l>=s||O.interactable===e&&((d+=I===n.name?1:0)>=a||O.element===t&&(v++,I===n.name&&v>=u))))return!1}return s>0}function Et(e,t){return c.default.number(e)?(t.autoStart.maxInteractions=e,this):t.autoStart.maxInteractions}function Dt(e,t,n){var r=n.autoStart.cursorElement;r&&r!==e&&(r.style.cursor=""),e.ownerDocument.documentElement.style.cursor=t,e.style.cursor=t,n.autoStart.cursorElement=t?e:null}function Q(e,t){var n=e.interactable,r=e.element,o=e.prepared;if(e.pointerType==="mouse"&&n&&n.options.styleCursor){var a="";if(o.name){var u=n.options[o.name].cursorChecker;a=c.default.func(u)?u(o,n,r,e._interacting):t.actions.map[o.name].getCursor(o)}Dt(e.element,a||"",t)}else t.autoStart.cursorElement&&Dt(t.autoStart.cursorElement,"",t)}Object.defineProperty(Ke,"__esModule",{value:!0}),Ke.default=void 0;var ze={id:"auto-start/base",before:["actions"],install:function(e){var t=e.interactStatic,n=e.defaults;e.usePlugin(et.default),n.base.actionChecker=null,n.base.styleCursor=!0,(0,M.default)(n.perAction,{manualStart:!1,max:1/0,maxPerElement:1,allowFrom:null,ignoreFrom:null,mouseButtons:1}),t.maxInteractions=function(r){return Et(r,e)},e.autoStart={maxInteractions:1/0,withinInteractionLimit:ct,cursorElement:null}},listeners:{"interactions:down":function(e,t){var n=e.interaction,r=e.pointer,o=e.event,a=e.eventTarget;n.interacting()||_t(n,nt(n,r,o,a,t),t)},"interactions:move":function(e,t){(function(n,r){var o=n.interaction,a=n.pointer,u=n.event,s=n.eventTarget;o.pointerType!=="mouse"||o.pointerIsDown||o.interacting()||_t(o,nt(o,a,u,s,r),r)})(e,t),function(n,r){var o=n.interaction;if(o.pointerIsDown&&!o.interacting()&&o.pointerWasMoved&&o.prepared.name){r.fire("autoStart:before-start",n);var a=o.interactable,u=o.prepared.name;u&&a&&(a.options[u].manualStart||!ct(a,o.element,o.prepared,r)?o.stop():(o.start(o.prepared,a,o.element),Q(o,r)))}}(e,t)},"interactions:stop":function(e,t){var n=e.interaction,r=n.interactable;r&&r.options.styleCursor&&Dt(n.element,"",t)}},maxInteractions:Et,withinInteractionLimit:ct,validateAction:st},pt=ze;Ke.default=pt;var St={};Object.defineProperty(St,"__esModule",{value:!0}),St.default=void 0;var yr={id:"auto-start/dragAxis",listeners:{"autoStart:before-start":function(e,t){var n=e.interaction,r=e.eventTarget,o=e.dx,a=e.dy;if(n.prepared.name==="drag"){var u=Math.abs(o),s=Math.abs(a),l=n.interactable.options.drag,d=l.startAxis,v=u>s?"x":u<s?"y":"xy";if(n.prepared.axis=l.lockAxis==="start"?v[0]:l.lockAxis,v!=="xy"&&d!=="xy"&&d!==v){n.prepared.name=null;for(var y=r,O=function(x){if(x!==n.interactable){var z=n.interactable.options.drag;if(!z.manualStart&&x.testIgnoreAllow(z,y,r)){var L=x.getAction(n.downPointer,n.downEvent,n,y);if(L&&L.name==="drag"&&function(B,Z){if(!Z)return!1;var ne=Z.options.drag.startAxis;return B==="xy"||ne==="xy"||ne===B}(v,x)&&Ke.default.validateAction(L,x,y,r,t))return x}}};c.default.element(y);){var I=t.interactables.forEachMatch(y,O);if(I){n.prepared.name="drag",n.interactable=I,n.element=y;break}y=(0,E.parentNode)(y)}}}}}};St.default=yr;var an={};function Vt(e){var t=e.prepared&&e.prepared.name;if(!t)return null;var n=e.interactable.options;return n[t].hold||n[t].delay}Object.defineProperty(an,"__esModule",{value:!0}),an.default=void 0;var br={id:"auto-start/hold",install:function(e){var t=e.defaults;e.usePlugin(Ke.default),t.perAction.hold=0,t.perAction.delay=0},listeners:{"interactions:new":function(e){e.interaction.autoStartHoldTimer=null},"autoStart:prepared":function(e){var t=e.interaction,n=Vt(t);n>0&&(t.autoStartHoldTimer=setTimeout(function(){t.start(t.prepared,t.interactable,t.element)},n))},"interactions:move":function(e){var t=e.interaction,n=e.duplicate;t.autoStartHoldTimer&&t.pointerWasMoved&&!n&&(clearTimeout(t.autoStartHoldTimer),t.autoStartHoldTimer=null)},"autoStart:before-start":function(e){var t=e.interaction;Vt(t)>0&&(t.prepared.name=null)}},getHoldDuration:Vt},Hn=br;an.default=Hn;var Wt={};Object.defineProperty(Wt,"__esModule",{value:!0}),Wt.default=void 0;var $n={id:"auto-start",install:function(e){e.usePlugin(Ke.default),e.usePlugin(an.default),e.usePlugin(St.default)}};Wt.default=$n;var It={};function oi(e){return/^(always|never|auto)$/.test(e)?(this.options.preventDefault=e,this):c.default.bool(e)?(this.options.preventDefault=e?"always":"never",this):this.options.preventDefault}function ii(e){var t=e.interaction,n=e.event;t.interactable&&t.interactable.checkAndPreventDefault(n)}function eo(e){var t=e.Interactable;t.prototype.preventDefault=oi,t.prototype.checkAndPreventDefault=function(n){return function(r,o,a){var u=r.options.preventDefault;if(u!=="never")if(u!=="always"){if(o.events.supportsPassive&&/^touch(start|move)$/.test(a.type)){var s=(0,J.getWindow)(a.target).document,l=o.getDocOptions(s);if(!l||!l.events||l.events.passive!==!1)return}/^(mouse|pointer|touch)*(down|start)/i.test(a.type)||c.default.element(a.target)&&(0,E.matchesSelector)(a.target,"input,select,textarea,[contenteditable=true],[contenteditable=true] *")||a.preventDefault()}else a.preventDefault()}(this,e,n)},e.interactions.docEvents.push({type:"dragstart",listener:function(n){for(var r=0;r<e.interactions.list.length;r++){var o=e.interactions.list[r];if(o.element&&(o.element===n.target||(0,E.nodeContains)(o.element,n.target)))return void o.interactable.checkAndPreventDefault(n)}}})}Object.defineProperty(It,"__esModule",{value:!0}),It.default=void 0,It.install=eo;var ai={id:"core/interactablePreventDefault",install:eo,listeners:["down","move","up","cancel"].reduce(function(e,t){return e["interactions:".concat(t)]=ii,e},{})};It.default=ai;var xr={};Object.defineProperty(xr,"__esModule",{value:!0}),xr.default=void 0,xr.default={};var _n,Un={};Object.defineProperty(Un,"__esModule",{value:!0}),Un.default=void 0,function(e){e.touchAction="touchAction",e.boxSizing="boxSizing",e.noListeners="noListeners"}(_n||(_n={})),_n.touchAction,_n.boxSizing,_n.noListeners;var si={id:"dev-tools",install:function(){}};Un.default=si;var Ht={};Object.defineProperty(Ht,"__esModule",{value:!0}),Ht.default=function e(t){var n={};for(var r in t){var o=t[r];c.default.plainObject(o)?n[r]=e(o):c.default.array(o)?n[r]=fe.from(o):n[r]=o}return n};var $t={};function to(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var o=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(o!=null){var a,u,s=[],l=!0,d=!1;try{for(o=o.call(n);!(l=(a=o.next()).done)&&(s.push(a.value),!r||s.length!==r);l=!0);}catch(v){d=!0,u=v}finally{try{l||o.return==null||o.return()}finally{if(d)throw u}}return s}}(e,t)||function(n,r){if(n){if(typeof n=="string")return no(n,r);var o=Object.prototype.toString.call(n).slice(8,-1);return o==="Object"&&n.constructor&&(o=n.constructor.name),o==="Map"||o==="Set"?Array.from(n):o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?no(n,r):void 0}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function no(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function li(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ut(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty($t,"__esModule",{value:!0}),$t.default=void 0,$t.getRectOffset=ro;var ui=function(){function e(r){(function(o,a){if(!(o instanceof a))throw new TypeError("Cannot call a class as a function")})(this,e),Ut(this,"states",[]),Ut(this,"startOffset",{left:0,right:0,top:0,bottom:0}),Ut(this,"startDelta",void 0),Ut(this,"result",void 0),Ut(this,"endResult",void 0),Ut(this,"edges",void 0),Ut(this,"interaction",void 0),this.interaction=r,this.result=Yn()}var t,n;return t=e,(n=[{key:"start",value:function(r,o){var a=r.phase,u=this.interaction,s=function(d){var v=d.interactable.options[d.prepared.name],y=v.modifiers;return y&&y.length?y:["snap","snapSize","snapEdges","restrict","restrictEdges","restrictSize"].map(function(O){var I=v[O];return I&&I.enabled&&{options:I,methods:I._methods}}).filter(function(O){return!!O})}(u);this.prepareStates(s),this.edges=(0,M.default)({},u.edges),this.startOffset=ro(u.rect,o),this.startDelta={x:0,y:0};var l=this.fillArg({phase:a,pageCoords:o,preEnd:!1});return this.result=Yn(),this.startAll(l),this.result=this.setAll(l)}},{key:"fillArg",value:function(r){var o=this.interaction;return r.interaction=o,r.interactable=o.interactable,r.element=o.element,r.rect=r.rect||o.rect,r.edges=this.edges,r.startOffset=this.startOffset,r}},{key:"startAll",value:function(r){for(var o=0;o<this.states.length;o++){var a=this.states[o];a.methods.start&&(r.state=a,a.methods.start(r))}}},{key:"setAll",value:function(r){var o=r.phase,a=r.preEnd,u=r.skipModifiers,s=r.rect;r.coords=(0,M.default)({},r.pageCoords),r.rect=(0,M.default)({},s);for(var l=u?this.states.slice(u):this.states,d=Yn(r.coords,r.rect),v=0;v<l.length;v++){var y,O=l[v],I=O.options,x=(0,M.default)({},r.coords),z=null;(y=O.methods)!=null&&y.set&&this.shouldDo(I,a,o)&&(r.state=O,z=O.methods.set(r),j.addEdges(this.interaction.edges,r.rect,{x:r.coords.x-x.x,y:r.coords.y-x.y})),d.eventProps.push(z)}d.delta.x=r.coords.x-r.pageCoords.x,d.delta.y=r.coords.y-r.pageCoords.y,d.rectDelta.left=r.rect.left-s.left,d.rectDelta.right=r.rect.right-s.right,d.rectDelta.top=r.rect.top-s.top,d.rectDelta.bottom=r.rect.bottom-s.bottom;var L=this.result.coords,B=this.result.rect;if(L&&B){var Z=d.rect.left!==B.left||d.rect.right!==B.right||d.rect.top!==B.top||d.rect.bottom!==B.bottom;d.changed=Z||L.x!==d.coords.x||L.y!==d.coords.y}return d}},{key:"applyToInteraction",value:function(r){var o=this.interaction,a=r.phase,u=o.coords.cur,s=o.coords.start,l=this.result,d=this.startDelta,v=l.delta;a==="start"&&(0,M.default)(this.startDelta,l.delta);for(var y=0;y<[[s,d],[u,v]].length;y++){var O=to([[s,d],[u,v]][y],2),I=O[0],x=O[1];I.page.x+=x.x,I.page.y+=x.y,I.client.x+=x.x,I.client.y+=x.y}var z=this.result.rectDelta,L=r.rect||o.rect;L.left+=z.left,L.right+=z.right,L.top+=z.top,L.bottom+=z.bottom,L.width=L.right-L.left,L.height=L.bottom-L.top}},{key:"setAndApply",value:function(r){var o=this.interaction,a=r.phase,u=r.preEnd,s=r.skipModifiers,l=this.setAll(this.fillArg({preEnd:u,phase:a,pageCoords:r.modifiedCoords||o.coords.cur.page}));if(this.result=l,!l.changed&&(!s||s<this.states.length)&&o.interacting())return!1;if(r.modifiedCoords){var d=o.coords.cur.page,v={x:r.modifiedCoords.x-d.x,y:r.modifiedCoords.y-d.y};l.coords.x+=v.x,l.coords.y+=v.y,l.delta.x+=v.x,l.delta.y+=v.y}this.applyToInteraction(r)}},{key:"beforeEnd",value:function(r){var o=r.interaction,a=r.event,u=this.states;if(u&&u.length){for(var s=!1,l=0;l<u.length;l++){var d=u[l];r.state=d;var v=d.options,y=d.methods,O=y.beforeEnd&&y.beforeEnd(r);if(O)return this.endResult=O,!1;s=s||!s&&this.shouldDo(v,!0,r.phase,!0)}s&&o.move({event:a,preEnd:!0})}}},{key:"stop",value:function(r){var o=r.interaction;if(this.states&&this.states.length){var a=(0,M.default)({states:this.states,interactable:o.interactable,element:o.element,rect:null},r);this.fillArg(a);for(var u=0;u<this.states.length;u++){var s=this.states[u];a.state=s,s.methods.stop&&s.methods.stop(a)}this.states=null,this.endResult=null}}},{key:"prepareStates",value:function(r){this.states=[];for(var o=0;o<r.length;o++){var a=r[o],u=a.options,s=a.methods,l=a.name;this.states.push({options:u,methods:s,index:o,name:l})}return this.states}},{key:"restoreInteractionCoords",value:function(r){var o=r.interaction,a=o.coords,u=o.rect,s=o.modification;if(s.result){for(var l=s.startDelta,d=s.result,v=d.delta,y=d.rectDelta,O=[[a.start,l],[a.cur,v]],I=0;I<O.length;I++){var x=to(O[I],2),z=x[0],L=x[1];z.page.x-=L.x,z.page.y-=L.y,z.client.x-=L.x,z.client.y-=L.y}u.left-=y.left,u.right-=y.right,u.top-=y.top,u.bottom-=y.bottom}}},{key:"shouldDo",value:function(r,o,a,u){return!(!r||r.enabled===!1||u&&!r.endOnly||r.endOnly&&!o||a==="start"&&!r.setStart)}},{key:"copyFrom",value:function(r){this.startOffset=r.startOffset,this.startDelta=r.startDelta,this.edges=r.edges,this.states=r.states.map(function(o){return(0,Ht.default)(o)}),this.result=Yn((0,M.default)({},r.result.coords),(0,M.default)({},r.result.rect))}},{key:"destroy",value:function(){for(var r in this)this[r]=null}}])&&li(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Yn(e,t){return{rect:t,coords:e,delta:{x:0,y:0},rectDelta:{left:0,right:0,top:0,bottom:0},eventProps:[],changed:!0}}function ro(e,t){return e?{left:t.x-e.left,top:t.y-e.top,right:e.right-t.x,bottom:e.bottom-t.y}:{left:0,top:0,right:0,bottom:0}}$t.default=ui;var Ge={};function Xn(e){var t=e.iEvent,n=e.interaction.modification.result;n&&(t.modifiers=n.eventProps)}Object.defineProperty(Ge,"__esModule",{value:!0}),Ge.addEventModifiers=Xn,Ge.default=void 0,Ge.makeModifier=function(e,t){var n=e.defaults,r={start:e.start,set:e.set,beforeEnd:e.beforeEnd,stop:e.stop},o=function(a){var u=a||{};for(var s in u.enabled=u.enabled!==!1,n)s in u||(u[s]=n[s]);var l={options:u,methods:r,name:t,enable:function(){return u.enabled=!0,l},disable:function(){return u.enabled=!1,l}};return l};return t&&typeof t=="string"&&(o._defaults=n,o._methods=r),o};var ci={id:"modifiers/base",before:["actions"],install:function(e){e.defaults.perAction.modifiers=[]},listeners:{"interactions:new":function(e){var t=e.interaction;t.modification=new $t.default(t)},"interactions:before-action-start":function(e){var t=e.interaction.modification;t.start(e,e.interaction.coords.start.page),e.interaction.edges=t.edges,t.applyToInteraction(e)},"interactions:before-action-move":function(e){return e.interaction.modification.setAndApply(e)},"interactions:before-action-end":function(e){return e.interaction.modification.beforeEnd(e)},"interactions:action-start":Xn,"interactions:action-move":Xn,"interactions:action-end":Xn,"interactions:after-action-start":function(e){return e.interaction.modification.restoreInteractionCoords(e)},"interactions:after-action-move":function(e){return e.interaction.modification.restoreInteractionCoords(e)},"interactions:stop":function(e){return e.interaction.modification.stop(e)}}},di=ci;Ge.default=di;var Sn={};Object.defineProperty(Sn,"__esModule",{value:!0}),Sn.defaults=void 0,Sn.defaults={base:{preventDefault:"auto",deltaSource:"page"},perAction:{enabled:!1,origin:{x:0,y:0}},actions:{}};var On={};function wr(e){return wr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wr(e)}function fi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _r(e,t){return _r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},_r(e,t)}function pi(e,t){if(t&&(wr(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ee(e)}function Ee(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Kn(e){return Kn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Kn(e)}function je(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(On,"__esModule",{value:!0}),On.InteractEvent=void 0;var oo=function(e){(function(s,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(l&&l.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),Object.defineProperty(s,"prototype",{writable:!1}),l&&_r(s,l)})(u,e);var t,n,r,o,a=(r=u,o=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var s,l=Kn(r);if(o){var d=Kn(this).constructor;s=Reflect.construct(l,arguments,d)}else s=l.apply(this,arguments);return pi(this,s)});function u(s,l,d,v,y,O,I){var x;(function(Me,ve){if(!(Me instanceof ve))throw new TypeError("Cannot call a class as a function")})(this,u),je(Ee(x=a.call(this,s)),"relatedTarget",null),je(Ee(x),"screenX",void 0),je(Ee(x),"screenY",void 0),je(Ee(x),"button",void 0),je(Ee(x),"buttons",void 0),je(Ee(x),"ctrlKey",void 0),je(Ee(x),"shiftKey",void 0),je(Ee(x),"altKey",void 0),je(Ee(x),"metaKey",void 0),je(Ee(x),"page",void 0),je(Ee(x),"client",void 0),je(Ee(x),"delta",void 0),je(Ee(x),"rect",void 0),je(Ee(x),"x0",void 0),je(Ee(x),"y0",void 0),je(Ee(x),"t0",void 0),je(Ee(x),"dt",void 0),je(Ee(x),"duration",void 0),je(Ee(x),"clientX0",void 0),je(Ee(x),"clientY0",void 0),je(Ee(x),"velocity",void 0),je(Ee(x),"speed",void 0),je(Ee(x),"swipe",void 0),je(Ee(x),"axes",void 0),je(Ee(x),"preEnd",void 0),y=y||s.element;var z=s.interactable,L=(z&&z.options||Sn.defaults).deltaSource,B=(0,de.default)(z,y,d),Z=v==="start",ne=v==="end",le=Z?Ee(x):s.prevEvent,ye=Z?s.coords.start:ne?{page:le.page,client:le.client,timeStamp:s.coords.cur.timeStamp}:s.coords.cur;return x.page=(0,M.default)({},ye.page),x.client=(0,M.default)({},ye.client),x.rect=(0,M.default)({},s.rect),x.timeStamp=ye.timeStamp,ne||(x.page.x-=B.x,x.page.y-=B.y,x.client.x-=B.x,x.client.y-=B.y),x.ctrlKey=l.ctrlKey,x.altKey=l.altKey,x.shiftKey=l.shiftKey,x.metaKey=l.metaKey,x.button=l.button,x.buttons=l.buttons,x.target=y,x.currentTarget=y,x.preEnd=O,x.type=I||d+(v||""),x.interactable=z,x.t0=Z?s.pointers[s.pointers.length-1].downTime:le.t0,x.x0=s.coords.start.page.x-B.x,x.y0=s.coords.start.page.y-B.y,x.clientX0=s.coords.start.client.x-B.x,x.clientY0=s.coords.start.client.y-B.y,x.delta=Z||ne?{x:0,y:0}:{x:x[L].x-le[L].x,y:x[L].y-le[L].y},x.dt=s.coords.delta.timeStamp,x.duration=x.timeStamp-x.t0,x.velocity=(0,M.default)({},s.coords.velocity[L]),x.speed=(0,xe.default)(x.velocity.x,x.velocity.y),x.swipe=ne||v==="inertiastart"?x.getSwipe():null,x}return t=u,(n=[{key:"getSwipe",value:function(){var s=this._interaction;if(s.prevEvent.speed<600||this.timeStamp-s.prevEvent.timeStamp>150)return null;var l=180*Math.atan2(s.prevEvent.velocityY,s.prevEvent.velocityX)/Math.PI;l<0&&(l+=360);var d=112.5<=l&&l<247.5,v=202.5<=l&&l<337.5;return{up:v,down:!v&&22.5<=l&&l<157.5,left:d,right:!d&&(292.5<=l||l<67.5),angle:l,speed:s.prevEvent.speed,velocity:{x:s.prevEvent.velocityX,y:s.prevEvent.velocityY}}}},{key:"preventDefault",value:function(){}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}}])&&fi(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),u}(Be.BaseEvent);On.InteractEvent=oo,Object.defineProperties(oo.prototype,{pageX:{get:function(){return this.page.x},set:function(e){this.page.x=e}},pageY:{get:function(){return this.page.y},set:function(e){this.page.y=e}},clientX:{get:function(){return this.client.x},set:function(e){this.client.x=e}},clientY:{get:function(){return this.client.y},set:function(e){this.client.y=e}},dx:{get:function(){return this.delta.x},set:function(e){this.delta.x=e}},dy:{get:function(){return this.delta.y},set:function(e){this.delta.y=e}},velocityX:{get:function(){return this.velocity.x},set:function(e){this.velocity.x=e}},velocityY:{get:function(){return this.velocity.y},set:function(e){this.velocity.y=e}}});var En={};function io(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vi(e,t,n){return t&&io(e.prototype,t),n&&io(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Pn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(En,"__esModule",{value:!0}),En.PointerInfo=void 0;var hi=vi(function e(t,n,r,o,a){(function(u,s){if(!(u instanceof s))throw new TypeError("Cannot call a class as a function")})(this,e),Pn(this,"id",void 0),Pn(this,"pointer",void 0),Pn(this,"event",void 0),Pn(this,"downTime",void 0),Pn(this,"downTarget",void 0),this.id=t,this.pointer=n,this.event=r,this.downTime=o,this.downTarget=a});En.PointerInfo=hi;var Gn,qn,lt={};function mi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ne(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(lt,"__esModule",{value:!0}),lt.Interaction=void 0,Object.defineProperty(lt,"PointerInfo",{enumerable:!0,get:function(){return En.PointerInfo}}),lt.default=lt._ProxyValues=lt._ProxyMethods=void 0,lt._ProxyValues=Gn,function(e){e.interactable="",e.element="",e.prepared="",e.pointerIsDown="",e.pointerWasMoved="",e._proxy=""}(Gn||(lt._ProxyValues=Gn={})),lt._ProxyMethods=qn,function(e){e.start="",e.move="",e.end="",e.stop="",e.interacting=""}(qn||(lt._ProxyMethods=qn={}));var gi=0,ao=function(){function e(r){var o=this,a=r.pointerType,u=r.scopeFire;(function(O,I){if(!(O instanceof I))throw new TypeError("Cannot call a class as a function")})(this,e),Ne(this,"interactable",null),Ne(this,"element",null),Ne(this,"rect",null),Ne(this,"_rects",void 0),Ne(this,"edges",null),Ne(this,"_scopeFire",void 0),Ne(this,"prepared",{name:null,axis:null,edges:null}),Ne(this,"pointerType",void 0),Ne(this,"pointers",[]),Ne(this,"downEvent",null),Ne(this,"downPointer",{}),Ne(this,"_latestPointer",{pointer:null,event:null,eventTarget:null}),Ne(this,"prevEvent",null),Ne(this,"pointerIsDown",!1),Ne(this,"pointerWasMoved",!1),Ne(this,"_interacting",!1),Ne(this,"_ending",!1),Ne(this,"_stopped",!0),Ne(this,"_proxy",null),Ne(this,"simulation",null),Ne(this,"doMove",(0,ge.warnOnce)(function(O){this.move(O)},"The interaction.doMove() method has been renamed to interaction.move()")),Ne(this,"coords",{start:V.newCoords(),prev:V.newCoords(),cur:V.newCoords(),delta:V.newCoords(),velocity:V.newCoords()}),Ne(this,"_id",gi++),this._scopeFire=u,this.pointerType=a;var s=this;this._proxy={};var l=function(O){Object.defineProperty(o._proxy,O,{get:function(){return s[O]}})};for(var d in Gn)l(d);var v=function(O){Object.defineProperty(o._proxy,O,{value:function(){return s[O].apply(s,arguments)}})};for(var y in qn)v(y);this._scopeFire("interactions:new",{interaction:this})}var t,n;return t=e,n=[{key:"pointerMoveTolerance",get:function(){return 1}},{key:"pointerDown",value:function(r,o,a){var u=this.updatePointer(r,o,a,!0),s=this.pointers[u];this._scopeFire("interactions:down",{pointer:r,event:o,eventTarget:a,pointerIndex:u,pointerInfo:s,type:"down",interaction:this})}},{key:"start",value:function(r,o,a){return!(this.interacting()||!this.pointerIsDown||this.pointers.length<(r.name==="gesture"?2:1)||!o.options[r.name].enabled)&&((0,ge.copyAction)(this.prepared,r),this.interactable=o,this.element=a,this.rect=o.getRect(a),this.edges=this.prepared.edges?(0,M.default)({},this.prepared.edges):{left:!0,right:!0,top:!0,bottom:!0},this._stopped=!1,this._interacting=this._doPhase({interaction:this,event:this.downEvent,phase:"start"})&&!this._stopped,this._interacting)}},{key:"pointerMove",value:function(r,o,a){this.simulation||this.modification&&this.modification.endResult||this.updatePointer(r,o,a,!1);var u,s,l=this.coords.cur.page.x===this.coords.prev.page.x&&this.coords.cur.page.y===this.coords.prev.page.y&&this.coords.cur.client.x===this.coords.prev.client.x&&this.coords.cur.client.y===this.coords.prev.client.y;this.pointerIsDown&&!this.pointerWasMoved&&(u=this.coords.cur.client.x-this.coords.start.client.x,s=this.coords.cur.client.y-this.coords.start.client.y,this.pointerWasMoved=(0,xe.default)(u,s)>this.pointerMoveTolerance);var d=this.getPointerIndex(r),v={pointer:r,pointerIndex:d,pointerInfo:this.pointers[d],event:o,type:"move",eventTarget:a,dx:u,dy:s,duplicate:l,interaction:this};l||V.setCoordVelocity(this.coords.velocity,this.coords.delta),this._scopeFire("interactions:move",v),l||this.simulation||(this.interacting()&&(v.type=null,this.move(v)),this.pointerWasMoved&&V.copyCoords(this.coords.prev,this.coords.cur))}},{key:"move",value:function(r){r&&r.event||V.setZeroCoords(this.coords.delta),(r=(0,M.default)({pointer:this._latestPointer.pointer,event:this._latestPointer.event,eventTarget:this._latestPointer.eventTarget,interaction:this},r||{})).phase="move",this._doPhase(r)}},{key:"pointerUp",value:function(r,o,a,u){var s=this.getPointerIndex(r);s===-1&&(s=this.updatePointer(r,o,a,!1));var l=/cancel$/i.test(o.type)?"cancel":"up";this._scopeFire("interactions:".concat(l),{pointer:r,pointerIndex:s,pointerInfo:this.pointers[s],event:o,eventTarget:a,type:l,curEventTarget:u,interaction:this}),this.simulation||this.end(o),this.removePointer(r,o)}},{key:"documentBlur",value:function(r){this.end(r),this._scopeFire("interactions:blur",{event:r,type:"blur",interaction:this})}},{key:"end",value:function(r){var o;this._ending=!0,r=r||this._latestPointer.event,this.interacting()&&(o=this._doPhase({event:r,interaction:this,phase:"end"})),this._ending=!1,o===!0&&this.stop()}},{key:"currentAction",value:function(){return this._interacting?this.prepared.name:null}},{key:"interacting",value:function(){return this._interacting}},{key:"stop",value:function(){this._scopeFire("interactions:stop",{interaction:this}),this.interactable=this.element=null,this._interacting=!1,this._stopped=!0,this.prepared.name=this.prevEvent=null}},{key:"getPointerIndex",value:function(r){var o=V.getPointerId(r);return this.pointerType==="mouse"||this.pointerType==="pen"?this.pointers.length-1:fe.findIndex(this.pointers,function(a){return a.id===o})}},{key:"getPointerInfo",value:function(r){return this.pointers[this.getPointerIndex(r)]}},{key:"updatePointer",value:function(r,o,a,u){var s=V.getPointerId(r),l=this.getPointerIndex(r),d=this.pointers[l];return u=u!==!1&&(u||/(down|start)$/i.test(o.type)),d?d.pointer=r:(d=new En.PointerInfo(s,r,o,null,null),l=this.pointers.length,this.pointers.push(d)),V.setCoords(this.coords.cur,this.pointers.map(function(v){return v.pointer}),this._now()),V.setCoordDeltas(this.coords.delta,this.coords.prev,this.coords.cur),u&&(this.pointerIsDown=!0,d.downTime=this.coords.cur.timeStamp,d.downTarget=a,V.pointerExtend(this.downPointer,r),this.interacting()||(V.copyCoords(this.coords.start,this.coords.cur),V.copyCoords(this.coords.prev,this.coords.cur),this.downEvent=o,this.pointerWasMoved=!1)),this._updateLatestPointer(r,o,a),this._scopeFire("interactions:update-pointer",{pointer:r,event:o,eventTarget:a,down:u,pointerInfo:d,pointerIndex:l,interaction:this}),l}},{key:"removePointer",value:function(r,o){var a=this.getPointerIndex(r);if(a!==-1){var u=this.pointers[a];this._scopeFire("interactions:remove-pointer",{pointer:r,event:o,eventTarget:null,pointerIndex:a,pointerInfo:u,interaction:this}),this.pointers.splice(a,1),this.pointerIsDown=!1}}},{key:"_updateLatestPointer",value:function(r,o,a){this._latestPointer.pointer=r,this._latestPointer.event=o,this._latestPointer.eventTarget=a}},{key:"destroy",value:function(){this._latestPointer.pointer=null,this._latestPointer.event=null,this._latestPointer.eventTarget=null}},{key:"_createPreparedEvent",value:function(r,o,a,u){return new On.InteractEvent(this,r,this.prepared.name,o,this.element,a,u)}},{key:"_fireEvent",value:function(r){var o;(o=this.interactable)==null||o.fire(r),(!this.prevEvent||r.timeStamp>=this.prevEvent.timeStamp)&&(this.prevEvent=r)}},{key:"_doPhase",value:function(r){var o=r.event,a=r.phase,u=r.preEnd,s=r.type,l=this.rect;if(l&&a==="move"&&(j.addEdges(this.edges,l,this.coords.delta[this.interactable.options.deltaSource]),l.width=l.right-l.left,l.height=l.bottom-l.top),this._scopeFire("interactions:before-action-".concat(a),r)===!1)return!1;var d=r.iEvent=this._createPreparedEvent(o,a,u,s);return this._scopeFire("interactions:action-".concat(a),r),a==="start"&&(this.prevEvent=d),this._fireEvent(d),this._scopeFire("interactions:after-action-".concat(a),r),!0}},{key:"_now",value:function(){return Date.now()}}],n&&mi(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();lt.Interaction=ao;var yi=ao;lt.default=yi;var At={};function so(e){e.pointerIsDown&&(Or(e.coords.cur,e.offset.total),e.offset.pending.x=0,e.offset.pending.y=0)}function lo(e){Sr(e.interaction)}function Sr(e){if(!function(n){return!(!n.offset.pending.x&&!n.offset.pending.y)}(e))return!1;var t=e.offset.pending;return Or(e.coords.cur,t),Or(e.coords.delta,t),j.addEdges(e.edges,e.rect,t),t.x=0,t.y=0,!0}function bi(e){var t=e.x,n=e.y;this.offset.pending.x+=t,this.offset.pending.y+=n,this.offset.total.x+=t,this.offset.total.y+=n}function Or(e,t){var n=e.page,r=e.client,o=t.x,a=t.y;n.x+=o,n.y+=a,r.x+=o,r.y+=a}Object.defineProperty(At,"__esModule",{value:!0}),At.addTotal=so,At.applyPending=Sr,At.default=void 0,lt._ProxyMethods.offsetBy="";var xi={id:"offset",before:["modifiers","pointer-events","actions","inertia"],install:function(e){e.Interaction.prototype.offsetBy=bi},listeners:{"interactions:new":function(e){e.interaction.offset={total:{x:0,y:0},pending:{x:0,y:0}}},"interactions:update-pointer":function(e){return so(e.interaction)},"interactions:before-action-start":lo,"interactions:before-action-move":lo,"interactions:before-action-end":function(e){var t=e.interaction;if(Sr(t))return t.move({offset:!0}),t.end(),!1},"interactions:stop":function(e){var t=e.interaction;t.offset.total.x=0,t.offset.total.y=0,t.offset.pending.x=0,t.offset.pending.y=0}}},wi=xi;At.default=wi;var Yt={};function _i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Xe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(Yt,"__esModule",{value:!0}),Yt.default=Yt.InertiaState=void 0;var uo=function(){function e(r){(function(o,a){if(!(o instanceof a))throw new TypeError("Cannot call a class as a function")})(this,e),Xe(this,"active",!1),Xe(this,"isModified",!1),Xe(this,"smoothEnd",!1),Xe(this,"allowResume",!1),Xe(this,"modification",void 0),Xe(this,"modifierCount",0),Xe(this,"modifierArg",void 0),Xe(this,"startCoords",void 0),Xe(this,"t0",0),Xe(this,"v0",0),Xe(this,"te",0),Xe(this,"targetOffset",void 0),Xe(this,"modifiedOffset",void 0),Xe(this,"currentOffset",void 0),Xe(this,"lambda_v0",0),Xe(this,"one_ve_v0",0),Xe(this,"timeout",void 0),Xe(this,"interaction",void 0),this.interaction=r}var t,n;return t=e,(n=[{key:"start",value:function(r){var o=this.interaction,a=Zn(o);if(!a||!a.enabled)return!1;var u=o.coords.velocity.client,s=(0,xe.default)(u.x,u.y),l=this.modification||(this.modification=new $t.default(o));if(l.copyFrom(o.modification),this.t0=o._now(),this.allowResume=a.allowResume,this.v0=s,this.currentOffset={x:0,y:0},this.startCoords=o.coords.cur.page,this.modifierArg=l.fillArg({pageCoords:this.startCoords,preEnd:!0,phase:"inertiastart"}),this.t0-o.coords.cur.timeStamp<50&&s>a.minSpeed&&s>a.endSpeed)this.startInertia();else{if(l.result=l.setAll(this.modifierArg),!l.result.changed)return!1;this.startSmoothEnd()}return o.modification.result.rect=null,o.offsetBy(this.targetOffset),o._doPhase({interaction:o,event:r,phase:"inertiastart"}),o.offsetBy({x:-this.targetOffset.x,y:-this.targetOffset.y}),o.modification.result.rect=null,this.active=!0,o.simulation=this,!0}},{key:"startInertia",value:function(){var r=this,o=this.interaction.coords.velocity.client,a=Zn(this.interaction),u=a.resistance,s=-Math.log(a.endSpeed/this.v0)/u;this.targetOffset={x:(o.x-s)/u,y:(o.y-s)/u},this.te=s,this.lambda_v0=u/this.v0,this.one_ve_v0=1-a.endSpeed/this.v0;var l=this.modification,d=this.modifierArg;d.pageCoords={x:this.startCoords.x+this.targetOffset.x,y:this.startCoords.y+this.targetOffset.y},l.result=l.setAll(d),l.result.changed&&(this.isModified=!0,this.modifiedOffset={x:this.targetOffset.x+l.result.delta.x,y:this.targetOffset.y+l.result.delta.y}),this.onNextFrame(function(){return r.inertiaTick()})}},{key:"startSmoothEnd",value:function(){var r=this;this.smoothEnd=!0,this.isModified=!0,this.targetOffset={x:this.modification.result.delta.x,y:this.modification.result.delta.y},this.onNextFrame(function(){return r.smoothEndTick()})}},{key:"onNextFrame",value:function(r){var o=this;this.timeout=Ce.default.request(function(){o.active&&r()})}},{key:"inertiaTick",value:function(){var r,o,a,u,s,l=this,d=this.interaction,v=Zn(d).resistance,y=(d._now()-this.t0)/1e3;if(y<this.te){var O,I=1-(Math.exp(-v*y)-this.lambda_v0)/this.one_ve_v0;this.isModified?(r=this.targetOffset.x,o=this.targetOffset.y,a=this.modifiedOffset.x,u=this.modifiedOffset.y,O={x:co(s=I,0,r,a),y:co(s,0,o,u)}):O={x:this.targetOffset.x*I,y:this.targetOffset.y*I};var x={x:O.x-this.currentOffset.x,y:O.y-this.currentOffset.y};this.currentOffset.x+=x.x,this.currentOffset.y+=x.y,d.offsetBy(x),d.move(),this.onNextFrame(function(){return l.inertiaTick()})}else d.offsetBy({x:this.modifiedOffset.x-this.currentOffset.x,y:this.modifiedOffset.y-this.currentOffset.y}),this.end()}},{key:"smoothEndTick",value:function(){var r=this,o=this.interaction,a=o._now()-this.t0,u=Zn(o).smoothEndDuration;if(a<u){var s={x:fo(a,0,this.targetOffset.x,u),y:fo(a,0,this.targetOffset.y,u)},l={x:s.x-this.currentOffset.x,y:s.y-this.currentOffset.y};this.currentOffset.x+=l.x,this.currentOffset.y+=l.y,o.offsetBy(l),o.move({skipModifiers:this.modifierCount}),this.onNextFrame(function(){return r.smoothEndTick()})}else o.offsetBy({x:this.targetOffset.x-this.currentOffset.x,y:this.targetOffset.y-this.currentOffset.y}),this.end()}},{key:"resume",value:function(r){var o=r.pointer,a=r.event,u=r.eventTarget,s=this.interaction;s.offsetBy({x:-this.currentOffset.x,y:-this.currentOffset.y}),s.updatePointer(o,a,u,!0),s._doPhase({interaction:s,event:a,phase:"resume"}),(0,V.copyCoords)(s.coords.prev,s.coords.cur),this.stop()}},{key:"end",value:function(){this.interaction.move(),this.interaction.end(),this.stop()}},{key:"stop",value:function(){this.active=this.smoothEnd=!1,this.interaction.simulation=null,Ce.default.cancel(this.timeout)}}])&&_i(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Zn(e){var t=e.interactable,n=e.prepared;return t&&t.options&&n.name&&t.options[n.name].inertia}Yt.InertiaState=uo;var Si={id:"inertia",before:["modifiers","actions"],install:function(e){var t=e.defaults;e.usePlugin(At.default),e.usePlugin(Ge.default),e.actions.phases.inertiastart=!0,e.actions.phases.resume=!0,t.perAction.inertia={enabled:!1,resistance:10,minSpeed:100,endSpeed:10,allowResume:!0,smoothEndDuration:300}},listeners:{"interactions:new":function(e){var t=e.interaction;t.inertia=new uo(t)},"interactions:before-action-end":function(e){var t=e.interaction,n=e.event;return(!t._interacting||t.simulation||!t.inertia.start(n))&&null},"interactions:down":function(e){var t=e.interaction,n=e.eventTarget,r=t.inertia;if(r.active)for(var o=n;c.default.element(o);){if(o===t.element){r.resume(e);break}o=E.parentNode(o)}},"interactions:stop":function(e){var t=e.interaction.inertia;t.active&&t.stop()},"interactions:before-action-resume":function(e){var t=e.interaction.modification;t.stop(e),t.start(e,e.interaction.coords.cur.page),t.applyToInteraction(e)},"interactions:before-action-inertiastart":function(e){return e.interaction.modification.setAndApply(e)},"interactions:action-resume":Ge.addEventModifiers,"interactions:action-inertiastart":Ge.addEventModifiers,"interactions:after-action-inertiastart":function(e){return e.interaction.modification.restoreInteractionCoords(e)},"interactions:after-action-resume":function(e){return e.interaction.modification.restoreInteractionCoords(e)}}};function co(e,t,n,r){var o=1-e;return o*o*t+2*o*e*n+e*e*r}function fo(e,t,n,r){return-n*(e/=r)*(e-2)+t}var Oi=Si;Yt.default=Oi;var Cn={};function Ei(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function In(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function po(e,t){for(var n=0;n<t.length;n++){var r=t[n];if(e.immediatePropagationStopped)break;r(e)}}Object.defineProperty(Cn,"__esModule",{value:!0}),Cn.Eventable=void 0;var Pi=function(){function e(r){(function(o,a){if(!(o instanceof a))throw new TypeError("Cannot call a class as a function")})(this,e),In(this,"options",void 0),In(this,"types",{}),In(this,"propagationStopped",!1),In(this,"immediatePropagationStopped",!1),In(this,"global",void 0),this.options=(0,M.default)({},r||{})}var t,n;return t=e,(n=[{key:"fire",value:function(r){var o,a=this.global;(o=this.types[r.type])&&po(r,o),!r.propagationStopped&&a&&(o=a[r.type])&&po(r,o)}},{key:"on",value:function(r,o){var a=(0,Oe.default)(r,o);for(r in a)this.types[r]=fe.merge(this.types[r]||[],a[r])}},{key:"off",value:function(r,o){var a=(0,Oe.default)(r,o);for(r in a){var u=this.types[r];if(u&&u.length)for(var s=0;s<a[r].length;s++){var l=a[r][s],d=u.indexOf(l);d!==-1&&u.splice(d,1)}}}},{key:"getRect",value:function(r){return null}}])&&Ei(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();Cn.Eventable=Pi;var kn={};Object.defineProperty(kn,"__esModule",{value:!0}),kn.default=function(e,t){if(t.phaselessTypes[e])return!0;for(var n in t.map)if(e.indexOf(n)===0&&e.substr(n.length)in t.phases)return!0;return!1};var Er={};Object.defineProperty(Er,"__esModule",{value:!0}),Er.createInteractStatic=function(e){var t=function n(r,o){var a=e.interactables.get(r,o);return a||((a=e.interactables.new(r,o)).events.global=n.globalEvents),a};return t.getPointerAverage=V.pointerAverage,t.getTouchBBox=V.touchBBox,t.getTouchDistance=V.touchDistance,t.getTouchAngle=V.touchAngle,t.getElementRect=E.getElementRect,t.getElementClientRect=E.getElementClientRect,t.matchesSelector=E.matchesSelector,t.closest=E.closest,t.globalEvents={},t.version="1.10.17",t.scope=e,t.use=function(n,r){return this.scope.usePlugin(n,r),this},t.isSet=function(n,r){return!!this.scope.interactables.get(n,r&&r.context)},t.on=(0,ge.warnOnce)(function(n,r,o){if(c.default.string(n)&&n.search(" ")!==-1&&(n=n.trim().split(/ +/)),c.default.array(n)){for(var a=0;a<n.length;a++){var u=n[a];this.on(u,r,o)}return this}if(c.default.object(n)){for(var s in n)this.on(s,n[s],r);return this}return(0,kn.default)(n,this.scope.actions)?this.globalEvents[n]?this.globalEvents[n].push(r):this.globalEvents[n]=[r]:this.scope.events.add(this.scope.document,n,r,{options:o}),this},"The interact.on() method is being deprecated"),t.off=(0,ge.warnOnce)(function(n,r,o){if(c.default.string(n)&&n.search(" ")!==-1&&(n=n.trim().split(/ +/)),c.default.array(n)){for(var a=0;a<n.length;a++){var u=n[a];this.off(u,r,o)}return this}if(c.default.object(n)){for(var s in n)this.off(s,n[s],r);return this}var l;return(0,kn.default)(n,this.scope.actions)?n in this.globalEvents&&(l=this.globalEvents[n].indexOf(r))!==-1&&this.globalEvents[n].splice(l,1):this.scope.events.remove(this.scope.document,n,r,o),this},"The interact.off() method is being deprecated"),t.debug=function(){return this.scope},t.supportsTouch=function(){return D.default.supportsTouch},t.supportsPointerEvent=function(){return D.default.supportsPointerEvent},t.stop=function(){for(var n=0;n<this.scope.interactions.list.length;n++)this.scope.interactions.list[n].stop();return this},t.pointerMoveTolerance=function(n){return c.default.number(n)?(this.scope.interactions.pointerMoveTolerance=n,this):this.scope.interactions.pointerMoveTolerance},t.addDocument=function(n,r){this.scope.addDocument(n,r)},t.removeDocument=function(n){this.scope.removeDocument(n)},t};var Jn={};function Ci(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function kt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(Jn,"__esModule",{value:!0}),Jn.Interactable=void 0;var Ii=function(){function e(r,o,a,u){(function(s,l){if(!(s instanceof l))throw new TypeError("Cannot call a class as a function")})(this,e),kt(this,"options",void 0),kt(this,"_actions",void 0),kt(this,"target",void 0),kt(this,"events",new Cn.Eventable),kt(this,"_context",void 0),kt(this,"_win",void 0),kt(this,"_doc",void 0),kt(this,"_scopeEvents",void 0),kt(this,"_rectChecker",void 0),this._actions=o.actions,this.target=r,this._context=o.context||a,this._win=(0,J.getWindow)((0,E.trySelector)(r)?this._context:r),this._doc=this._win.document,this._scopeEvents=u,this.set(o)}var t,n;return t=e,(n=[{key:"_defaults",get:function(){return{base:{},perAction:{},actions:{}}}},{key:"setOnEvents",value:function(r,o){return c.default.func(o.onstart)&&this.on("".concat(r,"start"),o.onstart),c.default.func(o.onmove)&&this.on("".concat(r,"move"),o.onmove),c.default.func(o.onend)&&this.on("".concat(r,"end"),o.onend),c.default.func(o.oninertiastart)&&this.on("".concat(r,"inertiastart"),o.oninertiastart),this}},{key:"updatePerActionListeners",value:function(r,o,a){(c.default.array(o)||c.default.object(o))&&this.off(r,o),(c.default.array(a)||c.default.object(a))&&this.on(r,a)}},{key:"setPerAction",value:function(r,o){var a=this._defaults;for(var u in o){var s=u,l=this.options[r],d=o[s];s==="listeners"&&this.updatePerActionListeners(r,l.listeners,d),c.default.array(d)?l[s]=fe.from(d):c.default.plainObject(d)?(l[s]=(0,M.default)(l[s]||{},(0,Ht.default)(d)),c.default.object(a.perAction[s])&&"enabled"in a.perAction[s]&&(l[s].enabled=d.enabled!==!1)):c.default.bool(d)&&c.default.object(a.perAction[s])?l[s].enabled=d:l[s]=d}}},{key:"getRect",value:function(r){return r=r||(c.default.element(this.target)?this.target:null),c.default.string(this.target)&&(r=r||this._context.querySelector(this.target)),(0,E.getElementRect)(r)}},{key:"rectChecker",value:function(r){var o=this;return c.default.func(r)?(this._rectChecker=r,this.getRect=function(a){var u=(0,M.default)({},o._rectChecker(a));return"width"in u||(u.width=u.right-u.left,u.height=u.bottom-u.top),u},this):r===null?(delete this.getRect,delete this._rectChecker,this):this.getRect}},{key:"_backCompatOption",value:function(r,o){if((0,E.trySelector)(o)||c.default.object(o)){for(var a in this.options[r]=o,this._actions.map)this.options[a][r]=o;return this}return this.options[r]}},{key:"origin",value:function(r){return this._backCompatOption("origin",r)}},{key:"deltaSource",value:function(r){return r==="page"||r==="client"?(this.options.deltaSource=r,this):this.options.deltaSource}},{key:"context",value:function(){return this._context}},{key:"inContext",value:function(r){return this._context===r.ownerDocument||(0,E.nodeContains)(this._context,r)}},{key:"testIgnoreAllow",value:function(r,o,a){return!this.testIgnore(r.ignoreFrom,o,a)&&this.testAllow(r.allowFrom,o,a)}},{key:"testAllow",value:function(r,o,a){return!r||!!c.default.element(a)&&(c.default.string(r)?(0,E.matchesUpTo)(a,r,o):!!c.default.element(r)&&(0,E.nodeContains)(r,a))}},{key:"testIgnore",value:function(r,o,a){return!(!r||!c.default.element(a))&&(c.default.string(r)?(0,E.matchesUpTo)(a,r,o):!!c.default.element(r)&&(0,E.nodeContains)(r,a))}},{key:"fire",value:function(r){return this.events.fire(r),this}},{key:"_onOff",value:function(r,o,a,u){c.default.object(o)&&!c.default.array(o)&&(u=a,a=null);var s=r==="on"?"add":"remove",l=(0,Oe.default)(o,a);for(var d in l){d==="wheel"&&(d=D.default.wheelEvent);for(var v=0;v<l[d].length;v++){var y=l[d][v];(0,kn.default)(d,this._actions)?this.events[r](d,y):c.default.string(this.target)?this._scopeEvents["".concat(s,"Delegate")](this.target,this._context,d,y,u):this._scopeEvents[s](this.target,d,y,u)}}return this}},{key:"on",value:function(r,o,a){return this._onOff("on",r,o,a)}},{key:"off",value:function(r,o,a){return this._onOff("off",r,o,a)}},{key:"set",value:function(r){var o=this._defaults;for(var a in c.default.object(r)||(r={}),this.options=(0,Ht.default)(o.base),this._actions.methodDict){var u=a,s=this._actions.methodDict[u];this.options[u]={},this.setPerAction(u,(0,M.default)((0,M.default)({},o.perAction),o.actions[u])),this[s](r[u])}for(var l in r)c.default.func(this[l])&&this[l](r[l]);return this}},{key:"unset",value:function(){if(c.default.string(this.target))for(var r in this._scopeEvents.delegatedEvents)for(var o=this._scopeEvents.delegatedEvents[r],a=o.length-1;a>=0;a--){var u=o[a],s=u.selector,l=u.context,d=u.listeners;s===this.target&&l===this._context&&o.splice(a,1);for(var v=d.length-1;v>=0;v--)this._scopeEvents.removeDelegate(this.target,this._context,r,d[v][0],d[v][1])}else this._scopeEvents.remove(this.target,"all")}}])&&Ci(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();Jn.Interactable=Ii;var Qn={};function ki(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Pr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(Qn,"__esModule",{value:!0}),Qn.InteractableSet=void 0;var Mi=function(){function e(r){var o=this;(function(a,u){if(!(a instanceof u))throw new TypeError("Cannot call a class as a function")})(this,e),Pr(this,"list",[]),Pr(this,"selectorMap",{}),Pr(this,"scope",void 0),this.scope=r,r.addListeners({"interactable:unset":function(a){var u=a.interactable,s=u.target,l=u._context,d=c.default.string(s)?o.selectorMap[s]:s[o.scope.id],v=fe.findIndex(d,function(y){return y.context===l});d[v]&&(d[v].context=null,d[v].interactable=null),d.splice(v,1)}})}var t,n;return t=e,(n=[{key:"new",value:function(r,o){o=(0,M.default)(o||{},{actions:this.scope.actions});var a=new this.scope.Interactable(r,o,this.scope.document,this.scope.events),u={context:a._context,interactable:a};return this.scope.addDocument(a._doc),this.list.push(a),c.default.string(r)?(this.selectorMap[r]||(this.selectorMap[r]=[]),this.selectorMap[r].push(u)):(a.target[this.scope.id]||Object.defineProperty(r,this.scope.id,{value:[],configurable:!0}),r[this.scope.id].push(u)),this.scope.fire("interactable:new",{target:r,options:o,interactable:a,win:this.scope._win}),a}},{key:"get",value:function(r,o){var a=o&&o.context||this.scope.document,u=c.default.string(r),s=u?this.selectorMap[r]:r[this.scope.id];if(!s)return null;var l=fe.find(s,function(d){return d.context===a&&(u||d.interactable.inContext(r))});return l&&l.interactable}},{key:"forEachMatch",value:function(r,o){for(var a=0;a<this.list.length;a++){var u=this.list[a],s=void 0;if((c.default.string(u.target)?c.default.element(r)&&E.matchesSelector(r,u.target):r===u.target)&&u.inContext(r)&&(s=o(u)),s!==void 0)return s}}}])&&ki(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();Qn.InteractableSet=Mi;var er={};function Ti(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Cr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ir(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var o=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(o!=null){var a,u,s=[],l=!0,d=!1;try{for(o=o.call(n);!(l=(a=o.next()).done)&&(s.push(a.value),!r||s.length!==r);l=!0);}catch(v){d=!0,u=v}finally{try{l||o.return==null||o.return()}finally{if(d)throw u}}return s}}(e,t)||function(n,r){if(n){if(typeof n=="string")return vo(n,r);var o=Object.prototype.toString.call(n).slice(8,-1);return o==="Object"&&n.constructor&&(o=n.constructor.name),o==="Map"||o==="Set"?Array.from(n):o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?vo(n,r):void 0}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function vo(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}Object.defineProperty(er,"__esModule",{value:!0}),er.default=void 0;var ji=function(){function e(r){(function(o,a){if(!(o instanceof a))throw new TypeError("Cannot call a class as a function")})(this,e),Cr(this,"currentTarget",void 0),Cr(this,"originalEvent",void 0),Cr(this,"type",void 0),this.originalEvent=r,(0,Re.default)(this,r)}var t,n;return t=e,(n=[{key:"preventOriginalDefault",value:function(){this.originalEvent.preventDefault()}},{key:"stopPropagation",value:function(){this.originalEvent.stopPropagation()}},{key:"stopImmediatePropagation",value:function(){this.originalEvent.stopImmediatePropagation()}}])&&Ti(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Mn(e){if(!c.default.object(e))return{capture:!!e,passive:!1};var t=(0,M.default)({},e);return t.capture=!!e.capture,t.passive=!!e.passive,t}var Di={id:"events",install:function(e){var t,n=[],r={},o=[],a={add:u,remove:s,addDelegate:function(v,y,O,I,x){var z=Mn(x);if(!r[O]){r[O]=[];for(var L=0;L<o.length;L++){var B=o[L];u(B,O,l),u(B,O,d,!0)}}var Z=r[O],ne=fe.find(Z,function(le){return le.selector===v&&le.context===y});ne||(ne={selector:v,context:y,listeners:[]},Z.push(ne)),ne.listeners.push([I,z])},removeDelegate:function(v,y,O,I,x){var z,L=Mn(x),B=r[O],Z=!1;if(B)for(z=B.length-1;z>=0;z--){var ne=B[z];if(ne.selector===v&&ne.context===y){for(var le=ne.listeners,ye=le.length-1;ye>=0;ye--){var Me=Ir(le[ye],2),ve=Me[0],Pe=Me[1],ht=Pe.capture,Tt=Pe.passive;if(ve===I&&ht===L.capture&&Tt===L.passive){le.splice(ye,1),le.length||(B.splice(z,1),s(y,O,l),s(y,O,d,!0)),Z=!0;break}}if(Z)break}}},delegateListener:l,delegateUseCapture:d,delegatedEvents:r,documents:o,targets:n,supportsOptions:!1,supportsPassive:!1};function u(v,y,O,I){var x=Mn(I),z=fe.find(n,function(L){return L.eventTarget===v});z||(z={eventTarget:v,events:{}},n.push(z)),z.events[y]||(z.events[y]=[]),v.addEventListener&&!fe.contains(z.events[y],O)&&(v.addEventListener(y,O,a.supportsOptions?x:x.capture),z.events[y].push(O))}function s(v,y,O,I){var x=Mn(I),z=fe.findIndex(n,function(ye){return ye.eventTarget===v}),L=n[z];if(L&&L.events)if(y!=="all"){var B=!1,Z=L.events[y];if(Z){if(O==="all"){for(var ne=Z.length-1;ne>=0;ne--)s(v,y,Z[ne],x);return}for(var le=0;le<Z.length;le++)if(Z[le]===O){v.removeEventListener(y,O,a.supportsOptions?x:x.capture),Z.splice(le,1),Z.length===0&&(delete L.events[y],B=!0);break}}B&&!Object.keys(L.events).length&&n.splice(z,1)}else for(y in L.events)L.events.hasOwnProperty(y)&&s(v,y,"all")}function l(v,y){for(var O=Mn(y),I=new ji(v),x=r[v.type],z=Ir(V.getEventTargets(v),1)[0],L=z;c.default.element(L);){for(var B=0;B<x.length;B++){var Z=x[B],ne=Z.selector,le=Z.context;if(E.matchesSelector(L,ne)&&E.nodeContains(le,z)&&E.nodeContains(le,L)){var ye=Z.listeners;I.currentTarget=L;for(var Me=0;Me<ye.length;Me++){var ve=Ir(ye[Me],2),Pe=ve[0],ht=ve[1],Tt=ht.capture,Xr=ht.passive;Tt===O.capture&&Xr===O.passive&&Pe(I)}}}L=E.parentNode(L)}}function d(v){return l(v,!0)}return(t=e.document)==null||t.createElement("div").addEventListener("test",null,{get capture(){return a.supportsOptions=!0},get passive(){return a.supportsPassive=!0}}),e.events=a,a}};er.default=Di;var tr={};Object.defineProperty(tr,"__esModule",{value:!0}),tr.default=void 0;var nr={methodOrder:["simulationResume","mouseOrPen","hasPointer","idle"],search:function(e){for(var t=0;t<nr.methodOrder.length;t++){var n;n=nr.methodOrder[t];var r=nr[n](e);if(r)return r}return null},simulationResume:function(e){var t=e.pointerType,n=e.eventType,r=e.eventTarget,o=e.scope;if(!/down|start/i.test(n))return null;for(var a=0;a<o.interactions.list.length;a++){var u=o.interactions.list[a],s=r;if(u.simulation&&u.simulation.allowResume&&u.pointerType===t)for(;s;){if(s===u.element)return u;s=E.parentNode(s)}}return null},mouseOrPen:function(e){var t,n=e.pointerId,r=e.pointerType,o=e.eventType,a=e.scope;if(r!=="mouse"&&r!=="pen")return null;for(var u=0;u<a.interactions.list.length;u++){var s=a.interactions.list[u];if(s.pointerType===r){if(s.simulation&&!ho(s,n))continue;if(s.interacting())return s;t||(t=s)}}if(t)return t;for(var l=0;l<a.interactions.list.length;l++){var d=a.interactions.list[l];if(!(d.pointerType!==r||/down/i.test(o)&&d.simulation))return d}return null},hasPointer:function(e){for(var t=e.pointerId,n=e.scope,r=0;r<n.interactions.list.length;r++){var o=n.interactions.list[r];if(ho(o,t))return o}return null},idle:function(e){for(var t=e.pointerType,n=e.scope,r=0;r<n.interactions.list.length;r++){var o=n.interactions.list[r];if(o.pointers.length===1){var a=o.interactable;if(a&&(!a.options.gesture||!a.options.gesture.enabled))continue}else if(o.pointers.length>=2)continue;if(!o.interacting()&&t===o.pointerType)return o}return null}};function ho(e,t){return e.pointers.some(function(n){return n.id===t})}var Ai=nr;tr.default=Ai;var rr={};function kr(e){return kr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kr(e)}function mo(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var o=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(o!=null){var a,u,s=[],l=!0,d=!1;try{for(o=o.call(n);!(l=(a=o.next()).done)&&(s.push(a.value),!r||s.length!==r);l=!0);}catch(v){d=!0,u=v}finally{try{l||o.return==null||o.return()}finally{if(d)throw u}}return s}}(e,t)||function(n,r){if(n){if(typeof n=="string")return go(n,r);var o=Object.prototype.toString.call(n).slice(8,-1);return o==="Object"&&n.constructor&&(o=n.constructor.name),o==="Map"||o==="Set"?Array.from(n):o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?go(n,r):void 0}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function go(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Ri(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Mr(e,t){return Mr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Mr(e,t)}function Bi(e,t){if(t&&(kr(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function or(e){return or=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},or(e)}Object.defineProperty(rr,"__esModule",{value:!0}),rr.default=void 0;var Tr=["pointerDown","pointerMove","pointerUp","updatePointer","removePointer","windowBlur"];function yo(e,t){return function(n){var r=t.interactions.list,o=V.getPointerType(n),a=mo(V.getEventTargets(n),2),u=a[0],s=a[1],l=[];if(/^touch/.test(n.type)){t.prevTouchTime=t.now();for(var d=0;d<n.changedTouches.length;d++){var v=n.changedTouches[d],y={pointer:v,pointerId:V.getPointerId(v),pointerType:o,eventType:n.type,eventTarget:u,curEventTarget:s,scope:t},O=bo(y);l.push([y.pointer,y.eventTarget,y.curEventTarget,O])}}else{var I=!1;if(!D.default.supportsPointerEvent&&/mouse/.test(n.type)){for(var x=0;x<r.length&&!I;x++)I=r[x].pointerType!=="mouse"&&r[x].pointerIsDown;I=I||t.now()-t.prevTouchTime<500||n.timeStamp===0}if(!I){var z={pointer:n,pointerId:V.getPointerId(n),pointerType:o,eventType:n.type,curEventTarget:s,eventTarget:u,scope:t},L=bo(z);l.push([z.pointer,z.eventTarget,z.curEventTarget,L])}}for(var B=0;B<l.length;B++){var Z=mo(l[B],4),ne=Z[0],le=Z[1],ye=Z[2];Z[3][e](ne,n,le,ye)}}}function bo(e){var t=e.pointerType,n=e.scope,r={interaction:tr.default.search(e),searchDetails:e};return n.fire("interactions:find",r),r.interaction||n.interactions.new({pointerType:t})}function jr(e,t){var n=e.doc,r=e.scope,o=e.options,a=r.interactions.docEvents,u=r.events,s=u[t];for(var l in r.browser.isIOS&&!o.events&&(o.events={passive:!1}),u.delegatedEvents)s(n,l,u.delegateListener),s(n,l,u.delegateUseCapture,!0);for(var d=o&&o.events,v=0;v<a.length;v++){var y=a[v];s(n,y.type,y.listener,d)}}var Fi={id:"core/interactions",install:function(e){for(var t={},n=0;n<Tr.length;n++){var r=Tr[n];t[r]=yo(r,e)}var o,a=D.default.pEventTypes;function u(){for(var s=0;s<e.interactions.list.length;s++){var l=e.interactions.list[s];if(l.pointerIsDown&&l.pointerType==="touch"&&!l._interacting)for(var d=function(){var y=l.pointers[v];e.documents.some(function(O){var I=O.doc;return(0,E.nodeContains)(I,y.downTarget)})||l.removePointer(y.pointer,y.event)},v=0;v<l.pointers.length;v++)d()}}(o=S.default.PointerEvent?[{type:a.down,listener:u},{type:a.down,listener:t.pointerDown},{type:a.move,listener:t.pointerMove},{type:a.up,listener:t.pointerUp},{type:a.cancel,listener:t.pointerUp}]:[{type:"mousedown",listener:t.pointerDown},{type:"mousemove",listener:t.pointerMove},{type:"mouseup",listener:t.pointerUp},{type:"touchstart",listener:u},{type:"touchstart",listener:t.pointerDown},{type:"touchmove",listener:t.pointerMove},{type:"touchend",listener:t.pointerUp},{type:"touchcancel",listener:t.pointerUp}]).push({type:"blur",listener:function(s){for(var l=0;l<e.interactions.list.length;l++)e.interactions.list[l].documentBlur(s)}}),e.prevTouchTime=0,e.Interaction=function(s){(function(x,z){if(typeof z!="function"&&z!==null)throw new TypeError("Super expression must either be null or a function");x.prototype=Object.create(z&&z.prototype,{constructor:{value:x,writable:!0,configurable:!0}}),Object.defineProperty(x,"prototype",{writable:!1}),z&&Mr(x,z)})(I,s);var l,d,v,y,O=(v=I,y=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var x,z=or(v);if(y){var L=or(this).constructor;x=Reflect.construct(z,arguments,L)}else x=z.apply(this,arguments);return Bi(this,x)});function I(){return Ri(this,I),O.apply(this,arguments)}return l=I,(d=[{key:"pointerMoveTolerance",get:function(){return e.interactions.pointerMoveTolerance},set:function(x){e.interactions.pointerMoveTolerance=x}},{key:"_now",value:function(){return e.now()}}])&&zi(l.prototype,d),Object.defineProperty(l,"prototype",{writable:!1}),I}(lt.default),e.interactions={list:[],new:function(s){s.scopeFire=function(d,v){return e.fire(d,v)};var l=new e.Interaction(s);return e.interactions.list.push(l),l},listeners:t,docEvents:o,pointerMoveTolerance:1},e.usePlugin(It.default)},listeners:{"scope:add-document":function(e){return jr(e,"add")},"scope:remove-document":function(e){return jr(e,"remove")},"interactable:unset":function(e,t){for(var n=e.interactable,r=t.interactions.list.length-1;r>=0;r--){var o=t.interactions.list[r];o.interactable===n&&(o.stop(),t.fire("interactions:destroy",{interaction:o}),o.destroy(),t.interactions.list.length>2&&t.interactions.list.splice(r,1))}}},onDocSignal:jr,doOnInteractions:yo,methodNames:Tr},Ni=Fi;rr.default=Ni;var Tn={};function Dr(e){return Dr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dr(e)}function jn(){return jn=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=Li(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},jn.apply(this,arguments)}function Li(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=Rt(e))!==null;);return e}function Ar(e,t){return Ar=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Ar(e,t)}function Vi(e,t){if(t&&(Dr(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function Rt(e){return Rt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Rt(e)}function xo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _o(e,t,n){return t&&wo(e.prototype,t),n&&wo(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function qe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(Tn,"__esModule",{value:!0}),Tn.Scope=void 0,Tn.initScope=So;var Wi=function(){function e(){var t=this;xo(this,e),qe(this,"id","__interact_scope_".concat(Math.floor(100*Math.random()))),qe(this,"isInitialized",!1),qe(this,"listenerMaps",[]),qe(this,"browser",D.default),qe(this,"defaults",(0,Ht.default)(Sn.defaults)),qe(this,"Eventable",Cn.Eventable),qe(this,"actions",{map:{},phases:{start:!0,move:!0,end:!0},methodDict:{},phaselessTypes:{}}),qe(this,"interactStatic",(0,Er.createInteractStatic)(this)),qe(this,"InteractEvent",On.InteractEvent),qe(this,"Interactable",void 0),qe(this,"interactables",new Qn.InteractableSet(this)),qe(this,"_win",void 0),qe(this,"document",void 0),qe(this,"window",void 0),qe(this,"documents",[]),qe(this,"_plugins",{list:[],map:{}}),qe(this,"onWindowUnload",function(r){return t.removeDocument(r.target)});var n=this;this.Interactable=function(r){(function(l,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function");l.prototype=Object.create(d&&d.prototype,{constructor:{value:l,writable:!0,configurable:!0}}),Object.defineProperty(l,"prototype",{writable:!1}),d&&Ar(l,d)})(s,r);var o,a,u=(o=s,a=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var l,d=Rt(o);if(a){var v=Rt(this).constructor;l=Reflect.construct(d,arguments,v)}else l=d.apply(this,arguments);return Vi(this,l)});function s(){return xo(this,s),u.apply(this,arguments)}return _o(s,[{key:"_defaults",get:function(){return n.defaults}},{key:"set",value:function(l){return jn(Rt(s.prototype),"set",this).call(this,l),n.fire("interactable:set",{options:l,interactable:this}),this}},{key:"unset",value:function(){jn(Rt(s.prototype),"unset",this).call(this);var l=n.interactables.list.indexOf(this);l<0||(jn(Rt(s.prototype),"unset",this).call(this),n.interactables.list.splice(l,1),n.fire("interactable:unset",{interactable:this}))}}]),s}(Jn.Interactable)}return _o(e,[{key:"addListeners",value:function(t,n){this.listenerMaps.push({id:n,map:t})}},{key:"fire",value:function(t,n){for(var r=0;r<this.listenerMaps.length;r++){var o=this.listenerMaps[r].map[t];if(o&&o(n,this,t)===!1)return!1}}},{key:"init",value:function(t){return this.isInitialized?this:So(this,t)}},{key:"pluginIsInstalled",value:function(t){return this._plugins.map[t.id]||this._plugins.list.indexOf(t)!==-1}},{key:"usePlugin",value:function(t,n){if(!this.isInitialized)return this;if(this.pluginIsInstalled(t))return this;if(t.id&&(this._plugins.map[t.id]=t),this._plugins.list.push(t),t.install&&t.install(this,n),t.listeners&&t.before){for(var r=0,o=this.listenerMaps.length,a=t.before.reduce(function(s,l){return s[l]=!0,s[Oo(l)]=!0,s},{});r<o;r++){var u=this.listenerMaps[r].id;if(a[u]||a[Oo(u)])break}this.listenerMaps.splice(r,0,{id:t.id,map:t.listeners})}else t.listeners&&this.listenerMaps.push({id:t.id,map:t.listeners});return this}},{key:"addDocument",value:function(t,n){if(this.getDocIndex(t)!==-1)return!1;var r=J.getWindow(t);n=n?(0,M.default)({},n):{},this.documents.push({doc:t,options:n}),this.events.documents.push(t),t!==this.document&&this.events.add(r,"unload",this.onWindowUnload),this.fire("scope:add-document",{doc:t,window:r,scope:this,options:n})}},{key:"removeDocument",value:function(t){var n=this.getDocIndex(t),r=J.getWindow(t),o=this.documents[n].options;this.events.remove(r,"unload",this.onWindowUnload),this.documents.splice(n,1),this.events.documents.splice(n,1),this.fire("scope:remove-document",{doc:t,window:r,scope:this,options:o})}},{key:"getDocIndex",value:function(t){for(var n=0;n<this.documents.length;n++)if(this.documents[n].doc===t)return n;return-1}},{key:"getDocOptions",value:function(t){var n=this.getDocIndex(t);return n===-1?null:this.documents[n].options}},{key:"now",value:function(){return(this.window.Date||Date).now()}}]),e}();function So(e,t){return e.isInitialized=!0,c.default.window(t)&&J.init(t),S.default.init(t),D.default.init(t),Ce.default.init(t),e.window=t,e.document=t.document,e.usePlugin(rr.default),e.usePlugin(er.default),e}function Oo(e){return e&&e.replace(/\/.*$/,"")}Tn.Scope=Wi;var Ze={};Object.defineProperty(Ze,"__esModule",{value:!0}),Ze.default=void 0;var Eo=new Tn.Scope,Hi=Eo.interactStatic;Ze.default=Hi;var $i=typeof globalThis<"u"?globalThis:typeof window<"u"?window:void 0;Eo.init($i);var ir={};Object.defineProperty(ir,"__esModule",{value:!0}),ir.default=void 0,ir.default=function(){};var ar={};Object.defineProperty(ar,"__esModule",{value:!0}),ar.default=void 0,ar.default=function(){};var sr={};function Po(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var o=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(o!=null){var a,u,s=[],l=!0,d=!1;try{for(o=o.call(n);!(l=(a=o.next()).done)&&(s.push(a.value),!r||s.length!==r);l=!0);}catch(v){d=!0,u=v}finally{try{l||o.return==null||o.return()}finally{if(d)throw u}}return s}}(e,t)||function(n,r){if(n){if(typeof n=="string")return Co(n,r);var o=Object.prototype.toString.call(n).slice(8,-1);return o==="Object"&&n.constructor&&(o=n.constructor.name),o==="Map"||o==="Set"?Array.from(n):o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?Co(n,r):void 0}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Co(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}Object.defineProperty(sr,"__esModule",{value:!0}),sr.default=void 0,sr.default=function(e){var t=[["x","y"],["left","top"],["right","bottom"],["width","height"]].filter(function(r){var o=Po(r,2),a=o[0],u=o[1];return a in e||u in e}),n=function(r,o){for(var a=e.range,u=e.limits,s=u===void 0?{left:-1/0,right:1/0,top:-1/0,bottom:1/0}:u,l=e.offset,d=l===void 0?{x:0,y:0}:l,v={range:a,grid:e,x:null,y:null},y=0;y<t.length;y++){var O=Po(t[y],2),I=O[0],x=O[1],z=Math.round((r-d.x)/e[I]),L=Math.round((o-d.y)/e[x]);v[I]=Math.max(s.left,Math.min(s.right,z*e[I]+d.x)),v[x]=Math.max(s.top,Math.min(s.bottom,L*e[x]+d.y))}return v};return n.grid=e,n.coordFields=t,n};var Dn={};Object.defineProperty(Dn,"__esModule",{value:!0}),Object.defineProperty(Dn,"edgeTarget",{enumerable:!0,get:function(){return ir.default}}),Object.defineProperty(Dn,"elements",{enumerable:!0,get:function(){return ar.default}}),Object.defineProperty(Dn,"grid",{enumerable:!0,get:function(){return sr.default}});var lr={};Object.defineProperty(lr,"__esModule",{value:!0}),lr.default=void 0;var Ui={id:"snappers",install:function(e){var t=e.interactStatic;t.snappers=(0,M.default)(t.snappers||{},Dn),t.createSnapGrid=t.snappers.grid}},Yi=Ui;lr.default=Yi;var sn={};function Io(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function Rr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Io(Object(n),!0).forEach(function(r){Xi(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Io(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Xi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(sn,"__esModule",{value:!0}),sn.default=sn.aspectRatio=void 0;var ko={start:function(e){var t=e.state,n=e.rect,r=e.edges,o=e.pageCoords,a=t.options.ratio,u=t.options,s=u.equalDelta,l=u.modifiers;a==="preserve"&&(a=n.width/n.height),t.startCoords=(0,M.default)({},o),t.startRect=(0,M.default)({},n),t.ratio=a,t.equalDelta=s;var d=t.linkedEdges={top:r.top||r.left&&!r.bottom,left:r.left||r.top&&!r.right,bottom:r.bottom||r.right&&!r.top,right:r.right||r.bottom&&!r.left};if(t.xIsPrimaryAxis=!(!r.left&&!r.right),t.equalDelta){var v=(d.left?1:-1)*(d.top?1:-1);t.edgeSign={x:v,y:v}}else t.edgeSign={x:d.left?-1:1,y:d.top?-1:1};if((0,M.default)(e.edges,d),l&&l.length){var y=new $t.default(e.interaction);y.copyFrom(e.interaction.modification),y.prepareStates(l),t.subModification=y,y.startAll(Rr({},e))}},set:function(e){var t=e.state,n=e.rect,r=e.coords,o=(0,M.default)({},r),a=t.equalDelta?Ki:Gi;if(a(t,t.xIsPrimaryAxis,r,n),!t.subModification)return null;var u=(0,M.default)({},n);(0,j.addEdges)(t.linkedEdges,u,{x:r.x-o.x,y:r.y-o.y});var s=t.subModification.setAll(Rr(Rr({},e),{},{rect:u,edges:t.linkedEdges,pageCoords:r,prevCoords:r,prevRect:u})),l=s.delta;return s.changed&&(a(t,Math.abs(l.x)>Math.abs(l.y),s.coords,s.rect),(0,M.default)(r,s.coords)),s.eventProps},defaults:{ratio:"preserve",equalDelta:!1,modifiers:[],enabled:!1}};function Ki(e,t,n){var r=e.startCoords,o=e.edgeSign;t?n.y=r.y+(n.x-r.x)*o.y:n.x=r.x+(n.y-r.y)*o.x}function Gi(e,t,n,r){var o=e.startRect,a=e.startCoords,u=e.ratio,s=e.edgeSign;if(t){var l=r.width/u;n.y=a.y+(l-o.height)*s.y}else{var d=r.height*u;n.x=a.x+(d-o.width)*s.x}}sn.aspectRatio=ko;var qi=(0,Ge.makeModifier)(ko,"aspectRatio");sn.default=qi;var Xt={};Object.defineProperty(Xt,"__esModule",{value:!0}),Xt.default=void 0;var Mo=function(){};Mo._defaults={};var Zi=Mo;Xt.default=Zi;var zr={};Object.defineProperty(zr,"__esModule",{value:!0}),Object.defineProperty(zr,"default",{enumerable:!0,get:function(){return Xt.default}});var rt={};function Br(e,t,n){return c.default.func(e)?j.resolveRectLike(e,t.interactable,t.element,[n.x,n.y,t]):j.resolveRectLike(e,t.interactable,t.element)}Object.defineProperty(rt,"__esModule",{value:!0}),rt.default=void 0,rt.getRestrictionRect=Br,rt.restrict=void 0;var To={start:function(e){var t=e.rect,n=e.startOffset,r=e.state,o=e.interaction,a=e.pageCoords,u=r.options,s=u.elementRect,l=(0,M.default)({left:0,top:0,right:0,bottom:0},u.offset||{});if(t&&s){var d=Br(u.restriction,o,a);if(d){var v=d.right-d.left-t.width,y=d.bottom-d.top-t.height;v<0&&(l.left+=v,l.right+=v),y<0&&(l.top+=y,l.bottom+=y)}l.left+=n.left-t.width*s.left,l.top+=n.top-t.height*s.top,l.right+=n.right-t.width*(1-s.right),l.bottom+=n.bottom-t.height*(1-s.bottom)}r.offset=l},set:function(e){var t=e.coords,n=e.interaction,r=e.state,o=r.options,a=r.offset,u=Br(o.restriction,n,t);if(u){var s=j.xywhToTlbr(u);t.x=Math.max(Math.min(s.right-a.right,t.x),s.left+a.left),t.y=Math.max(Math.min(s.bottom-a.bottom,t.y),s.top+a.top)}},defaults:{restriction:null,elementRect:null,offset:null,endOnly:!1,enabled:!1}};rt.restrict=To;var Ji=(0,Ge.makeModifier)(To,"restrict");rt.default=Ji;var Pt={};Object.defineProperty(Pt,"__esModule",{value:!0}),Pt.restrictEdges=Pt.default=void 0;var jo={top:1/0,left:1/0,bottom:-1/0,right:-1/0},Do={top:-1/0,left:-1/0,bottom:1/0,right:1/0};function Ao(e,t){for(var n=["top","left","bottom","right"],r=0;r<n.length;r++){var o=n[r];o in e||(e[o]=t[o])}return e}var Ro={noInner:jo,noOuter:Do,start:function(e){var t,n=e.interaction,r=e.startOffset,o=e.state,a=o.options;if(a){var u=(0,rt.getRestrictionRect)(a.offset,n,n.coords.start.page);t=j.rectToXY(u)}t=t||{x:0,y:0},o.offset={top:t.y+r.top,left:t.x+r.left,bottom:t.y-r.bottom,right:t.x-r.right}},set:function(e){var t=e.coords,n=e.edges,r=e.interaction,o=e.state,a=o.offset,u=o.options;if(n){var s=(0,M.default)({},t),l=(0,rt.getRestrictionRect)(u.inner,r,s)||{},d=(0,rt.getRestrictionRect)(u.outer,r,s)||{};Ao(l,jo),Ao(d,Do),n.top?t.y=Math.min(Math.max(d.top+a.top,s.y),l.top+a.top):n.bottom&&(t.y=Math.max(Math.min(d.bottom+a.bottom,s.y),l.bottom+a.bottom)),n.left?t.x=Math.min(Math.max(d.left+a.left,s.x),l.left+a.left):n.right&&(t.x=Math.max(Math.min(d.right+a.right,s.x),l.right+a.right))}},defaults:{inner:null,outer:null,offset:null,endOnly:!1,enabled:!1}};Pt.restrictEdges=Ro;var Qi=(0,Ge.makeModifier)(Ro,"restrictEdges");Pt.default=Qi;var ln={};Object.defineProperty(ln,"__esModule",{value:!0}),ln.restrictRect=ln.default=void 0;var ea=(0,M.default)({get elementRect(){return{top:0,left:0,bottom:1,right:1}},set elementRect(e){}},rt.restrict.defaults),zo={start:rt.restrict.start,set:rt.restrict.set,defaults:ea};ln.restrictRect=zo;var ta=(0,Ge.makeModifier)(zo,"restrictRect");ln.default=ta;var un={};Object.defineProperty(un,"__esModule",{value:!0}),un.restrictSize=un.default=void 0;var na={width:-1/0,height:-1/0},ra={width:1/0,height:1/0},Bo={start:function(e){return Pt.restrictEdges.start(e)},set:function(e){var t=e.interaction,n=e.state,r=e.rect,o=e.edges,a=n.options;if(o){var u=j.tlbrToXywh((0,rt.getRestrictionRect)(a.min,t,e.coords))||na,s=j.tlbrToXywh((0,rt.getRestrictionRect)(a.max,t,e.coords))||ra;n.options={endOnly:a.endOnly,inner:(0,M.default)({},Pt.restrictEdges.noInner),outer:(0,M.default)({},Pt.restrictEdges.noOuter)},o.top?(n.options.inner.top=r.bottom-u.height,n.options.outer.top=r.bottom-s.height):o.bottom&&(n.options.inner.bottom=r.top+u.height,n.options.outer.bottom=r.top+s.height),o.left?(n.options.inner.left=r.right-u.width,n.options.outer.left=r.right-s.width):o.right&&(n.options.inner.right=r.left+u.width,n.options.outer.right=r.left+s.width),Pt.restrictEdges.set(e),n.options=a}},defaults:{min:null,max:null,endOnly:!1,enabled:!1}};un.restrictSize=Bo;var oa=(0,Ge.makeModifier)(Bo,"restrictSize");un.default=oa;var Fr={};Object.defineProperty(Fr,"__esModule",{value:!0}),Object.defineProperty(Fr,"default",{enumerable:!0,get:function(){return Xt.default}});var zt={};Object.defineProperty(zt,"__esModule",{value:!0}),zt.snap=zt.default=void 0;var Fo={start:function(e){var t,n=e.interaction,r=e.interactable,o=e.element,a=e.rect,u=e.state,s=e.startOffset,l=u.options,d=l.offsetWithOrigin?function(O){var I=O.interaction.element;return(0,j.rectToXY)((0,j.resolveRectLike)(O.state.options.origin,null,null,[I]))||(0,de.default)(O.interactable,I,O.interaction.prepared.name)}(e):{x:0,y:0};if(l.offset==="startCoords")t={x:n.coords.start.page.x,y:n.coords.start.page.y};else{var v=(0,j.resolveRectLike)(l.offset,r,o,[n]);(t=(0,j.rectToXY)(v)||{x:0,y:0}).x+=d.x,t.y+=d.y}var y=l.relativePoints;u.offsets=a&&y&&y.length?y.map(function(O,I){return{index:I,relativePoint:O,x:s.left-a.width*O.x+t.x,y:s.top-a.height*O.y+t.y}}):[{index:0,relativePoint:null,x:t.x,y:t.y}]},set:function(e){var t=e.interaction,n=e.coords,r=e.state,o=r.options,a=r.offsets,u=(0,de.default)(t.interactable,t.element,t.prepared.name),s=(0,M.default)({},n),l=[];o.offsetWithOrigin||(s.x-=u.x,s.y-=u.y);for(var d=0;d<a.length;d++)for(var v=a[d],y=s.x-v.x,O=s.y-v.y,I=0,x=o.targets.length;I<x;I++){var z,L=o.targets[I];(z=c.default.func(L)?L(y,O,t._proxy,v,I):L)&&l.push({x:(c.default.number(z.x)?z.x:y)+v.x,y:(c.default.number(z.y)?z.y:O)+v.y,range:c.default.number(z.range)?z.range:o.range,source:L,index:I,offset:v})}for(var B={target:null,inRange:!1,distance:0,range:0,delta:{x:0,y:0}},Z=0;Z<l.length;Z++){var ne=l[Z],le=ne.range,ye=ne.x-s.x,Me=ne.y-s.y,ve=(0,xe.default)(ye,Me),Pe=ve<=le;le===1/0&&B.inRange&&B.range!==1/0&&(Pe=!1),B.target&&!(Pe?B.inRange&&le!==1/0?ve/le<B.distance/B.range:le===1/0&&B.range!==1/0||ve<B.distance:!B.inRange&&ve<B.distance)||(B.target=ne,B.distance=ve,B.range=le,B.inRange=Pe,B.delta.x=ye,B.delta.y=Me)}return B.inRange&&(n.x=B.target.x,n.y=B.target.y),r.closest=B,B},defaults:{range:1/0,targets:null,offset:null,offsetWithOrigin:!0,origin:null,relativePoints:null,endOnly:!1,enabled:!1}};zt.snap=Fo;var ia=(0,Ge.makeModifier)(Fo,"snap");zt.default=ia;var Mt={};function No(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}Object.defineProperty(Mt,"__esModule",{value:!0}),Mt.snapSize=Mt.default=void 0;var Lo={start:function(e){var t=e.state,n=e.edges,r=t.options;if(!n)return null;e.state={options:{targets:null,relativePoints:[{x:n.left?0:1,y:n.top?0:1}],offset:r.offset||"self",origin:{x:0,y:0},range:r.range}},t.targetFields=t.targetFields||[["width","height"],["x","y"]],zt.snap.start(e),t.offsets=e.state.offsets,e.state=t},set:function(e){var t,n,r=e.interaction,o=e.state,a=e.coords,u=o.options,s=o.offsets,l={x:a.x-s[0].x,y:a.y-s[0].y};o.options=(0,M.default)({},u),o.options.targets=[];for(var d=0;d<(u.targets||[]).length;d++){var v=(u.targets||[])[d],y=void 0;if(y=c.default.func(v)?v(l.x,l.y,r):v){for(var O=0;O<o.targetFields.length;O++){var I=(t=o.targetFields[O],n=2,function(B){if(Array.isArray(B))return B}(t)||function(B,Z){var ne=B==null?null:typeof Symbol<"u"&&B[Symbol.iterator]||B["@@iterator"];if(ne!=null){var le,ye,Me=[],ve=!0,Pe=!1;try{for(ne=ne.call(B);!(ve=(le=ne.next()).done)&&(Me.push(le.value),!Z||Me.length!==Z);ve=!0);}catch(ht){Pe=!0,ye=ht}finally{try{ve||ne.return==null||ne.return()}finally{if(Pe)throw ye}}return Me}}(t,n)||function(B,Z){if(B){if(typeof B=="string")return No(B,Z);var ne=Object.prototype.toString.call(B).slice(8,-1);return ne==="Object"&&B.constructor&&(ne=B.constructor.name),ne==="Map"||ne==="Set"?Array.from(B):ne==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ne)?No(B,Z):void 0}}(t,n)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()),x=I[0],z=I[1];if(x in y||z in y){y.x=y[x],y.y=y[z];break}}o.options.targets.push(y)}}var L=zt.snap.set(e);return o.options=u,L},defaults:{range:1/0,targets:null,offset:null,endOnly:!1,enabled:!1}};Mt.snapSize=Lo;var aa=(0,Ge.makeModifier)(Lo,"snapSize");Mt.default=aa;var cn={};Object.defineProperty(cn,"__esModule",{value:!0}),cn.snapEdges=cn.default=void 0;var Vo={start:function(e){var t=e.edges;return t?(e.state.targetFields=e.state.targetFields||[[t.left?"left":"right",t.top?"top":"bottom"]],Mt.snapSize.start(e)):null},set:Mt.snapSize.set,defaults:(0,M.default)((0,Ht.default)(Mt.snapSize.defaults),{targets:null,range:null,offset:{x:0,y:0}})};cn.snapEdges=Vo;var sa=(0,Ge.makeModifier)(Vo,"snapEdges");cn.default=sa;var Nr={};Object.defineProperty(Nr,"__esModule",{value:!0}),Object.defineProperty(Nr,"default",{enumerable:!0,get:function(){return Xt.default}});var Lr={};Object.defineProperty(Lr,"__esModule",{value:!0}),Object.defineProperty(Lr,"default",{enumerable:!0,get:function(){return Xt.default}});var dn={};Object.defineProperty(dn,"__esModule",{value:!0}),dn.default=void 0;var la={aspectRatio:sn.default,restrictEdges:Pt.default,restrict:rt.default,restrictRect:ln.default,restrictSize:un.default,snapEdges:cn.default,snap:zt.default,snapSize:Mt.default,spring:Nr.default,avoid:zr.default,transform:Lr.default,rubberband:Fr.default};dn.default=la;var An={};Object.defineProperty(An,"__esModule",{value:!0}),An.default=void 0;var ua={id:"modifiers",install:function(e){var t=e.interactStatic;for(var n in e.usePlugin(Ge.default),e.usePlugin(lr.default),t.modifiers=dn.default,dn.default){var r=dn.default[n],o=r._defaults,a=r._methods;o._methods=a,e.defaults.perAction[n]=o}}},ca=ua;An.default=ca;var Kt={};function Vr(e){return Vr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vr(e)}function da(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Wr(e,t){return Wr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Wr(e,t)}function fa(e,t){if(t&&(Vr(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Hr(e)}function Hr(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ur(e){return ur=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ur(e)}Object.defineProperty(Kt,"__esModule",{value:!0}),Kt.default=Kt.PointerEvent=void 0;var pa=function(e){(function(s,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(l&&l.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),Object.defineProperty(s,"prototype",{writable:!1}),l&&Wr(s,l)})(u,e);var t,n,r,o,a=(r=u,o=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var s,l=ur(r);if(o){var d=ur(this).constructor;s=Reflect.construct(l,arguments,d)}else s=l.apply(this,arguments);return fa(this,s)});function u(s,l,d,v,y,O){var I;if(function(L,B){if(!(L instanceof B))throw new TypeError("Cannot call a class as a function")}(this,u),I=a.call(this,y),V.pointerExtend(Hr(I),d),d!==l&&V.pointerExtend(Hr(I),l),I.timeStamp=O,I.originalEvent=d,I.type=s,I.pointerId=V.getPointerId(l),I.pointerType=V.getPointerType(l),I.target=v,I.currentTarget=null,s==="tap"){var x=y.getPointerIndex(l);I.dt=I.timeStamp-y.pointers[x].downTime;var z=I.timeStamp-y.tapTime;I.double=!!y.prevTap&&y.prevTap.type!=="doubletap"&&y.prevTap.target===I.target&&z<500}else s==="doubletap"&&(I.dt=l.timeStamp-y.tapTime,I.double=!0);return I}return t=u,(n=[{key:"_subtractOrigin",value:function(s){var l=s.x,d=s.y;return this.pageX-=l,this.pageY-=d,this.clientX-=l,this.clientY-=d,this}},{key:"_addOrigin",value:function(s){var l=s.x,d=s.y;return this.pageX+=l,this.pageY+=d,this.clientX+=l,this.clientY+=d,this}},{key:"preventDefault",value:function(){this.originalEvent.preventDefault()}}])&&da(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),u}(Be.BaseEvent);Kt.PointerEvent=Kt.default=pa;var Rn={};Object.defineProperty(Rn,"__esModule",{value:!0}),Rn.default=void 0;var cr={id:"pointer-events/base",before:["inertia","modifiers","auto-start","actions"],install:function(e){e.pointerEvents=cr,e.defaults.actions.pointerEvents=cr.defaults,(0,M.default)(e.actions.phaselessTypes,cr.types)},listeners:{"interactions:new":function(e){var t=e.interaction;t.prevTap=null,t.tapTime=0},"interactions:update-pointer":function(e){var t=e.down,n=e.pointerInfo;!t&&n.hold||(n.hold={duration:1/0,timeout:null})},"interactions:move":function(e,t){var n=e.interaction,r=e.pointer,o=e.event,a=e.eventTarget;e.duplicate||n.pointerIsDown&&!n.pointerWasMoved||(n.pointerIsDown&&$r(e),Bt({interaction:n,pointer:r,event:o,eventTarget:a,type:"move"},t))},"interactions:down":function(e,t){(function(n,r){for(var o=n.interaction,a=n.pointer,u=n.event,s=n.eventTarget,l=n.pointerIndex,d=o.pointers[l].hold,v=E.getPath(s),y={interaction:o,pointer:a,event:u,eventTarget:s,type:"hold",targets:[],path:v,node:null},O=0;O<v.length;O++){var I=v[O];y.node=I,r.fire("pointerEvents:collect-targets",y)}if(y.targets.length){for(var x=1/0,z=0;z<y.targets.length;z++){var L=y.targets[z].eventable.options.holdDuration;L<x&&(x=L)}d.duration=x,d.timeout=setTimeout(function(){Bt({interaction:o,eventTarget:s,pointer:a,event:u,type:"hold"},r)},x)}})(e,t),Bt(e,t)},"interactions:up":function(e,t){$r(e),Bt(e,t),function(n,r){var o=n.interaction,a=n.pointer,u=n.event,s=n.eventTarget;o.pointerWasMoved||Bt({interaction:o,eventTarget:s,pointer:a,event:u,type:"tap"},r)}(e,t)},"interactions:cancel":function(e,t){$r(e),Bt(e,t)}},PointerEvent:Kt.PointerEvent,fire:Bt,collectEventTargets:Wo,defaults:{holdDuration:600,ignoreFrom:null,allowFrom:null,origin:{x:0,y:0}},types:{down:!0,move:!0,up:!0,cancel:!0,tap:!0,doubletap:!0,hold:!0}};function Bt(e,t){var n=e.interaction,r=e.pointer,o=e.event,a=e.eventTarget,u=e.type,s=e.targets,l=s===void 0?Wo(e,t):s,d=new Kt.PointerEvent(u,r,o,a,n,t.now());t.fire("pointerEvents:new",{pointerEvent:d});for(var v={interaction:n,pointer:r,event:o,eventTarget:a,targets:l,type:u,pointerEvent:d},y=0;y<l.length;y++){var O=l[y];for(var I in O.props||{})d[I]=O.props[I];var x=(0,de.default)(O.eventable,O.node);if(d._subtractOrigin(x),d.eventable=O.eventable,d.currentTarget=O.node,O.eventable.fire(d),d._addOrigin(x),d.immediatePropagationStopped||d.propagationStopped&&y+1<l.length&&l[y+1].node!==d.currentTarget)break}if(t.fire("pointerEvents:fired",v),u==="tap"){var z=d.double?Bt({interaction:n,pointer:r,event:o,eventTarget:a,type:"doubletap"},t):d;n.prevTap=z,n.tapTime=z.timeStamp}return d}function Wo(e,t){var n=e.interaction,r=e.pointer,o=e.event,a=e.eventTarget,u=e.type,s=n.getPointerIndex(r),l=n.pointers[s];if(u==="tap"&&(n.pointerWasMoved||!l||l.downTarget!==a))return[];for(var d=E.getPath(a),v={interaction:n,pointer:r,event:o,eventTarget:a,type:u,path:d,targets:[],node:null},y=0;y<d.length;y++){var O=d[y];v.node=O,t.fire("pointerEvents:collect-targets",v)}return u==="hold"&&(v.targets=v.targets.filter(function(I){var x;return I.eventable.options.holdDuration===((x=n.pointers[s])==null?void 0:x.hold.duration)})),v.targets}function $r(e){var t=e.interaction,n=e.pointerIndex,r=t.pointers[n].hold;r&&r.timeout&&(clearTimeout(r.timeout),r.timeout=null)}var va=cr;Rn.default=va;var dr={};function ha(e){var t=e.interaction;t.holdIntervalHandle&&(clearInterval(t.holdIntervalHandle),t.holdIntervalHandle=null)}Object.defineProperty(dr,"__esModule",{value:!0}),dr.default=void 0;var ma={id:"pointer-events/holdRepeat",install:function(e){e.usePlugin(Rn.default);var t=e.pointerEvents;t.defaults.holdRepeatInterval=0,t.types.holdrepeat=e.actions.phaselessTypes.holdrepeat=!0},listeners:["move","up","cancel","endall"].reduce(function(e,t){return e["pointerEvents:".concat(t)]=ha,e},{"pointerEvents:new":function(e){var t=e.pointerEvent;t.type==="hold"&&(t.count=(t.count||0)+1)},"pointerEvents:fired":function(e,t){var n=e.interaction,r=e.pointerEvent,o=e.eventTarget,a=e.targets;if(r.type==="hold"&&a.length){var u=a[0].eventable.options.holdRepeatInterval;u<=0||(n.holdIntervalHandle=setTimeout(function(){t.pointerEvents.fire({interaction:n,eventTarget:o,type:"hold",pointer:r,event:r},t)},u))}}})},ga=ma;dr.default=ga;var fr={};function ya(e){return(0,M.default)(this.events.options,e),this}Object.defineProperty(fr,"__esModule",{value:!0}),fr.default=void 0;var ba={id:"pointer-events/interactableTargets",install:function(e){var t=e.Interactable;t.prototype.pointerEvents=ya;var n=t.prototype._backCompatOption;t.prototype._backCompatOption=function(r,o){var a=n.call(this,r,o);return a===this&&(this.events.options[r]=o),a}},listeners:{"pointerEvents:collect-targets":function(e,t){var n=e.targets,r=e.node,o=e.type,a=e.eventTarget;t.interactables.forEachMatch(r,function(u){var s=u.events,l=s.options;s.types[o]&&s.types[o].length&&u.testIgnoreAllow(l,r,a)&&n.push({node:r,eventable:s,props:{interactable:u}})})},"interactable:new":function(e){var t=e.interactable;t.events.getRect=function(n){return t.getRect(n)}},"interactable:set":function(e,t){var n=e.interactable,r=e.options;(0,M.default)(n.events.options,t.pointerEvents.defaults),(0,M.default)(n.events.options,r.pointerEvents||{})}}},xa=ba;fr.default=xa;var zn={};Object.defineProperty(zn,"__esModule",{value:!0}),zn.default=void 0;var wa={id:"pointer-events",install:function(e){e.usePlugin(Rn),e.usePlugin(dr.default),e.usePlugin(fr.default)}},_a=wa;zn.default=_a;var fn={};function Ho(e){var t=e.Interactable;e.actions.phases.reflow=!0,t.prototype.reflow=function(n){return function(r,o,a){for(var u=c.default.string(r.target)?fe.from(r._context.querySelectorAll(r.target)):[r.target],s=a.window.Promise,l=s?[]:null,d=function(){var y=u[v],O=r.getRect(y);if(!O)return"break";var I=fe.find(a.interactions.list,function(Z){return Z.interacting()&&Z.interactable===r&&Z.element===y&&Z.prepared.name===o.name}),x=void 0;if(I)I.move(),l&&(x=I._reflowPromise||new s(function(Z){I._reflowResolve=Z}));else{var z=(0,j.tlbrToXywh)(O),L={page:{x:z.x,y:z.y},client:{x:z.x,y:z.y},timeStamp:a.now()},B=V.coordsToEvent(L);x=function(Z,ne,le,ye,Me){var ve=Z.interactions.new({pointerType:"reflow"}),Pe={interaction:ve,event:Me,pointer:Me,eventTarget:le,phase:"reflow"};ve.interactable=ne,ve.element=le,ve.prevEvent=Me,ve.updatePointer(Me,Me,le,!0),V.setZeroCoords(ve.coords.delta),(0,ge.copyAction)(ve.prepared,ye),ve._doPhase(Pe);var ht=Z.window.Promise,Tt=ht?new ht(function(Xr){ve._reflowResolve=Xr}):void 0;return ve._reflowPromise=Tt,ve.start(ye,ne,le),ve._interacting?(ve.move(Pe),ve.end(Me)):(ve.stop(),ve._reflowResolve()),ve.removePointer(Me,Me),Tt}(a,r,y,o,B)}l&&l.push(x)},v=0;v<u.length&&d()!=="break";v++);return l&&s.all(l).then(function(){return r})}(this,n,e)}}Object.defineProperty(fn,"__esModule",{value:!0}),fn.default=void 0,fn.install=Ho;var Sa={id:"reflow",install:Ho,listeners:{"interactions:stop":function(e,t){var n=e.interaction;n.pointerType==="reflow"&&(n._reflowResolve&&n._reflowResolve(),fe.remove(t.interactions.list,n))}}},Oa=Sa;fn.default=Oa;var vt={exports:{}};function Ur(e){return Ur=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ur(e)}Object.defineProperty(vt.exports,"__esModule",{value:!0}),vt.exports.default=void 0,Ze.default.use(It.default),Ze.default.use(At.default),Ze.default.use(zn.default),Ze.default.use(Yt.default),Ze.default.use(An.default),Ze.default.use(Wt.default),Ze.default.use(me.default),Ze.default.use(ce.default),Ze.default.use(fn.default);var Ea=Ze.default;if(vt.exports.default=Ea,Ur(vt)==="object"&&vt)try{vt.exports=Ze.default}catch{}Ze.default.default=Ze.default,me.default,ce.default,Wt.default,It.default,Un.default,Yt.default,Ze.default,An.default,At.default,zn.default,fn.default,vt=vt.exports;var Gt={exports:{}};function Yr(e){return Yr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yr(e)}Object.defineProperty(Gt.exports,"__esModule",{value:!0}),Gt.exports.default=void 0;var Pa=vt.default;if(Gt.exports.default=Pa,Yr(Gt)==="object"&&Gt)try{Gt.exports=vt.default}catch{}return vt.default.default=vt.default,Gt.exports})})(Ka);const Uo=Xo(Kr),Ga=Ca("dragAndDropStore",{state:()=>({draggedItem:null}),getters:{getItem:Ae=>Ae.draggedItem},actions:{setItem(Ae){this.draggedItem=Ae},resetItem(){this.draggedItem=null}}});const qa=Ae=>(ka("data-v-fe900d51"),Ae=Ae(),Ma(),Ae),Za={class:"d-flex align-items-center"},Ja={key:0,src:$a,class:"me-2 ms-2"},Qa={key:1,src:ni,class:"me-2 ms-2"},es={key:1,class:"icon-btn"},ts=qa(()=>ot("img",{src:ni,class:"me-2 ms-2"},null,-1)),ns=[ts],rs={key:0},os={__name:"item",props:{item:{type:Object,required:!0},index:{type:Number,required:!0},level:{type:Number,required:!0},parent:{type:String,required:!0},selectedNode:{type:String,required:!0},onlyPublish:{type:Boolean,required:!0},openAll:{type:Boolean,required:!0},canEdit:{type:Boolean,required:!0},date:{type:[Date,String],required:!0}},setup(Ae,{expose:Te}){const K=Ae,J=hr(),he=Se(null),W=Ga(),$e=Zr();let c=Se(!1),g=Se(K.item),i=Se(K.openAll),f=Se(`${K.parent}.${K.level}.${K.item.id}.${K.item.version}`),p=Se(K.openAll||K.level==1&&K.index==1||K.item.showChilds),h=Se(!1),m=Se(re.uuid()),w={x:0,y:0};const _=Se([]),C=Se(1);mr(async()=>{D()&&$(),X(),J.on(be.emitter.OPENALL,async R=>{R==m.value&&(i.value=!0,ae.value&&await k(),await j())}),J.on(be.emitter.CLOSEALL,async R=>{R==m.value&&(await M(),p.value=!0,K.item.showChilds=!0)}),J.on(be.emitter.UPDATE_TREE_NODE,async R=>{R!=null&&g.value.id==R.id&&g.value.version==R.version&&await k(!0)}),g.value.children==null&&(g.value.children=[])}),Jr(()=>{});async function S(){!h.value&&!p.value&&(g.value.typeId==q.organicEnum.folder||g.value.typeId==q.organicEnum.entity)&&g.value.id!=0?(await k(),h.value=!0):(p.value=!p.value,K.item.showChilds=p.value),p.value||(i.value=!1,_.value.forEach(R=>{R.closeChilds()}))}const k=async(R=!1)=>{const ie=i.value?null:2,de={Id:g.value.id,version:g.value.version,TypeId:g.value.typeId,LevelDeep:ie,onlyPublish:K.onlyPublish,onlyPublish:K.onlyPublish,filterDate:K.date};c.value=!0;let Oe=await Fn.get(de);g.value.children==null&&(g.value.children=[]),re.validateResponse(Oe,null,()=>{g.value=Oe.data}),R&&C.value++,c.value=!1,p.value=!0,K.item.showChilds=!0};function T(R){R.preventDefault();let ie={item:g.value,e:R,itemKey:f.value,uuid:m.value,date:K.date,isOpen:p.value,parent:K.parent};J.emit(be.emitter.OPEN_CONTEXT_MENU,ie)}function F(){if(ee.value){let R={itemKey:f.value,item:g.value};J.emit(be.emitter.OPEN_SUMMARY_CLICK,R)}}function D(){return K.canEdit&&g.value.typeId==q.organicEnum.service&&mt.havePermissionOrganization(q.permissions.service.createEdit,g.value.id)||g.value.typeId==q.organicEnum.entity&&mt.havePermissionOrganization(q.permissions.organization.createEdit,g.value.id)&&g.value.id!=1}function $(){Uo(he.value).draggable({inertia:!0,autoScroll:!0,snap:{targets:[]},listeners:{start(R){R.target.style.zIndex=10,W.setItem(g.value)},move(R){w.x+=R.dx,w.y+=R.dy,R.target.style.transform=`translate(${w.x}px, ${w.y}px)`},end(R){w.x=0,w.y=0,R.target.style.zIndex=1,se(R),W.resetItem()}}})}function H(R){R.target.classList.remove("can-drop-target"),R.target.classList.remove("can-not-drop-target"),R.relatedTarget.classList.remove("can-drop"),R.relatedTarget.classList.remove("can-not-drop")}function E(R){return W.getItem.typeId==q.organicEnum.service&&g.value.typeId==q.organicEnum.servicePoint||W.getItem.typeId==q.organicEnum.entity&&g.value.typeId==q.organicEnum.entity}function X(){Uo(he.value).dropzone({ondragenter:function(R){var ie=R.relatedTarget,de=R.target;E()?(ie.classList.add("can-drop"),de.classList.add("can-drop-target")):(ie.classList.add("can-not-drop"),de.classList.add("can-not-drop-target"))},ondragleave:function(R){H(R)},ondrop:function(R){E()&&(g.value.typeId==q.organicEnum.servicePoint&&P(W.getItem),g.value.typeId==q.organicEnum.entity&&Y(W.getItem)),H(R)}})}function se(R){var ie=R.target;ie.style.webkitTransform=ie.style.transform="translate(0px, 0px)",ie.setAttribute("data-x",0),ie.setAttribute("data-y",0),ie.style.webkitTransform=ie.style.transform=""}vn(()=>K.openAll||i.value);const ee=vn(()=>(g.value.typeId==q.organicEnum.entity||g.value.typeId==q.organicEnum.service||g.value.typeId==q.organicEnum.folder||g.value.typeId==q.organicEnum.servicePoint)&&g.value.id!=0),ae=vn(()=>(g.value.typeId==q.organicEnum.entity||g.value.typeId==q.organicEnum.folder)&&g.value.id!=0);async function P(R){c.value=!0;const ie=await Qr.associationCreate(g.value.id,g.value.version,R.id,R.version);re.validateResponse(ie,$e.backoffice.pointOfCare.serviceAdded,()=>{g.value.children[0].children.push(R)}),c.value=!1}async function Y(R){c.value=!0;let ie={source:{id:R.id,version:R.version},sourceTypeId:q.organicEnum.entity,target:{id:g.value.id,version:g.value.version},targetTypeId:q.organicEnum.entity};const de=await Fn.update(ie);re.validateResponse(de,$e.backoffice.pointOfCare.serviceAdded,()=>{}),c.value=!1}const M=()=>{i.value=!1,p.value=!1,K.item.showChilds=!1,_.value.forEach(R=>{R.closeChilds()})},j=()=>{_.value.forEach(R=>{R.showAll()}),i.value=!0,p.value=!0,K.item.showChilds=!0};return Te({closeChilds:M,showAll:j}),(R,ie)=>{var Oe,Je,xe,Re,V,We,Ye,ft,Ot,it,yt,Be,Ft,Nt,Lt;const de=He("spinner");return De(),gt(Bn,null,[ot("div",{onContextmenu:ie[0]||(ie[0]=fe=>T(fe)),class:pn(["node d-flex align-items-center draggableElement",{gov:K.level==1&&K.index==1,"is-selected":K.selectedNode===N(f)}]),ref_key:"draggableElement",ref:he,onDblclick:F},[ot("div",Za,[((Oe=N(g))==null?void 0:Oe.typeId)!=N(q).organicEnum.service&&(((Je=N(g))==null?void 0:Je.childrenCount)>0||((xe=N(g))==null?void 0:xe.children.length)>0)?(De(),gt("button",{key:0,class:pn(["icon-btn",{gov:K.level==1&&K.index==1}]),onClick:S},[N(p)?(De(),gt("img",Qa)):(De(),gt("img",Ja))],2)):((Re=N(g))==null?void 0:Re.typeId)!=N(q).organicEnum.service?(De(),gt("button",es,ns)):qt("",!0),ot("div",{class:pn(["status me-2 vr",{published:((V=N(g))==null?void 0:V.recordStateId)==N(q).recordStateType.published,folder:((We=N(g))==null?void 0:We.recordStateId)==N(q).recordStateType.folder,submitted:((Ye=N(g))==null?void 0:Ye.recordStateId)==N(q).recordStateType.submitted,approval:((ft=N(g))==null?void 0:ft.recordStateId)==N(q).recordStateType.approval,"ms-5":((Ot=N(g))==null?void 0:Ot.typeId)==N(q).organicEnum.service}])},null,2),ot("span",{class:pn({folderItalic:((it=N(g))==null?void 0:it.typeId)==N(q).organicEnum.folder})},[Ve(Xa,{itemTypeId:(yt=N(g))==null?void 0:yt.typeId},null,8,["itemTypeId"]),Ia(" "+pr((Be=N(g))==null?void 0:Be.name)+" ",1),((Ft=N(g))==null?void 0:Ft.childrenCount)>0?(De(),gt("span",rs,"("+pr((Nt=N(g))==null?void 0:Nt.childrenCount)+")",1)):qt("",!0)],2)])],34),Ko((De(),gt("div",{class:"ms-5",key:C.value},[(De(!0),gt(Bn,null,qo((Lt=N(g))==null?void 0:Lt.children,(fe,Zt)=>(De(),dt(ri,{ref_for:!0,ref:Jt=>_.value.push(Jt),item:fe,index:Zt+1,level:K.level+1,selectedNode:K.selectedNode,parent:`${K.parent}.${K.level}.${K.index}`,onlyPublish:K.onlyPublish,openAll:N(i),date:K.date,canEdit:K.canEdit},null,8,["item","index","level","selectedNode","parent","onlyPublish","openAll","date","canEdit"]))),256))])),[[Go,N(p)]]),ot("div",null,[N(c)?(De(),dt(de,{key:0,class:"mt-2 mb-2"})):qt("",!0)])],64)}}},ri=qr(os,[["__scopeId","data-v-fe900d51"]]),is={class:"col-12"},Yo={__name:"treeview",props:{selectedNode:[Object,String],date:[Date,String],showSearch:{Boolean,default:!1},index:{Number,default:0}},setup(Ae){const Te=Ae,K=hr(),J=vr();var he=Se(!1),W=Se(0);const $e=vn(()=>re.formatDate(Te.date,"DDMMyyyy")===re.formatDate(new Date,"DDMMyyyy"));var c=Zo({Id:null,version:null,TypeId:null,LevelDeep:2,onlyPublish:!Te.showSearch,filterDate:Te.date});mr(async()=>{J.itemList[Te.index].tree==null&&await g()});async function g(){he.value=!0;let i=await Fn.get(c);re.validateResponse(i,null,()=>{J.itemList[Te.index].tree=i.data,W.value++}),he.value=!1,K.emit(be.emitter.CLOSE_SUMMARY_CLICK)}return(i,f)=>{const p=He("form-field"),h=He("row"),m=He("container-wrapper"),w=He("spinner");return De(),gt(Bn,null,[Te.showSearch?(De(),dt(m,{key:0,"margin-top":!1,"margin-bottom":!0},{default:ut(()=>[Ve(h,null,{default:ut(()=>[ot("div",is,[Ve(p,{id:"active",class:"mt-2",modelValue:N(c).onlyPublish,"onUpdate:modelValue":f[0]||(f[0]=_=>N(c).onlyPublish=_),label:i._lang.backoffice.organic.publishedRecords,type:N(q).inputs.checkbox,disabled:N(he),loading:N(he),onChange:g},null,8,["modelValue","label","type","disabled","loading"])])]),_:1})]),_:1})):qt("",!0),N(J).itemList[Te.index].tree!=null?(De(),dt(ri,{key:N(W),item:N(J).itemList[Te.index].tree,index:1,level:1,parent:"",openAll:!1,selectedNode:Te.selectedNode,onlyPublish:N(c).onlyPublish,date:Te.date,canEdit:N($e)},null,8,["item","selectedNode","onlyPublish","date","canEdit"])):(De(),dt(w,{key:2}))],64)}}};const as={class:"summary-header d-flex align-items-center"},ss={class:""},ls={class:""},us={class:"p-4"},cs={__name:"summary",props:{showMargin:{Boolean,default:!0}},setup(Ae){mr(()=>{Te.on(be.emitter.OPEN_SUMMARY_CLICK,async E=>{h.value=E,c.value=!0,W=E.item,$e.value++,await w(W),c.value=!1,H()}),f.value=re.convertEnumToArray(he.enums.recordStateType),i.value=re.concatItemsBadge(f.value,La.recordStateTypeBadgeOptions)}),Jr(()=>{Te.off(be.emitter.OPEN_SUMMARY_CLICK)});const Te=hr(),K=vr(),J=Jo(),he=Zr();var W=Zo({name:""}),$e=Se(0),c=Se(!1),g=Se(!1);let i=Se([]),f=Se([]);var p=Se(0),h=Se(null);function m(){K.resetSelectedItem(),Te.emit(be.emitter.CLOSE_SUMMARY_CLICK)}async function w(E){switch(E.typeId){case q.objectType.organization:case q.objectType.folder:await _(E);break;case q.objectType.service:await S(E);case q.objectType.pointOfCare:await C(E)}}async function _(E){const X=await ei.getById(E.id,E.version);re.validateResponse(X,null,()=>{Object.assign(E,X.data),p.value=X.data.treeOrder})}async function C(E){const X=await Qr.getById(E.id,E.version);re.validateResponse(X,null,()=>{Object.assign(E,X.data)})}async function S(E){const X=await ti.getById(E.id,E.version);re.validateResponse(X,null,()=>{Object.assign(E,X.data)})}function k(){switch(W.typeId){case q.objectType.organization:case q.objectType.folder:T();break;case q.objectType.service:F(W);break;case q.objectType.pointOfCare:D(W);break}}function T(){J.push({name:be.router.BACKOFFICE_DETAIL_ENTITY_PAGE.name,params:{organizationId:re.encodeId(W.id),organizationVersion:re.encodeId(W.version)}})}function F(E){J.push({name:be.router.BACKOFFICE_DETAIL_SERVICE_PAGE.name,params:{serviceId:re.encodeId(E.id),serviceVersion:re.encodeId(E.version)}})}function D(E){J.push({name:be.router.BACKOFFICE_DETAIL_POINT_OF_CARE_PAGE.name,params:{pointOfCareId:re.encodeId(E.id),pointOfCareVersion:re.encodeId(E.version)}})}async function $(){c.value=!0;let E={order:p.value,source:{id:W.id,version:W.version}};const X=await Fn.updateOrder(E);re.validateResponse(X,null,()=>{console.log(X),Te.emit(be.emitter.UPDATE_TREE_NODE,X.data)}),c.value=!1}function H(){g.value=(W==null?void 0:W.typeId)==q.organicEnum.entity&&mt.havePermissionOrganization(q.permissions.organization.order,(W==null?void 0:W.id)&&(W==null?void 0:W.id)!=1)}return(E,X)=>{const se=He("icon-eye"),ee=He("icon-close-circle"),ae=He("spinner"),P=He("form-field"),Y=He("row"),M=He("card");return De(),dt(M,{shadow:!0,class:pn(["summary-card sticky-xl-top p-c",{"show-margin":Ae.showMargin}]),key:N($e)},{body:ut(()=>[ot("div",null,[ot("div",as,[ot("div",ss,[ot("h2",ls,pr(E._lang.backoffice.organic.summary),1)]),N(c)?qt("",!0):(De(),dt(se,{key:0,color:"#002D74",class:"p-hand ms-1",onClick:k,"data-bs-toggle":"tooltip","data-bs-title":E._lang.common.seeDetail},null,8,["data-bs-title"])),Ve(ee,{color:"#002D74",class:"p-hand ms-auto",onClick:m,"aria-label":E._lang.common.close},null,8,["aria-label"])]),ot("div",us,[N(c)?(De(),dt(ae,{key:0,class:"mt-2 mb-2"})):(De(),dt(Y,{key:1},{default:ut(()=>[Ve(Ta,{class:"mb-2",value:N(W).recordStateTypeId,options:N(i)},null,8,["value","options"]),Ve(P,{id:"code",class:"mb-3 col-12",modelValue:N(W).code,"onUpdate:modelValue":X[0]||(X[0]=j=>N(W).code=j),label:E._lang.label.code,disabled:!0,loading:N(c),type:N(q).inputs.text},null,8,["modelValue","label","loading","type"]),Ve(P,{id:"name",class:"mb-3 col-12",modelValue:N(W).name,"onUpdate:modelValue":X[1]||(X[1]=j=>N(W).name=j),label:E._lang.label.name,disabled:!0,loading:N(c),type:N(q).inputs.text},null,8,["modelValue","label","loading","type"]),Ve(P,{id:"description",class:"mb-3 col-12",modelValue:N(W).startDate,"onUpdate:modelValue":X[2]||(X[2]=j=>N(W).startDate=j),label:E._lang.label.startDate,disabled:!0,loading:N(c),type:N(q).inputs.datepicker},null,8,["modelValue","label","loading","type"]),Ve(P,{id:"description",class:"mb-3 col-12",modelValue:N(W).endDate,"onUpdate:modelValue":X[3]||(X[3]=j=>N(W).endDate=j),label:E._lang.label.endDate,disabled:!0,loading:N(c),type:N(q).inputs.endDate},null,8,["modelValue","label","loading","type"]),N(g)?(De(),dt(P,{key:0,id:"treeOrder",class:"mb-3 col-12",modelValue:N(p),"onUpdate:modelValue":X[4]||(X[4]=j=>Qo(p)?p.value=j:p=j),label:E._lang.label.order,disabled:N(c),loading:N(c),type:N(q).inputs.inputFunc,inputType:N(q).inputs.number,icon:ja,func:$},null,8,["modelValue","label","disabled","loading","type","inputType"])):qt("",!0)]),_:1}))])])]),_:1},8,["class"])}}};var Gr={},ds={get exports(){return Gr},set exports(Ae){Gr=Ae}};(function(Ae,Te){(function(K,J){Ae.exports=J(Da)})(typeof self<"u"?self:Aa,K=>(()=>{var J={9662:(c,g,i)=>{var f=i(614),p=i(6330),h=TypeError;c.exports=function(m){if(f(m))return m;throw h(p(m)+" is not a function")}},6077:(c,g,i)=>{var f=i(614),p=String,h=TypeError;c.exports=function(m){if(typeof m=="object"||f(m))return m;throw h("Can't set "+p(m)+" as a prototype")}},9670:(c,g,i)=>{var f=i(111),p=String,h=TypeError;c.exports=function(m){if(f(m))return m;throw h(p(m)+" is not an object")}},8533:(c,g,i)=>{var f=i(2092).forEach,p=i(9341),h=p("forEach");c.exports=h?[].forEach:function(m){return f(this,m,arguments.length>1?arguments[1]:void 0)}},1318:(c,g,i)=>{var f=i(5656),p=i(1400),h=i(6244),m=function(w){return function(_,C,S){var k,T=f(_),F=h(T),D=p(S,F);if(w&&C!=C){for(;F>D;)if(k=T[D++],k!=k)return!0}else for(;F>D;D++)if((w||D in T)&&T[D]===C)return w||D||0;return!w&&-1}};c.exports={includes:m(!0),indexOf:m(!1)}},2092:(c,g,i)=>{var f=i(9974),p=i(1702),h=i(8361),m=i(7908),w=i(6244),_=i(5417),C=p([].push),S=function(k){var T=k==1,F=k==2,D=k==3,$=k==4,H=k==6,E=k==7,X=k==5||H;return function(se,ee,ae,P){for(var Y,M,j=m(se),R=h(j),ie=f(ee,ae),de=w(R),Oe=0,Je=P||_,xe=T?Je(se,de):F||E?Je(se,0):void 0;de>Oe;Oe++)if((X||Oe in R)&&(Y=R[Oe],M=ie(Y,Oe,j),k))if(T)xe[Oe]=M;else if(M)switch(k){case 3:return!0;case 5:return Y;case 6:return Oe;case 2:C(xe,Y)}else switch(k){case 4:return!1;case 7:C(xe,Y)}return H?-1:D||$?$:xe}};c.exports={forEach:S(0),map:S(1),filter:S(2),some:S(3),every:S(4),find:S(5),findIndex:S(6),filterReject:S(7)}},1194:(c,g,i)=>{var f=i(7293),p=i(5112),h=i(7392),m=p("species");c.exports=function(w){return h>=51||!f(function(){var _=[],C=_.constructor={};return C[m]=function(){return{foo:1}},_[w](Boolean).foo!==1})}},9341:(c,g,i)=>{var f=i(7293);c.exports=function(p,h){var m=[][p];return!!m&&f(function(){m.call(null,h||function(){return 1},1)})}},3658:(c,g,i)=>{var f=i(9781),p=i(3157),h=TypeError,m=Object.getOwnPropertyDescriptor,w=f&&!function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(_){return _ instanceof TypeError}}();c.exports=w?function(_,C){if(p(_)&&!m(_,"length").writable)throw h("Cannot set read only .length");return _.length=C}:function(_,C){return _.length=C}},206:(c,g,i)=>{var f=i(1702);c.exports=f([].slice)},7475:(c,g,i)=>{var f=i(3157),p=i(4411),h=i(111),m=i(5112),w=m("species"),_=Array;c.exports=function(C){var S;return f(C)&&(S=C.constructor,p(S)&&(S===_||f(S.prototype))?S=void 0:h(S)&&(S=S[w],S===null&&(S=void 0))),S===void 0?_:S}},5417:(c,g,i)=>{var f=i(7475);c.exports=function(p,h){return new(f(p))(h===0?0:h)}},4326:(c,g,i)=>{var f=i(1702),p=f({}.toString),h=f("".slice);c.exports=function(m){return h(p(m),8,-1)}},648:(c,g,i)=>{var f=i(1694),p=i(614),h=i(4326),m=i(5112),w=m("toStringTag"),_=Object,C=h(function(){return arguments}())=="Arguments",S=function(k,T){try{return k[T]}catch{}};c.exports=f?h:function(k){var T,F,D;return k===void 0?"Undefined":k===null?"Null":typeof(F=S(T=_(k),w))=="string"?F:C?h(T):(D=h(T))=="Object"&&p(T.callee)?"Arguments":D}},9920:(c,g,i)=>{var f=i(2597),p=i(3887),h=i(1236),m=i(3070);c.exports=function(w,_,C){for(var S=p(_),k=m.f,T=h.f,F=0;F<S.length;F++){var D=S[F];f(w,D)||C&&f(C,D)||k(w,D,T(_,D))}}},8880:(c,g,i)=>{var f=i(9781),p=i(3070),h=i(9114);c.exports=f?function(m,w,_){return p.f(m,w,h(1,_))}:function(m,w,_){return m[w]=_,m}},9114:c=>{c.exports=function(g,i){return{enumerable:!(1&g),configurable:!(2&g),writable:!(4&g),value:i}}},6135:(c,g,i)=>{var f=i(4948),p=i(3070),h=i(9114);c.exports=function(m,w,_){var C=f(w);C in m?p.f(m,C,h(0,_)):m[C]=_}},8052:(c,g,i)=>{var f=i(614),p=i(3070),h=i(6339),m=i(3072);c.exports=function(w,_,C,S){S||(S={});var k=S.enumerable,T=S.name!==void 0?S.name:_;if(f(C)&&h(C,T,S),S.global)k?w[_]=C:m(_,C);else{try{S.unsafe?w[_]&&(k=!0):delete w[_]}catch{}k?w[_]=C:p.f(w,_,{value:C,enumerable:!1,configurable:!S.nonConfigurable,writable:!S.nonWritable})}return w}},3072:(c,g,i)=>{var f=i(7854),p=Object.defineProperty;c.exports=function(h,m){try{p(f,h,{value:m,configurable:!0,writable:!0})}catch{f[h]=m}return m}},5117:(c,g,i)=>{var f=i(6330),p=TypeError;c.exports=function(h,m){if(!delete h[m])throw p("Cannot delete property "+f(m)+" of "+f(h))}},9781:(c,g,i)=>{var f=i(7293);c.exports=!f(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},317:(c,g,i)=>{var f=i(7854),p=i(111),h=f.document,m=p(h)&&p(h.createElement);c.exports=function(w){return m?h.createElement(w):{}}},7207:c=>{var g=TypeError,i=9007199254740991;c.exports=function(f){if(f>i)throw g("Maximum allowed index exceeded");return f}},8113:(c,g,i)=>{var f=i(5005);c.exports=f("navigator","userAgent")||""},7392:(c,g,i)=>{var f,p,h=i(7854),m=i(8113),w=h.process,_=h.Deno,C=w&&w.versions||_&&_.version,S=C&&C.v8;S&&(f=S.split("."),p=f[0]>0&&f[0]<4?1:+(f[0]+f[1])),!p&&m&&(f=m.match(/Edge\/(\d+)/),(!f||f[1]>=74)&&(f=m.match(/Chrome\/(\d+)/),f&&(p=+f[1]))),c.exports=p},748:c=>{c.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},7762:(c,g,i)=>{var f=i(9781),p=i(7293),h=i(9670),m=i(30),w=i(6277),_=Error.prototype.toString,C=p(function(){if(f){var S=m(Object.defineProperty({},"name",{get:function(){return this===S}}));if(_.call(S)!=="true")return!0}return _.call({message:1,name:2})!=="2: 1"||_.call({})!=="Error"});c.exports=C?function(){var S=h(this),k=w(S.name,"Error"),T=w(S.message);return k?T?k+": "+T:k:T}:_},2109:(c,g,i)=>{var f=i(7854),p=i(1236).f,h=i(8880),m=i(8052),w=i(3072),_=i(9920),C=i(4705);c.exports=function(S,k){var T,F,D,$,H,E,X=S.target,se=S.global,ee=S.stat;if(F=se?f:ee?f[X]||w(X,{}):(f[X]||{}).prototype,F)for(D in k){if(H=k[D],S.dontCallGetSet?(E=p(F,D),$=E&&E.value):$=F[D],T=C(se?D:X+(ee?".":"#")+D,S.forced),!T&&$!==void 0){if(typeof H==typeof $)continue;_(H,$)}(S.sham||$&&$.sham)&&h(H,"sham",!0),m(F,D,H,S)}}},7293:c=>{c.exports=function(g){try{return!!g()}catch{return!0}}},2104:(c,g,i)=>{var f=i(4374),p=Function.prototype,h=p.apply,m=p.call;c.exports=typeof Reflect=="object"&&Reflect.apply||(f?m.bind(h):function(){return m.apply(h,arguments)})},9974:(c,g,i)=>{var f=i(1702),p=i(9662),h=i(4374),m=f(f.bind);c.exports=function(w,_){return p(w),_===void 0?w:h?m(w,_):function(){return w.apply(_,arguments)}}},4374:(c,g,i)=>{var f=i(7293);c.exports=!f(function(){var p=function(){}.bind();return typeof p!="function"||p.hasOwnProperty("prototype")})},6916:(c,g,i)=>{var f=i(4374),p=Function.prototype.call;c.exports=f?p.bind(p):function(){return p.apply(p,arguments)}},6530:(c,g,i)=>{var f=i(9781),p=i(2597),h=Function.prototype,m=f&&Object.getOwnPropertyDescriptor,w=p(h,"name"),_=w&&function(){}.name==="something",C=w&&(!f||f&&m(h,"name").configurable);c.exports={EXISTS:w,PROPER:_,CONFIGURABLE:C}},1702:(c,g,i)=>{var f=i(4374),p=Function.prototype,h=p.bind,m=p.call,w=f&&h.bind(m,m);c.exports=f?function(_){return _&&w(_)}:function(_){return _&&function(){return m.apply(_,arguments)}}},5005:(c,g,i)=>{var f=i(7854),p=i(614),h=function(m){return p(m)?m:void 0};c.exports=function(m,w){return arguments.length<2?h(f[m]):f[m]&&f[m][w]}},8173:(c,g,i)=>{var f=i(9662),p=i(8554);c.exports=function(h,m){var w=h[m];return p(w)?void 0:f(w)}},7854:(c,g,i)=>{var f=function(p){return p&&p.Math==Math&&p};c.exports=f(typeof globalThis=="object"&&globalThis)||f(typeof window=="object"&&window)||f(typeof self=="object"&&self)||f(typeof i.g=="object"&&i.g)||function(){return this}()||Function("return this")()},2597:(c,g,i)=>{var f=i(1702),p=i(7908),h=f({}.hasOwnProperty);c.exports=Object.hasOwn||function(m,w){return h(p(m),w)}},3501:c=>{c.exports={}},490:(c,g,i)=>{var f=i(5005);c.exports=f("document","documentElement")},4664:(c,g,i)=>{var f=i(9781),p=i(7293),h=i(317);c.exports=!f&&!p(function(){return Object.defineProperty(h("div"),"a",{get:function(){return 7}}).a!=7})},8361:(c,g,i)=>{var f=i(1702),p=i(7293),h=i(4326),m=Object,w=f("".split);c.exports=p(function(){return!m("z").propertyIsEnumerable(0)})?function(_){return h(_)=="String"?w(_,""):m(_)}:m},9587:(c,g,i)=>{var f=i(614),p=i(111),h=i(7674);c.exports=function(m,w,_){var C,S;return h&&f(C=w.constructor)&&C!==_&&p(S=C.prototype)&&S!==_.prototype&&h(m,S),m}},2788:(c,g,i)=>{var f=i(1702),p=i(614),h=i(5465),m=f(Function.toString);p(h.inspectSource)||(h.inspectSource=function(w){return m(w)}),c.exports=h.inspectSource},9909:(c,g,i)=>{var f,p,h,m=i(4811),w=i(7854),_=i(1702),C=i(111),S=i(8880),k=i(2597),T=i(5465),F=i(6200),D=i(3501),$="Object already initialized",H=w.TypeError,E=w.WeakMap,X=function(j){return h(j)?p(j):f(j,{})},se=function(j){return function(R){var ie;if(!C(R)||(ie=p(R)).type!==j)throw H("Incompatible receiver, "+j+" required");return ie}};if(m||T.state){var ee=T.state||(T.state=new E),ae=_(ee.get),P=_(ee.has),Y=_(ee.set);f=function(j,R){if(P(ee,j))throw H($);return R.facade=j,Y(ee,j,R),R},p=function(j){return ae(ee,j)||{}},h=function(j){return P(ee,j)}}else{var M=F("state");D[M]=!0,f=function(j,R){if(k(j,M))throw H($);return R.facade=j,S(j,M,R),R},p=function(j){return k(j,M)?j[M]:{}},h=function(j){return k(j,M)}}c.exports={set:f,get:p,has:h,enforce:X,getterFor:se}},3157:(c,g,i)=>{var f=i(4326);c.exports=Array.isArray||function(p){return f(p)=="Array"}},614:c=>{c.exports=function(g){return typeof g=="function"}},4411:(c,g,i)=>{var f=i(1702),p=i(7293),h=i(614),m=i(648),w=i(5005),_=i(2788),C=function(){},S=[],k=w("Reflect","construct"),T=/^\s*(?:class|function)\b/,F=f(T.exec),D=!T.exec(C),$=function(E){if(!h(E))return!1;try{return k(C,S,E),!0}catch{return!1}},H=function(E){if(!h(E))return!1;switch(m(E)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return D||!!F(T,_(E))}catch{return!0}};H.sham=!0,c.exports=!k||p(function(){var E;return $($.call)||!$(Object)||!$(function(){E=!0})||E})?H:$},4705:(c,g,i)=>{var f=i(7293),p=i(614),h=/#|\.prototype\./,m=function(k,T){var F=_[w(k)];return F==S||F!=C&&(p(T)?f(T):!!T)},w=m.normalize=function(k){return String(k).replace(h,".").toLowerCase()},_=m.data={},C=m.NATIVE="N",S=m.POLYFILL="P";c.exports=m},8554:c=>{c.exports=function(g){return g==null}},111:(c,g,i)=>{var f=i(614),p=typeof document=="object"&&document.all,h=typeof p>"u"&&p!==void 0;c.exports=h?function(m){return typeof m=="object"?m!==null:f(m)||m===p}:function(m){return typeof m=="object"?m!==null:f(m)}},1913:c=>{c.exports=!1},2190:(c,g,i)=>{var f=i(5005),p=i(614),h=i(7976),m=i(3307),w=Object;c.exports=m?function(_){return typeof _=="symbol"}:function(_){var C=f("Symbol");return p(C)&&h(C.prototype,w(_))}},6244:(c,g,i)=>{var f=i(7466);c.exports=function(p){return f(p.length)}},6339:(c,g,i)=>{var f=i(7293),p=i(614),h=i(2597),m=i(9781),w=i(6530).CONFIGURABLE,_=i(2788),C=i(9909),S=C.enforce,k=C.get,T=Object.defineProperty,F=m&&!f(function(){return T(function(){},"length",{value:8}).length!==8}),D=String(String).split("String"),$=c.exports=function(H,E,X){String(E).slice(0,7)==="Symbol("&&(E="["+String(E).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),X&&X.getter&&(E="get "+E),X&&X.setter&&(E="set "+E),(!h(H,"name")||w&&H.name!==E)&&(m?T(H,"name",{value:E,configurable:!0}):H.name=E),F&&X&&h(X,"arity")&&H.length!==X.arity&&T(H,"length",{value:X.arity});try{X&&h(X,"constructor")&&X.constructor?m&&T(H,"prototype",{writable:!1}):H.prototype&&(H.prototype=void 0)}catch{}var se=S(H);return h(se,"source")||(se.source=D.join(typeof E=="string"?E:"")),H};Function.prototype.toString=$(function(){return p(this)&&k(this).source||_(this)},"toString")},4758:c=>{var g=Math.ceil,i=Math.floor;c.exports=Math.trunc||function(f){var p=+f;return(p>0?i:g)(p)}},6277:(c,g,i)=>{var f=i(1340);c.exports=function(p,h){return p===void 0?arguments.length<2?"":h:f(p)}},30:(c,g,i)=>{var f,p=i(9670),h=i(6048),m=i(748),w=i(3501),_=i(490),C=i(317),S=i(6200),k=">",T="<",F="prototype",D="script",$=S("IE_PROTO"),H=function(){},E=function(ae){return T+D+k+ae+T+"/"+D+k},X=function(ae){ae.write(E("")),ae.close();var P=ae.parentWindow.Object;return ae=null,P},se=function(){var ae,P=C("iframe"),Y="java"+D+":";return P.style.display="none",_.appendChild(P),P.src=String(Y),ae=P.contentWindow.document,ae.open(),ae.write(E("document.F=Object")),ae.close(),ae.F},ee=function(){try{f=new ActiveXObject("htmlfile")}catch{}ee=typeof document<"u"?document.domain&&f?X(f):se():X(f);for(var ae=m.length;ae--;)delete ee[F][m[ae]];return ee()};w[$]=!0,c.exports=Object.create||function(ae,P){var Y;return ae!==null?(H[F]=p(ae),Y=new H,H[F]=null,Y[$]=ae):Y=ee(),P===void 0?Y:h.f(Y,P)}},6048:(c,g,i)=>{var f=i(9781),p=i(3353),h=i(3070),m=i(9670),w=i(5656),_=i(1956);g.f=f&&!p?Object.defineProperties:function(C,S){m(C);for(var k,T=w(S),F=_(S),D=F.length,$=0;D>$;)h.f(C,k=F[$++],T[k]);return C}},3070:(c,g,i)=>{var f=i(9781),p=i(4664),h=i(3353),m=i(9670),w=i(4948),_=TypeError,C=Object.defineProperty,S=Object.getOwnPropertyDescriptor,k="enumerable",T="configurable",F="writable";g.f=f?h?function(D,$,H){if(m(D),$=w($),m(H),typeof D=="function"&&$==="prototype"&&"value"in H&&F in H&&!H[F]){var E=S(D,$);E&&E[F]&&(D[$]=H.value,H={configurable:T in H?H[T]:E[T],enumerable:k in H?H[k]:E[k],writable:!1})}return C(D,$,H)}:C:function(D,$,H){if(m(D),$=w($),m(H),p)try{return C(D,$,H)}catch{}if("get"in H||"set"in H)throw _("Accessors not supported");return"value"in H&&(D[$]=H.value),D}},1236:(c,g,i)=>{var f=i(9781),p=i(6916),h=i(5296),m=i(9114),w=i(5656),_=i(4948),C=i(2597),S=i(4664),k=Object.getOwnPropertyDescriptor;g.f=f?k:function(T,F){if(T=w(T),F=_(F),S)try{return k(T,F)}catch{}if(C(T,F))return m(!p(h.f,T,F),T[F])}},8006:(c,g,i)=>{var f=i(6324),p=i(748),h=p.concat("length","prototype");g.f=Object.getOwnPropertyNames||function(m){return f(m,h)}},5181:(c,g)=>{g.f=Object.getOwnPropertySymbols},7976:(c,g,i)=>{var f=i(1702);c.exports=f({}.isPrototypeOf)},6324:(c,g,i)=>{var f=i(1702),p=i(2597),h=i(5656),m=i(1318).indexOf,w=i(3501),_=f([].push);c.exports=function(C,S){var k,T=h(C),F=0,D=[];for(k in T)!p(w,k)&&p(T,k)&&_(D,k);for(;S.length>F;)p(T,k=S[F++])&&(~m(D,k)||_(D,k));return D}},1956:(c,g,i)=>{var f=i(6324),p=i(748);c.exports=Object.keys||function(h){return f(h,p)}},5296:(c,g)=>{var i={}.propertyIsEnumerable,f=Object.getOwnPropertyDescriptor,p=f&&!i.call({1:2},1);g.f=p?function(h){var m=f(this,h);return!!m&&m.enumerable}:i},7674:(c,g,i)=>{var f=i(1702),p=i(9670),h=i(6077);c.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var m,w=!1,_={};try{m=f(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set),m(_,[]),w=_ instanceof Array}catch{}return function(C,S){return p(C),h(S),w?m(C,S):C.__proto__=S,C}}():void 0)},288:(c,g,i)=>{var f=i(1694),p=i(648);c.exports=f?{}.toString:function(){return"[object "+p(this)+"]"}},2140:(c,g,i)=>{var f=i(6916),p=i(614),h=i(111),m=TypeError;c.exports=function(w,_){var C,S;if(_==="string"&&p(C=w.toString)&&!h(S=f(C,w))||p(C=w.valueOf)&&!h(S=f(C,w))||_!=="string"&&p(C=w.toString)&&!h(S=f(C,w)))return S;throw m("Can't convert object to primitive value")}},3887:(c,g,i)=>{var f=i(5005),p=i(1702),h=i(8006),m=i(5181),w=i(9670),_=p([].concat);c.exports=f("Reflect","ownKeys")||function(C){var S=h.f(w(C)),k=m.f;return k?_(S,k(C)):S}},7066:(c,g,i)=>{var f=i(9670);c.exports=function(){var p=f(this),h="";return p.hasIndices&&(h+="d"),p.global&&(h+="g"),p.ignoreCase&&(h+="i"),p.multiline&&(h+="m"),p.dotAll&&(h+="s"),p.unicode&&(h+="u"),p.unicodeSets&&(h+="v"),p.sticky&&(h+="y"),h}},4706:(c,g,i)=>{var f=i(6916),p=i(2597),h=i(7976),m=i(7066),w=RegExp.prototype;c.exports=function(_){var C=_.flags;return C!==void 0||"flags"in w||p(_,"flags")||!h(w,_)?C:f(m,_)}},4488:(c,g,i)=>{var f=i(8554),p=TypeError;c.exports=function(h){if(f(h))throw p("Can't call method on "+h);return h}},7152:(c,g,i)=>{var f=i(7854),p=i(2104),h=i(614),m=i(8113),w=i(206),_=i(8053),C=/MSIE .\./.test(m),S=f.Function,k=function(T){return C?function(F,D){var $=_(arguments.length,1)>2,H=h(F)?F:S(F),E=$?w(arguments,2):void 0;return T($?function(){p(H,this,E)}:H,D)}:T};c.exports={setTimeout:k(f.setTimeout),setInterval:k(f.setInterval)}},6200:(c,g,i)=>{var f=i(2309),p=i(9711),h=f("keys");c.exports=function(m){return h[m]||(h[m]=p(m))}},5465:(c,g,i)=>{var f=i(7854),p=i(3072),h="__core-js_shared__",m=f[h]||p(h,{});c.exports=m},2309:(c,g,i)=>{var f=i(1913),p=i(5465);(c.exports=function(h,m){return p[h]||(p[h]=m!==void 0?m:{})})("versions",[]).push({version:"3.25.0",mode:f?"pure":"global",copyright:" 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.25.0/LICENSE",source:"https://github.com/zloirock/core-js"})},3111:(c,g,i)=>{var f=i(1702),p=i(4488),h=i(1340),m=i(1361),w=f("".replace),_="["+m+"]",C=RegExp("^"+_+_+"*"),S=RegExp(_+_+"*$"),k=function(T){return function(F){var D=h(p(F));return 1&T&&(D=w(D,C,"")),2&T&&(D=w(D,S,"")),D}};c.exports={start:k(1),end:k(2),trim:k(3)}},6293:(c,g,i)=>{var f=i(7392),p=i(7293);c.exports=!!Object.getOwnPropertySymbols&&!p(function(){var h=Symbol();return!String(h)||!(Object(h)instanceof Symbol)||!Symbol.sham&&f&&f<41})},863:(c,g,i)=>{var f=i(1702);c.exports=f(1 .valueOf)},1400:(c,g,i)=>{var f=i(9303),p=Math.max,h=Math.min;c.exports=function(m,w){var _=f(m);return _<0?p(_+w,0):h(_,w)}},5656:(c,g,i)=>{var f=i(8361),p=i(4488);c.exports=function(h){return f(p(h))}},9303:(c,g,i)=>{var f=i(4758);c.exports=function(p){var h=+p;return h!==h||h===0?0:f(h)}},7466:(c,g,i)=>{var f=i(9303),p=Math.min;c.exports=function(h){return h>0?p(f(h),9007199254740991):0}},7908:(c,g,i)=>{var f=i(4488),p=Object;c.exports=function(h){return p(f(h))}},7593:(c,g,i)=>{var f=i(6916),p=i(111),h=i(2190),m=i(8173),w=i(2140),_=i(5112),C=TypeError,S=_("toPrimitive");c.exports=function(k,T){if(!p(k)||h(k))return k;var F,D=m(k,S);if(D){if(T===void 0&&(T="default"),F=f(D,k,T),!p(F)||h(F))return F;throw C("Can't convert object to primitive value")}return T===void 0&&(T="number"),w(k,T)}},4948:(c,g,i)=>{var f=i(7593),p=i(2190);c.exports=function(h){var m=f(h,"string");return p(m)?m:m+""}},1694:(c,g,i)=>{var f=i(5112),p=f("toStringTag"),h={};h[p]="z",c.exports=String(h)==="[object z]"},1340:(c,g,i)=>{var f=i(648),p=String;c.exports=function(h){if(f(h)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return p(h)}},6330:c=>{var g=String;c.exports=function(i){try{return g(i)}catch{return"Object"}}},9711:(c,g,i)=>{var f=i(1702),p=0,h=Math.random(),m=f(1 .toString);c.exports=function(w){return"Symbol("+(w===void 0?"":w)+")_"+m(++p+h,36)}},3307:(c,g,i)=>{var f=i(6293);c.exports=f&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},3353:(c,g,i)=>{var f=i(9781),p=i(7293);c.exports=f&&p(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!=42})},8053:c=>{var g=TypeError;c.exports=function(i,f){if(i<f)throw g("Not enough arguments");return i}},4811:(c,g,i)=>{var f=i(7854),p=i(614),h=f.WeakMap;c.exports=p(h)&&/native code/.test(String(h))},5112:(c,g,i)=>{var f=i(7854),p=i(2309),h=i(2597),m=i(9711),w=i(6293),_=i(3307),C=p("wks"),S=f.Symbol,k=S&&S.for,T=_?S:S&&S.withoutSetter||m;c.exports=function(F){if(!h(C,F)||!w&&typeof C[F]!="string"){var D="Symbol."+F;w&&h(S,F)?C[F]=S[F]:C[F]=_&&k?k(D):T(D)}return C[F]}},1361:c=>{c.exports=`	
\v\f\r \u2028\u2029\uFEFF`},9554:(c,g,i)=>{var f=i(2109),p=i(8533);f({target:"Array",proto:!0,forced:[].forEach!=p},{forEach:p})},2772:(c,g,i)=>{var f=i(2109),p=i(1702),h=i(1318).indexOf,m=i(9341),w=p([].indexOf),_=!!w&&1/w([1],1,-0)<0,C=m("indexOf");f({target:"Array",proto:!0,forced:_||!C},{indexOf:function(S){var k=arguments.length>1?arguments[1]:void 0;return _?w(this,S,k)||0:h(this,S,k)}})},561:(c,g,i)=>{var f=i(2109),p=i(7908),h=i(1400),m=i(9303),w=i(6244),_=i(3658),C=i(7207),S=i(5417),k=i(6135),T=i(5117),F=i(1194),D=F("splice"),$=Math.max,H=Math.min;f({target:"Array",proto:!0,forced:!D},{splice:function(E,X){var se,ee,ae,P,Y,M,j=p(this),R=w(j),ie=h(E,R),de=arguments.length;for(de===0?se=ee=0:de===1?(se=0,ee=R-ie):(se=de-2,ee=H($(m(X),0),R-ie)),C(R+se-ee),ae=S(j,ee),P=0;P<ee;P++)Y=ie+P,Y in j&&k(ae,P,j[Y]);if(ae.length=ee,se<ee){for(P=ie;P<R-ee;P++)Y=P+ee,M=P+se,Y in j?j[M]=j[Y]:T(j,M);for(P=R;P>R-ee+se;P--)T(j,P-1)}else if(se>ee)for(P=R-ee;P>ie;P--)Y=P+ee-1,M=P+se-1,Y in j?j[M]=j[Y]:T(j,M);for(P=0;P<se;P++)j[P+ie]=arguments[P+2];return _(j,R-ee+se),ae}})},3710:(c,g,i)=>{var f=i(1702),p=i(8052),h=Date.prototype,m="Invalid Date",w="toString",_=f(h[w]),C=f(h.getTime);String(new Date(NaN))!=m&&p(h,w,function(){var S=C(this);return S===S?_(this):m})},6647:(c,g,i)=>{var f=i(8052),p=i(7762),h=Error.prototype;h.toString!==p&&f(h,"toString",p)},9653:(c,g,i)=>{var f=i(9781),p=i(7854),h=i(1702),m=i(4705),w=i(8052),_=i(2597),C=i(9587),S=i(7976),k=i(2190),T=i(7593),F=i(7293),D=i(8006).f,$=i(1236).f,H=i(3070).f,E=i(863),X=i(3111).trim,se="Number",ee=p[se],ae=ee.prototype,P=p.TypeError,Y=h("".slice),M=h("".charCodeAt),j=function(xe){var Re=T(xe,"number");return typeof Re=="bigint"?Re:R(Re)},R=function(xe){var Re,V,We,Ye,ft,Ot,it,yt,Be=T(xe,"number");if(k(Be))throw P("Cannot convert a Symbol value to a number");if(typeof Be=="string"&&Be.length>2){if(Be=X(Be),Re=M(Be,0),Re===43||Re===45){if(V=M(Be,2),V===88||V===120)return NaN}else if(Re===48){switch(M(Be,1)){case 66:case 98:We=2,Ye=49;break;case 79:case 111:We=8,Ye=55;break;default:return+Be}for(ft=Y(Be,2),Ot=ft.length,it=0;it<Ot;it++)if(yt=M(ft,it),yt<48||yt>Ye)return NaN;return parseInt(ft,We)}}return+Be};if(m(se,!ee(" 0o1")||!ee("0b1")||ee("+0x1"))){for(var ie,de=function(xe){var Re=arguments.length<1?0:ee(j(xe)),V=this;return S(ae,V)&&F(function(){E(V)})?C(Object(Re),V,de):Re},Oe=f?D(ee):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),Je=0;Oe.length>Je;Je++)_(ee,ie=Oe[Je])&&!_(de,ie)&&H(de,ie,$(ee,ie));de.prototype=ae,ae.constructor=de,w(p,se,de,{constructor:!0})}},1539:(c,g,i)=>{var f=i(1694),p=i(8052),h=i(288);f||p(Object.prototype,"toString",h,{unsafe:!0})},9714:(c,g,i)=>{var f=i(6530).PROPER,p=i(8052),h=i(9670),m=i(1340),w=i(7293),_=i(4706),C="toString",S=RegExp.prototype,k=S[C],T=w(function(){return k.call({source:"a",flags:"b"})!="/a/b"}),F=f&&k.name!=C;(T||F)&&p(RegExp.prototype,C,function(){var D=h(this),$=m(D.source),H=m(_(D));return"/"+$+"/"+H},{unsafe:!0})},6815:(c,g,i)=>{var f=i(2109),p=i(7854),h=i(7152).setInterval;f({global:!0,bind:!0,forced:p.setInterval!==h},{setInterval:h})},8417:(c,g,i)=>{var f=i(2109),p=i(7854),h=i(7152).setTimeout;f({global:!0,bind:!0,forced:p.setTimeout!==h},{setTimeout:h})},2564:(c,g,i)=>{i(6815),i(8417)},3744:(c,g)=>{g.Z=(i,f)=>{const p=i.__vccOpts||i;for(const[h,m]of f)p[h]=m;return p}},7203:c=>{c.exports=K}},he={};function W(c){var g=he[c];if(g!==void 0)return g.exports;var i=he[c]={exports:{}};return J[c](i,i.exports,W),i.exports}W.d=(c,g)=>{for(var i in g)W.o(g,i)&&!W.o(c,i)&&Object.defineProperty(c,i,{enumerable:!0,get:g[i]})},W.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),W.o=(c,g)=>Object.prototype.hasOwnProperty.call(c,g),W.r=c=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(c,"__esModule",{value:!0})},W.p="";var $e={};return(()=>{if(W.r($e),W.d($e,{ContextMenu:()=>nn,ContextMenuGroup:()=>bn,ContextMenuItem:()=>fe,ContextMenuSeparator:()=>Qt,default:()=>wn}),typeof window<"u"){var c=window.document.currentScript,g=c&&c.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);g&&(W.p=g[1])}var i=W(7203),f=null;function p(b){f&&m(),f=b}function h(b){b===f&&(f=null)}function m(){f&&(f.closeMenu(),f=null)}W(6647),W(3710),W(1539),W(9714);var w={defaultMinWidth:100,defaultMaxWidth:600,defaultZindex:100,defaultAdjustPadding:10};function _(b,A){var U=b.offsetTop;return b.offsetParent!=null&&b.offsetParent!=A&&(U-=b.offsetParent.scrollTop,U+=_(b.offsetParent,A)),U}function C(b,A){var U=b.offsetLeft;return b.offsetParent!=null&&b.offsetParent!=A&&(U-=b.offsetParent.scrollLeft,U+=C(b.offsetParent,A)),U}function S(b,A,U,oe){return{x:C(b,oe)+A,y:_(b,oe)+U}}function k(b){var A;(A=b.parentNode)===null||A===void 0||A.removeChild(b)}var T="mx-menu-default-container";function F(b){var A=b.getContainer,U=b.zIndex;if(A){var oe=typeof A=="function"?A():A;if(oe)return oe.style.zIndex=(U==null?void 0:U.toString())||w.defaultZindex.toString(),{container:oe,isNew:!1}}var ue=document.getElementById(T);return ue&&document.body.removeChild(ue),ue=document.createElement("div"),ue.setAttribute("id",T),ue.setAttribute("class","mx-menu-ghost-host fullscreen"),ue.style.zIndex=(U==null?void 0:U.toString())||w.defaultZindex.toString(),document.body.appendChild(ue),{container:ue,isNew:!0}}var D=(0,i.defineComponent)({props:{vnode:{type:[Object,Function],default:null},data:{type:Object,default:null}},setup:function(b){var A=(0,i.toRefs)(b),U=A.vnode,oe=A.data;return function(){return typeof U.value=="function"?U.value(oe.value):U.value}}});function $(b,A,U){return A in b?Object.defineProperty(b,A,{value:U,enumerable:!0,configurable:!0,writable:!0}):b[A]=U,b}function H(b,A){var U=Object.keys(b);if(Object.getOwnPropertySymbols){var oe=Object.getOwnPropertySymbols(b);A&&(oe=oe.filter(function(ue){return Object.getOwnPropertyDescriptor(b,ue).enumerable})),U.push.apply(U,oe)}return U}function E(b){for(var A=1;A<arguments.length;A++){var U=arguments[A]!=null?arguments[A]:{};A%2?H(Object(U),!0).forEach(function(oe){$(b,oe,U[oe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(b,Object.getOwnPropertyDescriptors(U)):H(Object(U)).forEach(function(oe){Object.defineProperty(b,oe,Object.getOwnPropertyDescriptor(U,oe))})}return b}W(2564);var X={class:"mx-context-menu-scroll",ref:"scroll"};function se(b,A,U,oe,ue,pe){var me=(0,i.resolveComponent)("ContextSubMenu",!0),Qe=(0,i.resolveComponent)("ContextMenuItem"),Ce=(0,i.resolveComponent)("VNodeRender"),Fe=(0,i.resolveComponent)("ContextMenuSeparator"),Ie=(0,i.resolveComponent)("ContextMenuIconRight");return(0,i.openBlock)(),(0,i.createElementBlock)("div",{class:(0,i.normalizeClass)("mx-context-menu "+(b.options.customClass?b.options.customClass:"")+" "+b.globalTheme),style:(0,i.normalizeStyle)({maxWidth:b.maxWidth?b.maxWidth:"".concat(b.constOptions.defaultMaxWidth,"px"),minWidth:b.minWidth?b.minWidth:"".concat(b.constOptions.defaultMinWidth,"px"),maxHeight:b.overflow&&b.maxHeight>0?"".concat(b.maxHeight,"px"):void 0,zIndex:b.zIndex,left:"".concat(b.position.x,"px"),top:"".concat(b.position.y,"px")}),"data-type":"ContextSubMenu",onClick:A[2]||(A[2]=function(){return b.onSubMenuBodyClick&&b.onSubMenuBodyClick.apply(b,arguments)})},[(0,i.createElementVNode)("div",{class:"mx-context-menu-items",ref:"menu",style:(0,i.normalizeStyle)({top:"".concat(b.scrollValue,"px")})},[(0,i.renderSlot)(b.$slots,"default",{},function(){return[((0,i.openBlock)(!0),(0,i.createElementBlock)(i.Fragment,null,(0,i.renderList)(b.items,function(te,at){return(0,i.openBlock)(),(0,i.createElementBlock)(i.Fragment,{key:at},[(0,i.createVNode)(Qe,{clickHandler:te.onClick,disabled:te.disabled,hidden:te.hidden,icon:te.icon,iconFontClass:te.iconFontClass,svgIcon:te.svgIcon,svgProps:te.svgProps,label:te.label,customRender:te.customRender,customClass:te.customClass,checked:te.checked,shortcut:te.shortcut,clickClose:te.clickClose,clickableWhenHasChildren:te.clickableWhenHasChildren,preserveIconWidth:te.preserveIconWidth!==void 0?te.preserveIconWidth:b.options.preserveIconWidth,showRightArrow:te.children&&te.children.length>0,hasChildren:te.children&&te.children.length>0,onSubMenuOpen:te.onSubMenuOpen,onSubMenuClose:te.onSubMenuClose},(0,i.createSlots)({_:2},[te.children&&te.children.length>0?{name:"submenu",fn:(0,i.withCtx)(function(){return[(0,i.createVNode)(me,{items:te.children,maxWidth:te.maxWidth,minWidth:te.minWidth,adjustPosition:te.adjustSubMenuPosition!==void 0?te.adjustSubMenuPosition:b.options.adjustPosition},null,8,["items","maxWidth","minWidth","adjustPosition"])]}),key:"0"}:void 0]),1032,["clickHandler","disabled","hidden","icon","iconFontClass","svgIcon","svgProps","label","customRender","customClass","checked","shortcut","clickClose","clickableWhenHasChildren","preserveIconWidth","showRightArrow","hasChildren","onSubMenuOpen","onSubMenuClose"]),te.hidden!==!0&&te.divided&&b.globalHasSlot("separatorRender")?((0,i.openBlock)(),(0,i.createBlock)(Ce,{key:0,vnode:function(){return b.globalRenderSlot("separatorRender",{})}},null,8,["vnode"])):te.hidden!==!0&&te.divided?((0,i.openBlock)(),(0,i.createBlock)(Fe,{key:1})):(0,i.createCommentVNode)("",!0)],64)}),128))]})],4),(0,i.createElementVNode)("div",X,[(0,i.withDirectives)((0,i.createElementVNode)("div",{class:"mx-context-menu-updown mx-context-no-clickable up",onClick:A[0]||(A[0]=function(te){return b.onScroll(!1)})},[(0,i.createVNode)(Ie)],512),[[i.vShow,b.overflow&&b.scrollValue<0]]),(0,i.withDirectives)((0,i.createElementVNode)("div",{class:"mx-context-menu-updown mx-context-no-clickable down",onClick:A[1]||(A[1]=function(te){return b.onScroll(!0)})},[(0,i.createVNode)(Ie)],512),[[i.vShow,b.overflow&&b.scrollValue>-b.scrollHeight]])],512)],6)}W(9653),W(2772),W(9554),W(561);var ee={key:0,class:"mx-context-menu-item-wrapper",ref:"menuItemRef","data-type":"ContextMenuItem"},ae={class:"mx-item-row"},P=["xlink:href"],Y={key:1,class:"label"},M={class:"mx-item-row"},j={class:"mx-shortcut"};function R(b,A,U,oe,ue,pe){var me=(0,i.resolveComponent)("VNodeRender"),Qe=(0,i.resolveComponent)("ContextMenuIconCheck"),Ce=(0,i.resolveComponent)("ContextMenuIconRight");return b.hidden?(0,i.createCommentVNode)("",!0):((0,i.openBlock)(),(0,i.createElementBlock)("div",ee,[b.globalHasSlot("itemRender")?((0,i.openBlock)(),(0,i.createBlock)(me,{key:0,vnode:function(){return b.globalRenderSlot("itemRender",b.getItemDataForChildren())}},null,8,["vnode"])):b.customRender?((0,i.openBlock)(),(0,i.createBlock)(me,{key:1,vnode:b.customRender,data:b.getItemDataForChildren()},null,8,["vnode","data"])):((0,i.openBlock)(),(0,i.createElementBlock)("div",{key:2,class:(0,i.normalizeClass)(["mx-context-menu-item",b.disabled?"disabled":"",b.keyBoardFocusMenu?"keyboard-focus":"",b.customClass?" "+b.customClass:"",b.showSubMenu?"open":""]),onClick:A[0]||(A[0]=function(){return b.onClick&&b.onClick.apply(b,arguments)}),onMouseenter:A[1]||(A[1]=function(){return b.onMouseEnter&&b.onMouseEnter.apply(b,arguments)})},[(0,i.renderSlot)(b.$slots,"default",{},function(){return[(0,i.createElementVNode)("div",ae,[(0,i.createElementVNode)("div",{class:(0,i.normalizeClass)(["mx-icon-placeholder",b.preserveIconWidth?"preserve-width":""])},[(0,i.renderSlot)(b.$slots,"icon",{},function(){return[b.globalHasSlot("itemIconRender")?((0,i.openBlock)(),(0,i.createBlock)(me,{key:0,vnode:function(){return b.globalRenderSlot("itemIconRender",b.getItemDataForChildren())}},null,8,["vnode"])):typeof b.svgIcon=="string"&&b.svgIcon?((0,i.openBlock)(),(0,i.createElementBlock)("svg",(0,i.mergeProps)({key:1,class:"icon svg"},b.svgProps),[(0,i.createElementVNode)("use",{"xlink:href":b.svgIcon},null,8,P)],16)):typeof b.icon!="string"?((0,i.openBlock)(),(0,i.createBlock)(me,{key:2,vnode:b.icon,data:b.icon},null,8,["vnode","data"])):typeof b.icon=="string"&&b.icon!==""?((0,i.openBlock)(),(0,i.createElementBlock)("i",{key:3,class:(0,i.normalizeClass)(b.icon+" icon "+b.iconFontClass+" "+b.globalIconFontClass)},null,2)):(0,i.createCommentVNode)("",!0)]}),b.checked?(0,i.renderSlot)(b.$slots,"check",{key:0},function(){return[b.globalHasSlot("itemCheckRender")?((0,i.openBlock)(),(0,i.createBlock)(me,{key:0,vnode:function(){return b.globalRenderSlot("itemCheckRender",b.getItemDataForChildren())}},null,8,["vnode"])):(0,i.createCommentVNode)("",!0),(0,i.createVNode)(Qe)]}):(0,i.createCommentVNode)("",!0)],2),(0,i.renderSlot)(b.$slots,"label",{},function(){return[b.globalHasSlot("itemLabelRender")?((0,i.openBlock)(),(0,i.createBlock)(me,{key:0,vnode:function(){return b.globalRenderSlot("itemLabelRender",b.getItemDataForChildren())}},null,8,["vnode"])):typeof b.label=="string"?((0,i.openBlock)(),(0,i.createElementBlock)("span",Y,(0,i.toDisplayString)(b.label),1)):((0,i.openBlock)(),(0,i.createBlock)(me,{key:2,vnode:b.label,data:b.label},null,8,["vnode","data"]))]})]),(0,i.createElementVNode)("div",M,[b.shortcut?(0,i.renderSlot)(b.$slots,"shortcut",{key:0},function(){return[b.globalHasSlot("itemShortcutRender")?((0,i.openBlock)(),(0,i.createBlock)(me,{key:0,vnode:function(){return b.globalRenderSlot("itemShortcutRender",b.getItemDataForChildren())}},null,8,["vnode"])):(0,i.createCommentVNode)("",!0),(0,i.createElementVNode)("span",j,(0,i.toDisplayString)(b.shortcut),1)]}):(0,i.createCommentVNode)("",!0),b.showRightArrow?(0,i.renderSlot)(b.$slots,"rightArrow",{key:1},function(){return[b.globalHasSlot("itemRightArrowRender")?((0,i.openBlock)(),(0,i.createBlock)(me,{key:0,vnode:function(){return b.globalRenderSlot("itemRightArrowRender",b.getItemDataForChildren())}},null,8,["vnode"])):(0,i.createCommentVNode)("",!0),(0,i.createVNode)(Ce)]}):(0,i.createCommentVNode)("",!0)])]})],34)),b.showSubMenu?(0,i.renderSlot)(b.$slots,"submenu",{key:3}):(0,i.createCommentVNode)("",!0)],512))}var ie={class:"mx-checked-mark","aria-hidden":"true",viewBox:"0 0 1024 1024"},de=(0,i.createElementVNode)("path",{d:"M129.3,428.6L52,512l345,372.5l575-620.8l-69.5-75L400.4,718.2L129.3,428.6z"},null,-1),Oe=[de];function Je(b,A){return(0,i.openBlock)(),(0,i.createElementBlock)("svg",ie,Oe)}var xe=W(3744);const Re={},V=(0,xe.Z)(Re,[["render",Je]]),We=V;var Ye={class:"mx-right-arrow","aria-hidden":"true",viewBox:"0 0 1024 1024"},ft=(0,i.createElementVNode)("path",{d:"M307.018 49.445c11.517 0 23.032 4.394 31.819 13.18L756.404 480.18c8.439 8.438 13.181 19.885 13.181 31.82s-4.741 23.38-13.181 31.82L338.838 961.376c-17.574 17.573-46.065 17.573-63.64-0.001-17.573-17.573-17.573-46.065 0.001-63.64L660.944 512 275.198 126.265c-17.574-17.573-17.574-46.066-0.001-63.64C283.985 53.839 295.501 49.445 307.018 49.445z"},null,-1),Ot=[ft];function it(b,A){return(0,i.openBlock)(),(0,i.createElementBlock)("svg",Ye,Ot)}const yt={},Be=(0,xe.Z)(yt,[["render",it]]),Ft=Be,Nt=(0,i.defineComponent)({name:"ContextMenuItem",components:{VNodeRender:D,ContextMenuIconCheck:We,ContextMenuIconRight:Ft},props:{disabled:{type:Boolean,default:!1},hidden:{type:Boolean,default:!1},customRender:{type:Function,default:null},customClass:{type:String,default:""},clickHandler:{type:Function,default:null},label:{type:[String,Object,Function],default:""},icon:{type:[String,Object,Function],default:""},iconFontClass:{type:String,default:"iconfont"},checked:{type:Boolean,default:!1},shortcut:{type:String,default:""},svgIcon:{type:String,default:""},svgProps:{type:Object,default:null},preserveIconWidth:{type:Boolean,default:!0},showRightArrow:{type:Boolean,default:!1},hasChildren:{type:Boolean,default:!1},clickClose:{type:Boolean,default:!0},clickableWhenHasChildren:{type:Boolean,default:!1}},emits:["click","subMenuOpen","subMenuClose"],setup:function(b,A){var U=(0,i.toRefs)(b),oe=U.clickHandler,ue=U.clickClose,pe=U.clickableWhenHasChildren,me=U.disabled,Qe=U.hidden,Ce=U.label,Fe=U.icon,Ie=U.iconFontClass,te=U.showRightArrow,at=U.shortcut,ce=U.hasChildren,G=(0,i.ref)(!1),ke=(0,i.ref)(!1),_e=(0,i.ref)(),wt=(0,i.inject)("globalHasSlot"),we=(0,i.inject)("globalRenderSlot"),ge=(0,i.inject)("globalTheme"),et=(0,i.inject)("globalIconFontClass"),Ct=(0,i.inject)("globalCloseMenu"),Le=(0,i.inject)("menuContext"),tt={showSubMenu:function(){G.value?Le.markActiveMenuItem(tt,!0):ce.value&&st()},isDisabledOrHidden:function(){return me.value||Qe.value},getElement:function(){return _e.value},focus:function(){return ke.value=!0},blur:function(){return ke.value=!1},click:Ke};function Ke(Ue){me.value||Ue&&Ue.target.classList.contains("mx-context-no-clickable")||(ce.value?pe.value?(typeof oe.value=="function"&&oe.value(),A.emit("click")):G.value||st():(typeof oe.value=="function"&&oe.value(),A.emit("click"),ue.value&&Ct()))}function st(Ue){ke.value=!1,Le.checkCloseOtherSubMenuTimeOut()||Le.closeOtherSubMenu(),me.value||(Le.markActiveMenuItem(tt),ce.value&&(Ue||Le.markThisOpenedByKeyBoard(),Le.addOpenedSubMenu(function(){ke.value=!1,G.value=!1,A.emit("subMenuClose")}),G.value=!0,A.emit("subMenuOpen")))}return(0,i.onMounted)(function(){Le.isMenuItemDataCollectedFlag()?(0,i.nextTick)(function(){var Ue=0,nt=Le.getElement();if(nt)for(var _t=0,ct=0;ct<nt.children.length;ct++){var Et=nt.children[ct];if(Et.getAttribute("data-type")==="ContextMenuItem"){if(Et===_e.value){Ue=_t;break}_t++}}Le.addChildMenuItem(tt,Ue)}):Le.addChildMenuItem(tt)}),(0,i.onBeforeUnmount)(function(){Le.removeChildMenuItem(tt)}),{getItemDataForChildren:function(){return{disabled:me.value,label:Ce.value,icon:Fe.value,iconFontClass:Ie.value,showRightArrow:te.value,clickClose:ue.value,clickableWhenHasChildren:pe.value,shortcut:at.value,theme:ge,isOpen:G,hasChildren:ce,onClick:Ke,onMouseEnter:st}},showSubMenu:G,keyBoardFocusMenu:ke,menuItemRef:_e,globalHasSlot:wt,globalRenderSlot:we,globalIconFontClass:et,onMouseEnter:st,onClick:Ke}}}),Lt=(0,xe.Z)(Nt,[["render",R]]),fe=Lt;var Zt={class:"mx-context-menu-item-sperator mx-context-no-clickable"};function Jt(b,A,U,oe,ue,pe){return(0,i.openBlock)(),(0,i.createElementBlock)("div",Zt)}const bt=(0,i.defineComponent)({name:"ContextMenuSperator"}),hn=(0,xe.Z)(bt,[["render",Jt]]),Qt=hn,mn=(0,i.defineComponent)({name:"ContextSubMenu",components:{ContextMenuItem:fe,ContextMenuSeparator:Qt,VNodeRender:D,ContextMenuIconRight:Ft},props:{items:{type:Object,default:null},maxWidth:{type:[String,Number],default:0},minWidth:{type:[String,Number],default:0},adjustPosition:{type:Boolean,default:!0}},setup:function(b){var A=(0,i.inject)("menuContext"),U=(0,i.inject)("globalOptions"),oe=(0,i.inject)("globalHasSlot"),ue=(0,i.inject)("globalRenderSlot"),pe=(0,i.inject)("globalTheme"),me=((0,i.inject)("globalIsFullScreenContainer"),A.zIndex),Qe=A.getMyPosition,Ce=A.getParentWidth,Fe=(0,i.toRefs)(b),Ie=Fe.adjustPosition,te=(0,i.ref)(),at=(0,i.ref)(),ce=[],G=(0,i.inject)("globalSetCurrentSubMenu"),ke=[],_e=null,wt=0;function we(){_e&&_e.blur()}function ge(Q,ze){if(Q){for(var pt=ze!==void 0?ze:0;pt<ke.length;pt++)if(!ke[pt].isDisabledOrHidden()){et(pt);break}}else for(var St=ze!==void 0?ze:ke.length-1;St>=0;St--)if(!ke[St].isDisabledOrHidden()){et(St);break}}function et(Q){if(_e&&we(),Q!==void 0&&(_e=ke[Math.max(0,Math.min(Q,ke.length-1))]),_e&&(_e.focus(),ct.value)){var ze=_e.getElement();ze&&(Ue.value=Math.min(Math.max(-nt.value,-ze.offsetTop-ze.offsetHeight+Dt.value),0))}}function Ct(){G(Le)}var Le={isTopLevel:function(){return A.getParentContext()===null},closeSelfAndActiveParent:function(){var Q,ze=st.getParentContext();ze&&(ze.closeOtherSubMenu(),(Q=ze.getSubMenuInstanceContext())===null||Q===void 0||Q.focusCurrentItem())},closeCurrentSubMenu:function(){var Q;return(Q=st.getParentContext())===null||Q===void 0?void 0:Q.closeOtherSubMenu()},moveCurrentItemFirst:function(){return ge(!0)},moveCurrentItemLast:function(){return ge(!1)},moveCurrentItemDown:function(){return ge(!0,_e?ke.indexOf(_e)+1:0)},moveCurrentItemUp:function(){return ge(!1,_e?ke.indexOf(_e)-1:0)},focusCurrentItem:function(){return et()},openCurrentItemSubMenu:function(){var Q;return(Q=_e)===null||Q===void 0?void 0:Q.showSubMenu()},triggerCurrentItemClick:function(){var Q;return(Q=_e)===null||Q===void 0?void 0:Q.click()}},tt=!1,Ke=!1,st={zIndex:me+1,container:A.container,adjustPadding:A.adjustPadding,getMyPosition:function(){var Q={x:0,y:0};return te.value&&(Q.x=te.value.offsetWidth+(U.xOffset||0)),U.yOffset&&(Q.y=U.yOffset),Q},getParentWidth:function(){var Q;return((Q=te.value)===null||Q===void 0?void 0:Q.offsetWidth)||0},getParentAbsY:function(){return te.value?_(te.value,A.container):0},addOpenedSubMenu:function(Q){ce.push(Q)},closeOtherSubMenu:function(){ce.forEach(function(Q){return Q()}),ce.splice(0,ce.length),G(Le)},checkCloseOtherSubMenuTimeOut:function(){return!!wt&&(clearTimeout(wt),wt=0,!0)},closeOtherSubMenuWithTimeOut:function(){var Q=this;wt=setTimeout(function(){wt=0,Q.closeOtherSubMenu()},200)},addChildMenuItem:function(Q,ze){ze===void 0?ke.push(Q):ke.splice(ze,0,Q)},removeChildMenuItem:function(Q){ke.splice(ke.indexOf(Q),1)},markActiveMenuItem:function(Q){var ze=arguments.length>1&&arguments[1]!==void 0&&arguments[1];we(),_e=Q,ze&&et()},markThisOpenedByKeyBoard:function(){tt=!0},isOpenedByKeyBoardFlag:function(){return!!tt&&(tt=!1,!0)},isMenuItemDataCollectedFlag:function(){return Ke},getElement:function(){return te.value||null},getParentContext:function(){return A},getSubMenuInstanceContext:function(){return Le}};(0,i.provide)("menuContext",st);var Ue=(0,i.ref)(0),nt=(0,i.ref)(0);function _t(Q){Ue.value=Q?Math.max(Ue.value-50,-nt.value):Math.min(Ue.value+50,0)}var ct=(0,i.ref)(!1),Et=(0,i.ref)({x:0,y:0}),Dt=(0,i.ref)(0);return(0,i.onMounted)(function(){Et.value=Qe(),G(Le),(0,i.nextTick)(function(){var Q=te.value;if(Ie.value&&Q&&at.value){var ze=A.container,pt=A.adjustPadding,St=document.documentElement.scrollHeight,yr=document.documentElement.scrollWidth,an=Math.min(yr,ze.offsetWidth),Vt=Math.min(St,ze.offsetHeight),br=C(Q,ze),Hn=_(Q,ze),Wt=br+Q.offsetWidth-an,$n=Hn+Q.offsetHeight-Vt;if(nt.value=Q.offsetHeight-Vt+2*pt,ct.value=$n>0,Wt>0&&(Et.value.x-=(Ce?Ce():0)+Q.offsetWidth-pt),ct.value){var It=Math.min(Hn-pt,$n+pt);Et.value.y-=It,Dt.value=Vt-2*pt}else Dt.value=0}Q==null||Q.focus({preventScroll:!0}),A.isOpenedByKeyBoardFlag()&&ge(!0),Ke=!0})}),{menu:te,scroll:at,options:U,zIndex:me,constOptions:w,scrollValue:Ue,overflow:ct,position:Et,scrollHeight:nt,maxHeight:Dt,globalHasSlot:oe,globalRenderSlot:ue,globalTheme:pe,onScroll:_t,onSubMenuBodyClick:Ct}}}),gr=(0,xe.Z)(mn,[["render",se]]),xt=gr,en=(0,i.defineComponent)({name:"ContextMenu",emits:["update:show","close"],props:{options:{type:Object,default:null},show:{type:Boolean,default:!1},container:{type:Object,default:null},isFullScreenContainer:{type:Boolean,default:!0}},setup:function(b,A){var U,oe,ue=(0,i.toRefs)(b),pe=ue.options,me=ue.show,Qe=ue.container;(0,i.onMounted)(function(){me&&Fe()}),(0,i.onBeforeUnmount)(function(){at()}),(0,i.watch)(me,function(we){we?Fe():at()});var Ce={closeMenu:Ie};function Fe(){te(),p(Ce)}function Ie(){A.emit("update:show",!1),A.emit("close"),h(Ce)}function te(){setTimeout(function(){document.addEventListener("click",_e,!0),document.addEventListener("contextmenu",_e,!0),document.addEventListener("wheel",ke,!0),pe.value.keyboardControl!==!1&&document.addEventListener("keydown",G)},50)}function at(){document.removeEventListener("contextmenu",_e,!0),document.removeEventListener("click",_e,!0),document.removeEventListener("wheel",ke,!0),pe.value.keyboardControl!==!1&&document.removeEventListener("keydown",G)}A.expose({closeMenu:Ie});var ce=(0,i.ref)();function G(we){var ge,et,Ct,Le,tt,Ke,st=!0;switch(we.key){case"Escape":var Ue,nt;((Ue=ce.value)===null||Ue===void 0?void 0:Ue.isTopLevel())===!1?(nt=ce.value)===null||nt===void 0||nt.closeCurrentSubMenu():Ie();break;case"ArrowDown":(ge=ce.value)===null||ge===void 0||ge.moveCurrentItemDown();break;case"ArrowUp":(et=ce.value)===null||et===void 0||et.moveCurrentItemUp();break;case"Home":(Ct=ce.value)===null||Ct===void 0||Ct.moveCurrentItemFirst();break;case"End":(Le=ce.value)===null||Le===void 0||Le.moveCurrentItemLast();break;case"ArrowLeft":var _t;(_t=ce.value)===null||_t===void 0||_t.closeSelfAndActiveParent();break;case"ArrowRight":(tt=ce.value)===null||tt===void 0||tt.openCurrentItemSubMenu();break;case"Enter":(Ke=ce.value)===null||Ke===void 0||Ke.triggerCurrentItemClick();break;default:st=!1;break}st&&ce.value&&(we.stopPropagation(),we.preventDefault())}function ke(){pe.value.closeWhenScroll!==!1&&Ie()}function _e(we){wt(we.target)}function wt(we){for(;we;){if(we.classList&&we.classList.contains("mx-menu-host"))return;we=we.parentNode}at(),Ie()}return(0,i.provide)("globalSetCurrentSubMenu",function(we){return ce.value=we}),(0,i.provide)("globalOptions",pe.value),(0,i.provide)("globalCloseMenu",Ie),(0,i.provide)("globalTheme",((U=pe.value)===null||U===void 0?void 0:U.theme)||"light"),(0,i.provide)("globalIsFullScreenContainer",b.isFullScreenContainer),(0,i.provide)("globalIconFontClass",((oe=pe.value)===null||oe===void 0?void 0:oe.iconFontClass)||"iconfont"),(0,i.provide)("globalHasSlot",function(we){return A.slots[we]!==void 0}),(0,i.provide)("globalRenderSlot",function(we,ge){return(0,i.renderSlot)(A.slots,we,E({},ge))}),(0,i.provide)("menuContext",{zIndex:pe.value.zIndex||w.defaultZindex,container:Qe.value,adjustPadding:pe.value.adjustPadding||w.defaultAdjustPadding,getParentAbsY:function(){return pe.value.y},getMyPosition:function(){return{x:pe.value.x,y:pe.value.y}},getParentWidth:function(){return 0},closeOtherSubMenuWithTimeOut:function(){},checkCloseOtherSubMenuTimeOut:function(){return!1},addOpenedSubMenu:function(){},closeOtherSubMenu:function(){},getParentContext:function(){return null},getSubMenuInstanceContext:function(){return null},getElement:function(){return null},addChildMenuItem:function(){},removeChildMenuItem:function(){},markActiveMenuItem:function(){},markThisOpenedByKeyBoard:function(){},isOpenedByKeyBoardFlag:function(){return!1},isMenuItemDataCollectedFlag:function(){return!1}}),function(){var we,ge;return me.value?[(0,i.h)("div",{class:"mx-menu-ghost-host"},[(0,i.h)(xt,{class:"mx-menu-host",items:(we=pe.value)===null||we===void 0?void 0:we.items,adjustPosition:(ge=pe.value)===null||ge===void 0?void 0:ge.adjustPosition,maxWidth:pe.value.maxWidth||w.defaultMaxWidth,minWidth:pe.value.minWidth||w.defaultMinWidth},{default:A.slots.default})])]:[]}}}),jt=en,Nn=jt,tn=(0,i.defineComponent)({name:"ContextMenu",emits:["update:show","close"],props:{options:{type:Object,default:null},show:{type:Boolean,default:!1}},setup:function(b,A){var U=(0,i.toRefs)(b),oe=U.options,ue=U.show,pe=null,me=!1;function Qe(){var Fe=F(oe.value),Ie=Fe.container,te=Fe.isNew,at=(0,i.h)(Nn,{options:oe,show:!0,container:Ie,isFullScreenContainer:!te,"onUpdate:show":function(ce){return A.emit("update:show",ce)},onClose:function(){var ce,G;(0,i.render)(null,Ie),(ce=(G=oe.value).onClose)===null||ce===void 0||ce.call(G),A.emit("close")}},A.slots);me=te,pe=Ie,(0,i.render)(at,Ie)}function Ce(){pe&&(me&&k(pe),pe=null)}return(0,i.watch)(ue,function(Fe){Fe?Qe():Ce()}),A.expose({closeMenu:Ce}),function(){return[]}}}),Ln=tn,nn=Ln;function rn(b){return rn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(A){return typeof A}:function(A){return A&&typeof Symbol=="function"&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A},rn(b)}const gn=(0,i.defineComponent)({name:"ContextMenuGroup",props:{disabled:{type:Boolean,default:!1},hidden:{type:Boolean,default:!1},clickHandler:{type:Function,default:null},label:{type:String,default:""},icon:{type:String,default:""},iconFontClass:{type:String,default:"iconfont"},checked:{type:Boolean,default:!1},shortcut:{type:String,default:""},svgIcon:{type:String,default:""},svgProps:{type:Object,default:null},preserveIconWidth:{type:Boolean,default:!0},showRightArrow:{type:Boolean,default:!1},clickClose:{type:Boolean,default:!0},adjustSubMenuPosition:{type:Boolean,default:void 0},maxWidth:{type:[String,Number],default:0},minWidth:{type:[String,Number],default:0}},setup:function(b,A){var U=(0,i.inject)("globalOptions"),oe=(0,i.toRefs)(b),ue=oe.adjustSubMenuPosition,pe=oe.maxWidth,me=oe.minWidth,Qe=typeof ue.value<"u"?ue.value:U.adjustPosition;return function(){return(0,i.h)(fe,E(E({},b),{},{showRightArrow:!0,maxWidth:void 0,minWidth:void 0,adjustSubMenuPosition:void 0,hasChildren:rn(A.slots.default)!==void 0}),A.slots.default?{submenu:function(){return(0,i.h)(xt,{maxWidth:pe.value,minWidth:me.value,adjustPosition:Qe},{default:A.slots.default})}}:void 0)}}}),yn=gn,bn=yn;function Vn(b,A,U,oe){var ue=(0,i.h)(Nn,{options:b,show:!0,container:A,isFullScreenContainer:!U,onClose:function(){var pe;(0,i.render)(null,A),(pe=b.onClose)===null||pe===void 0||pe.call(b)}},oe);return(0,i.render)(ue,A),ue.component}function Wn(b,A){var U=F(b),oe=Vn(b,U.container,U.isNew,A);return oe.exposed}const on={install:function(b){b.config.globalProperties.$contextmenu=Wn,b.component("ContextMenu",nn),b.component("ContextMenuItem",fe),b.component("ContextMenuGroup",bn),b.component("ContextMenuSperator",Qt),b.component("ContextMenuSeparator",Qt),b.component("ContextSubMenu",xt)},showContextMenu:function(b,A){return Wn(b,A)},closeContextMenu:m,transformMenuPosition:S},xn=on,wn=xn})(),$e})())})(ds);const fs=Xo(Gr);const ps={class:"col-12 col-xl-4 mt-4 mt-xl-0"},vs={__name:"index",setup(Ae){const Te=Se(mt.havePermission(q.permissions.organization.createEdit)||mt.havePermission(q.permissions.organization.submit)||mt.havePermission(q.permissions.organization.approve));Ra(async()=>{f.value=!0;const P=await Fa.getById(4);re.validateResponse(P,null,()=>{if(re.isDate(P.data.value)){if(P.data.value.includes("/")){let M=P.data.value.split(" ")[0].split("/");m.value=new Date(`${M[2]}/${M[1]}/${M[0]}`)}if(P.data.value.includes("-")){let M=P.data.value.split("T")[0].split("-");m.value=new Date(`${M[1]}/${M[2]}/${M[0]}`)}}else m.value=new Date(P.data.value)}),f.value=!1}),mr(async()=>{K.on(be.emitter.OPEN_SUMMARY_CLICK,P=>{J.setSelectedItem(P.item),c.value=P.itemKey,i.value=!0}),K.on(be.emitter.CLOSE_SUMMARY_CLICK,()=>{J.resetSelectedItem(),c.value="",i.value=!1}),K.on(be.emitter.OPEN_CONTEXT_MENU,P=>{const Y=_(P);fs.showContextMenu({x:P.e.x,y:P.e.y,items:Y})}),await ae()}),Jr(()=>{K.off(be.emitter.OPEN_SUMMARY_CLICK),K.off(be.emitter.CLOSE_SUMMARY_CLICK),K.off(be.emitter.OPEN_CONTEXT_MENU),K.off(be.emitter.OPENALL),J.resetSelectedItem()});const K=hr(),J=vr(),he=Jo(),W="date-picker",$e=Zr();Na();var c=Se("");Se(0);var g=Se(0),i=Se(!1),f=Se(!0),p=Se(null),h=new Date,m=Se(null);h.setDate(h.getDate()-1);var w=Se(J.itemList);Se(null);function _(P){var Y=[];if(Y.push({label:"Abrir tudo",onClick:()=>T(P.uuid)}),P.isOpen&&Y.push({label:"Fechar tudo",onClick:()=>F(P.uuid)}),re.formatDate(P.date,"DDMMyyyy")===re.formatDate(new Date,"DDMMyyyy"))switch(P.item.typeId){case q.organicEnum.entity:Y.push({label:"Ver detalhe",onClick:()=>C(P.item)}),P.item.canHaveServices&&mt.havePermissionOrganization(q.permissions.organization.createEdit,P.item.id)&&Y.push({label:"Criar servio",onClick:()=>E(P.item)}),P.item.canHavePointsOfCare&&mt.havePermissionOrganization(q.permissions.organization.createEdit,P.item.id)&&Y.push({label:"Criar ponto de atendimento",onClick:()=>X(P.item)}),mt.havePermissionOrganization(q.permissions.organization.createEdit,P.item.id)&&Y.push({label:"Criar sub-entidade",onClick:()=>se(P.item)});break;case q.organicEnum.service:Y.push({label:"Ver detalhe",onClick:()=>S(P.item)});break;case q.organicEnum.servicePoint:Y.push({label:"Ver detalhe",onClick:()=>seePointOfCareDetail(P.item)}),mt.havePermissionOrganization(q.permissions.pointOfCare.createEdit,P.item.parent.id)&&Y.push({label:"Associar servio",onClick:()=>k(P.item)});break;case q.organicEnum.folder:let M=P.item.parent.id;mt.havePermissionOrganization(q.permissions.pointOfCare.createEdit,M)&&P.item.name=="Pontos de Atendimento"&&Y.push({label:"Criar ponto de atendimento",onClick:()=>X(P.item.parent)}),mt.havePermissionOrganization(q.permissions.service.createEdit,P.item.parent.id)&&P.item.name=="Servios"&&P.item.parentTypeId==q.organicEnum.entity&&Y.push({label:"Criar servio",onClick:()=>E(P.item.parent)});break}return Y}function C(P){he.push({name:be.router.BACKOFFICE_DETAIL_ENTITY_PAGE.name,params:{organizationId:re.encodeId(P.id),organizationVersion:re.encodeId(P.version),organicOrigin:!0}})}function S(P){he.push({name:be.router.BACKOFFICE_DETAIL_SERVICE_PAGE.name,params:{serviceId:re.encodeId(P.id),serviceVersion:re.encodeId(P.version),organicOrigin:!0}})}function k(P){he.push({name:be.router.BACKOFFICE_DETAIL_POINT_OF_CARE_PAGE.name,params:{pointOfCareId:re.encodeId(P.id),pointOfCareVersion:re.encodeId(P.version),organicOrigin:!0,association:!0}})}function T(P){K.emit(be.emitter.OPENALL,P)}function F(P){K.emit(be.emitter.CLOSEALL,P)}function D(){p.value=null,re.showModalById(W)}function $(){if(w.value.find(Y=>re.formatDate(Y.date,"DDMMyyyy")===re.formatDate(p.value,"DDMMyyyy"))){p.value=null,Ba.warning($e.common.duplicatedDate);return}J.addItem({id:`tab${re.formatDate(p.value,"DDMMyyyy")}`,name:re.formatDate(p.value),date:p.value,showSearch:!1,showIconClose:!0,tree:null}),w.value=J.itemList,window.setTimeout(function(){document.querySelectorAll(".nav-tabs button.nav-link").forEach(M=>{const j=new $o(M);M.addEventListener("click",R=>{R.preventDefault(),j.show(),K.emit(be.emitter.TAB_CLICK,j)}),M.id==`tab${re.formatDate(p.value,"DDMMyyyy")}-tab`&&(j.show(),K.emit(be.emitter.TAB_CLICK,j))}),p.value=null},100)}function H(P){var Y=J.revomeItemById(P);Y&&window.setTimeout(function(){document.querySelectorAll(".nav-tabs button.nav-link").forEach(j=>{if(j.id==`tab${re.formatDate(new Date,"DDMMyyyy")}-tab`){const R=new $o(j);R.show(),K.emit(be.emitter.TAB_CLICK,R)}}),w.value=J.itemList},0)}async function E(P){f.value=!0;const Y={id:P.id,version:P.version},M=await ti.create(Va.newForm(Y));re.validateResponseAsync(M,null,async()=>{const j=re.encodeId(M.data.serviceId),R=re.encodeId(M.data.serviceVersion);he.push({name:be.router.BACKOFFICE_EDIT_ENTITY_SERVICE_PAGE.name,params:{serviceId:j,serviceVersion:R,organizationId:re.encodeId(P.id),organizationVersion:re.encodeId(P.version),organicOrigin:!0}})}),f.value=!1}async function X(P){f.value=!0;const Y={id:P.id,version:P.version},M=await Qr.create(Ha.newForm(Y));re.validateResponseAsync(M,null,async()=>{const j=re.encodeId(M.data.pointOfCareId),R=re.encodeId(M.data.pointOfCareVersion);he.push({name:be.router.BACKOFFICE_EDIT_ENTITY_POINT_OF_CARE_PAGE.name,params:{pointOfCareId:j,pointOfCareVersion:R,organizationId:re.encodeId(P.id),organizationVersion:re.encodeId(P.version),organicOrigin:!0}})}),f.value=!1}async function se(P){f.value=!0;const Y={id:P.id,version:P.version},M=await ei.create(Wa.newForm(Y));re.validateResponseAsync(M,null,async()=>{const j=re.encodeId(M.data.organizationId),R=re.encodeId(M.data.organizationVersion);he.push({name:be.router.BACKOFFICE_EDIT_ENTITY_PAGE.name,params:{organizationId:j,organizationVersion:R,organicOrigin:!0}})}),f.value=!1}const ee=vn(()=>$e.backoffice.organic.infoDate.replace("{0}",re.formatDate(m.value)));async function ae(){f.value=!0;let P=await Fn.getIcons();re.validateResponseAsync(P,null,async()=>{J.iconList=P.data}),f.value=!1}return(P,Y)=>{const M=He("tab-content"),j=He("plus-tab-item"),R=He("tabs"),ie=He("card"),de=He("row"),Oe=He("page"),Je=He("form-field"),xe=He("alert"),Re=He("cbutton"),V=He("modal");return De(),gt(Bn,null,[Ve(Oe,{title:P._lang.backoffice.organic.pageTitle},{default:ut(()=>[Ve(de,null,{default:ut(()=>[ot("div",{class:pn([{"col-xl-8":N(i)},"col-12"])},[Te.value?(De(),dt(R,{isChildOfProps:!0,key:N(g),onIconCloseClick:H},za({default:ut(()=>[(De(!0),gt(Bn,null,qo(N(w),(We,Ye)=>(De(),dt(M,{key:Ye,id:We.id,title:We.name,active:Ye==0,disabled:!1,showIconClose:We.showIconClose},{default:ut(()=>[Ve(Yo,{selectedNode:N(c),date:We.date,showSearch:We.showSearch,index:Ye},null,8,["selectedNode","date","showSearch","index"])]),_:2},1032,["id","title","active","showIconClose"]))),128))]),_:2},[Te.value?{name:"after",fn:ut(()=>[Ve(j,{onClick:D})]),key:"0"}:void 0]),1024)):(De(),dt(ie,{key:1,shadow:!0},{body:ut(()=>[Ve(Yo,{selectedNode:N(c),date:N(w)[0].date,showSearch:!1,index:0},null,8,["selectedNode","date"])]),_:1}))],2),Ko(ot("div",ps,[Ve(cs,{showMargin:Te.value},null,8,["showMargin"])],512),[[Go,N(i)]])]),_:1})]),_:1},8,["title"]),Ve(V,{id:W,title:P._lang.common.addDate,size:N(q).modalSize.medium},{body:ut(()=>[Ve(de,null,{default:ut(()=>[Ve(Je,{id:"startDate",class:"mb-3 col-12",modelValue:N(p),"onUpdate:modelValue":Y[0]||(Y[0]=We=>Qo(p)?p.value=We:p=We),label:P._lang.label.date,type:N(q).inputs.datepicker,placeholder:"dd/mm/aaaa",maxDate:N(h),minDate:N(m)},null,8,["modelValue","label","type","maxDate","minDate"])]),_:1}),Ve(de,null,{default:ut(()=>[ot("p",null,pr(N(ee)),1),Ve(xe,{type:N(q).alertType.warning,text:P._lang.backoffice.organic.dateDescription},null,8,["type","text"])]),_:1})]),footer:ut(()=>[Ve(Re,{title:P._lang.common.confirm,"data-bs-dismiss":"modal","aria-label":"Close",onClick:$,disabled:!N(p)},null,8,["title","disabled"]),Ve(Re,{title:P._lang.common.close,type:N(q).buttonType.secondary,"data-bs-dismiss":"modal","aria-label":"Close"},null,8,["title","type"])]),_:1},8,["title","size"])],64)}}},Cs=qr(vs,[["__scopeId","data-v-97de5603"]]);export{Cs as default};
