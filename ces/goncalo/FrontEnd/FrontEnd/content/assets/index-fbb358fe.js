import{ac as Ut,h as qe,J as Je,r as Q,k as dt,u as D,j as ft,o as Qe,C as W,l as ee,c as fe,e as Ge,m as Se,n as de,q as Y,p as Pe,s as O,v as N,A as Ye,ad as ut,F as Ze,ae as $t,a as pt,g as mt,i as vt,P as _e,x as gt,O as Gt,L as ht,af as Yt,K as yt,ag as Zt,ah as Xt,ai as qt,_ as Jt,N as Qt,aj as en,z as tn,Q as nn,R as on,B as rn,T as st}from"./index-4697834f.js";import{t as et}from"./treeview-294ff810.js";import{o as bt}from"./organization-7e67c71d.js";import{p as Ct}from"./point-of-care-819dce5d.js";import{s as xt}from"./service-ee40d3dc.js";import{p as an,u as ln}from"./params-bc2204f4.js";import{b as un}from"./helpers-dd41a15e.js";import{s as sn}from"./helpers-e69c6c3b.js";import{o as cn}from"./helpers-24d55354.js";import{p as dn}from"./helpers-2aa2ecb2.js";import"./index.esm-168b7626.js";import"./helpers-d0ab1107.js";const fn={class:"col-12"},ct={__name:"treeview",props:{selectedNode:[Object,String],date:[Date,String],showSearch:{Boolean,default:!1},index:{Number,default:0}},setup(De){const $=De,q=Ut({loader:()=>$t(()=>import("./item-5c3297c9.js"),["assets/item-5c3297c9.js","assets/index-4697834f.js","assets/index-d994e08a.css","assets/treeview-294ff810.js","assets/point-of-care-819dce5d.js","assets/item-b7520e38.css"]),loadingComponent:ut,delay:200}),K=qe(),oe=Je();var k=Q(!1),he=Q(0);const o=dt(()=>D.formatDate($.date,"DDMMyyyy")===D.formatDate(new Date,"DDMMyyyy"));var u=ft({Id:null,version:null,TypeId:null,LevelDeep:1,onlyPublish:!$.showSearch,filterDate:$.date});Qe(async()=>{oe.itemList[$.index].tree==null&&await e()});async function e(){k.value=!0;let t=await et.get(u);D.validateResponse(t,null,()=>{oe.itemList[$.index].tree=t.data,he.value++}),k.value=!1,K.emit(W.emitter.CLOSE_SUMMARY_CLICK)}return(t,n)=>{const r=ee("form-field"),a=ee("row"),l=ee("container-wrapper");return fe(),Ge(Ze,null,[$.showSearch?(fe(),Se(l,{key:0,"margin-top":!1,"margin-bottom":!0},{default:de(()=>[Y(a,null,{default:de(()=>[Pe("div",fn,[Y(r,{id:"active",class:"mt-2",modelValue:O(u).onlyPublish,"onUpdate:modelValue":n[0]||(n[0]=s=>O(u).onlyPublish=s),label:t._lang.backoffice.organic.publishedRecords,type:O(N).inputs.checkbox,disabled:O(k),loading:O(k),onChange:e},null,8,["modelValue","label","type","disabled","loading"])])]),_:1})]),_:1})):Ye("",!0),O(oe).itemList[$.index].tree!=null?(fe(),Se(O(q),{key:O(he),item:O(oe).itemList[$.index].tree,"onUpdate:item":n[1]||(n[1]=s=>O(oe).itemList[$.index].tree=s),index:1,level:1,parent:"",selectedNode:$.selectedNode,onlyPublish:O(u).onlyPublish,date:$.date,canEdit:O(o)},null,8,["item","selectedNode","onlyPublish","date","canEdit"])):(fe(),Se(ut,{key:2}))],64)}}};const pn={class:"summary-header d-flex align-items-center"},mn={class:""},vn={class:""},gn={class:"p-4"},hn={__name:"summary",props:{showMargin:{Boolean,default:!0}},setup(De){Qe(()=>{$.on(W.emitter.OPEN_SUMMARY_CLICK,async g=>{r.value=g,o.value=!0,k=g.item,he.value++,await l(k),o.value=!1,x()}),t.value=D.convertEnumToArray(oe.enums.recordStateType),e.value=D.concatItemsBadge(t.value,un.recordStateTypeBadgeOptions)}),pt(()=>{$.off(W.emitter.OPEN_SUMMARY_CLICK)});const $=qe(),q=Je(),K=mt(),oe=vt();var k=ft({name:""}),he=Q(0),o=Q(!1),u=Q(!1);let e=Q([]),t=Q([]);var n=Q(0),r=Q(null);function a(){q.resetSelectedItem(),$.emit(W.emitter.CLOSE_SUMMARY_CLICK)}async function l(g){switch(g.typeId){case N.objectType.organization:case N.objectType.folder:await s(g);break;case N.objectType.service:await d(g);case N.objectType.pointOfCare:await f(g)}}async function s(g){const I=await bt.getById(g.id,g.version);D.validateResponse(I,null,()=>{Object.assign(g,I.data),n.value=I.data.treeOrder})}async function f(g){const I=await Ct.getById(g.id,g.version);D.validateResponse(I,null,()=>{Object.assign(g,I.data)})}async function d(g){const I=await xt.getById(g.id,g.version);D.validateResponse(I,null,()=>{Object.assign(g,I.data)})}function p(){switch(k.typeId){case N.objectType.organization:case N.objectType.folder:v();break;case N.objectType.service:h(k);break;case N.objectType.pointOfCare:y(k);break}}function v(){K.push({name:W.router.BACKOFFICE_DETAIL_ENTITY_PAGE.name,params:{organizationId:D.encodeId(k.id),organizationVersion:D.encodeId(k.version)}})}function h(g){K.push({name:W.router.BACKOFFICE_DETAIL_SERVICE_PAGE.name,params:{serviceId:D.encodeId(g.id),serviceVersion:D.encodeId(g.version)}})}function y(g){K.push({name:W.router.BACKOFFICE_DETAIL_POINT_OF_CARE_PAGE.name,params:{pointOfCareId:D.encodeId(g.id),pointOfCareVersion:D.encodeId(g.version)}})}async function _(){o.value=!0;let g={order:n.value,source:{id:k.id,version:k.version}};const I=await et.updateOrder(g);D.validateResponse(I,null,()=>{console.log(I),$.emit(W.emitter.UPDATE_TREE_NODE,I.data)}),o.value=!1}function x(){u.value=(k==null?void 0:k.typeId)==N.organicEnum.entity&&_e.havePermissionOrganization(N.permissions.organization.order,(k==null?void 0:k.id)&&(k==null?void 0:k.id)!=1)}return(g,I)=>{const R=ee("icon-eye"),P=ee("icon-close-circle"),B=ee("spinner"),c=ee("form-field"),S=ee("row"),w=ee("card");return fe(),Se(w,{shadow:!0,class:yt(["summary-card sticky-xl-top p-c",{"show-margin":De.showMargin}]),key:O(he)},{body:de(()=>[Pe("div",null,[Pe("div",pn,[Pe("div",mn,[Pe("h2",vn,gt(g._lang.backoffice.organic.summary),1)]),O(o)?Ye("",!0):(fe(),Se(R,{key:0,color:"#002D74",class:"p-hand ms-1",onClick:p,"data-bs-toggle":"tooltip","data-bs-title":g._lang.common.seeDetail},null,8,["data-bs-title"])),Y(P,{color:"#002D74",class:"p-hand ms-auto",onClick:a,"aria-label":g._lang.common.close},null,8,["aria-label"])]),Pe("div",gn,[O(o)?(fe(),Se(B,{key:0,class:"mt-2 mb-2"})):(fe(),Se(S,{key:1},{default:de(()=>[Y(Gt,{class:"mb-2",value:O(k).recordStateTypeId,options:O(e)},null,8,["value","options"]),Y(c,{id:"code",class:"mb-3 col-12",modelValue:O(k).code,"onUpdate:modelValue":I[0]||(I[0]=b=>O(k).code=b),label:g._lang.label.code,disabled:!0,loading:O(o),type:O(N).inputs.text},null,8,["modelValue","label","loading","type"]),Y(c,{id:"name",class:"mb-3 col-12",modelValue:O(k).name,"onUpdate:modelValue":I[1]||(I[1]=b=>O(k).name=b),label:g._lang.label.name,disabled:!0,loading:O(o),type:O(N).inputs.text},null,8,["modelValue","label","loading","type"]),Y(c,{id:"description",class:"mb-3 col-12",modelValue:O(k).startDate,"onUpdate:modelValue":I[2]||(I[2]=b=>O(k).startDate=b),label:g._lang.label.startDate,disabled:!0,loading:O(o),type:O(N).inputs.datepicker},null,8,["modelValue","label","loading","type"]),Y(c,{id:"description",class:"mb-3 col-12",modelValue:O(k).endDate,"onUpdate:modelValue":I[3]||(I[3]=b=>O(k).endDate=b),label:g._lang.label.endDate,disabled:!0,loading:O(o),type:O(N).inputs.endDate},null,8,["modelValue","label","loading","type"]),O(u)?(fe(),Se(c,{key:0,id:"treeOrder",class:"mb-3 col-12",modelValue:O(n),"onUpdate:modelValue":I[4]||(I[4]=b=>ht(n)?n.value=b:n=b),label:g._lang.label.order,disabled:O(o),loading:O(o),type:O(N).inputs.inputFunc,inputType:O(N).inputs.number,icon:Yt,func:_},null,8,["modelValue","label","disabled","loading","type","inputType"])):Ye("",!0)]),_:1}))])])]),_:1},8,["class"])}}};var Xe={},yn={get exports(){return Xe},set exports(De){Xe=De}};(function(De,$){(function(q,K){De.exports=K(Zt)})(typeof self<"u"?self:Xt,q=>(()=>{var K={9662:(o,u,e)=>{var t=e(614),n=e(6330),r=TypeError;o.exports=function(a){if(t(a))return a;throw r(n(a)+" is not a function")}},6077:(o,u,e)=>{var t=e(614),n=String,r=TypeError;o.exports=function(a){if(typeof a=="object"||t(a))return a;throw r("Can't set "+n(a)+" as a prototype")}},9670:(o,u,e)=>{var t=e(111),n=String,r=TypeError;o.exports=function(a){if(t(a))return a;throw r(n(a)+" is not an object")}},8533:(o,u,e)=>{var t=e(2092).forEach,n=e(9341),r=n("forEach");o.exports=r?[].forEach:function(a){return t(this,a,arguments.length>1?arguments[1]:void 0)}},1318:(o,u,e)=>{var t=e(5656),n=e(1400),r=e(6244),a=function(l){return function(s,f,d){var p,v=t(s),h=r(v),y=n(d,h);if(l&&f!=f){for(;h>y;)if(p=v[y++],p!=p)return!0}else for(;h>y;y++)if((l||y in v)&&v[y]===f)return l||y||0;return!l&&-1}};o.exports={includes:a(!0),indexOf:a(!1)}},2092:(o,u,e)=>{var t=e(9974),n=e(1702),r=e(8361),a=e(7908),l=e(6244),s=e(5417),f=n([].push),d=function(p){var v=p==1,h=p==2,y=p==3,_=p==4,x=p==6,g=p==7,I=p==5||x;return function(R,P,B,c){for(var S,w,b=a(R),A=r(b),Z=t(P,B),J=l(A),ue=0,Ie=c||s,te=v?Ie(R,J):h||g?Ie(R,0):void 0;J>ue;ue++)if((I||ue in A)&&(S=A[ue],w=Z(S,ue,b),p))if(v)te[ue]=w;else if(w)switch(p){case 3:return!0;case 5:return S;case 6:return ue;case 2:f(te,S)}else switch(p){case 4:return!1;case 7:f(te,S)}return x?-1:y||_?_:te}};o.exports={forEach:d(0),map:d(1),filter:d(2),some:d(3),every:d(4),find:d(5),findIndex:d(6),filterReject:d(7)}},1194:(o,u,e)=>{var t=e(7293),n=e(5112),r=e(7392),a=n("species");o.exports=function(l){return r>=51||!t(function(){var s=[],f=s.constructor={};return f[a]=function(){return{foo:1}},s[l](Boolean).foo!==1})}},9341:(o,u,e)=>{var t=e(7293);o.exports=function(n,r){var a=[][n];return!!a&&t(function(){a.call(null,r||function(){return 1},1)})}},3658:(o,u,e)=>{var t=e(9781),n=e(3157),r=TypeError,a=Object.getOwnPropertyDescriptor,l=t&&!function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(s){return s instanceof TypeError}}();o.exports=l?function(s,f){if(n(s)&&!a(s,"length").writable)throw r("Cannot set read only .length");return s.length=f}:function(s,f){return s.length=f}},206:(o,u,e)=>{var t=e(1702);o.exports=t([].slice)},7475:(o,u,e)=>{var t=e(3157),n=e(4411),r=e(111),a=e(5112),l=a("species"),s=Array;o.exports=function(f){var d;return t(f)&&(d=f.constructor,n(d)&&(d===s||t(d.prototype))?d=void 0:r(d)&&(d=d[l],d===null&&(d=void 0))),d===void 0?s:d}},5417:(o,u,e)=>{var t=e(7475);o.exports=function(n,r){return new(t(n))(r===0?0:r)}},4326:(o,u,e)=>{var t=e(1702),n=t({}.toString),r=t("".slice);o.exports=function(a){return r(n(a),8,-1)}},648:(o,u,e)=>{var t=e(1694),n=e(614),r=e(4326),a=e(5112),l=a("toStringTag"),s=Object,f=r(function(){return arguments}())=="Arguments",d=function(p,v){try{return p[v]}catch{}};o.exports=t?r:function(p){var v,h,y;return p===void 0?"Undefined":p===null?"Null":typeof(h=d(v=s(p),l))=="string"?h:f?r(v):(y=r(v))=="Object"&&n(v.callee)?"Arguments":y}},9920:(o,u,e)=>{var t=e(2597),n=e(3887),r=e(1236),a=e(3070);o.exports=function(l,s,f){for(var d=n(s),p=a.f,v=r.f,h=0;h<d.length;h++){var y=d[h];t(l,y)||f&&t(f,y)||p(l,y,v(s,y))}}},8880:(o,u,e)=>{var t=e(9781),n=e(3070),r=e(9114);o.exports=t?function(a,l,s){return n.f(a,l,r(1,s))}:function(a,l,s){return a[l]=s,a}},9114:o=>{o.exports=function(u,e){return{enumerable:!(1&u),configurable:!(2&u),writable:!(4&u),value:e}}},6135:(o,u,e)=>{var t=e(4948),n=e(3070),r=e(9114);o.exports=function(a,l,s){var f=t(l);f in a?n.f(a,f,r(0,s)):a[f]=s}},8052:(o,u,e)=>{var t=e(614),n=e(3070),r=e(6339),a=e(3072);o.exports=function(l,s,f,d){d||(d={});var p=d.enumerable,v=d.name!==void 0?d.name:s;if(t(f)&&r(f,v,d),d.global)p?l[s]=f:a(s,f);else{try{d.unsafe?l[s]&&(p=!0):delete l[s]}catch{}p?l[s]=f:n.f(l,s,{value:f,enumerable:!1,configurable:!d.nonConfigurable,writable:!d.nonWritable})}return l}},3072:(o,u,e)=>{var t=e(7854),n=Object.defineProperty;o.exports=function(r,a){try{n(t,r,{value:a,configurable:!0,writable:!0})}catch{t[r]=a}return a}},5117:(o,u,e)=>{var t=e(6330),n=TypeError;o.exports=function(r,a){if(!delete r[a])throw n("Cannot delete property "+t(a)+" of "+t(r))}},9781:(o,u,e)=>{var t=e(7293);o.exports=!t(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},317:(o,u,e)=>{var t=e(7854),n=e(111),r=t.document,a=n(r)&&n(r.createElement);o.exports=function(l){return a?r.createElement(l):{}}},7207:o=>{var u=TypeError,e=9007199254740991;o.exports=function(t){if(t>e)throw u("Maximum allowed index exceeded");return t}},8113:(o,u,e)=>{var t=e(5005);o.exports=t("navigator","userAgent")||""},7392:(o,u,e)=>{var t,n,r=e(7854),a=e(8113),l=r.process,s=r.Deno,f=l&&l.versions||s&&s.version,d=f&&f.v8;d&&(t=d.split("."),n=t[0]>0&&t[0]<4?1:+(t[0]+t[1])),!n&&a&&(t=a.match(/Edge\/(\d+)/),(!t||t[1]>=74)&&(t=a.match(/Chrome\/(\d+)/),t&&(n=+t[1]))),o.exports=n},748:o=>{o.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},7762:(o,u,e)=>{var t=e(9781),n=e(7293),r=e(9670),a=e(30),l=e(6277),s=Error.prototype.toString,f=n(function(){if(t){var d=a(Object.defineProperty({},"name",{get:function(){return this===d}}));if(s.call(d)!=="true")return!0}return s.call({message:1,name:2})!=="2: 1"||s.call({})!=="Error"});o.exports=f?function(){var d=r(this),p=l(d.name,"Error"),v=l(d.message);return p?v?p+": "+v:p:v}:s},2109:(o,u,e)=>{var t=e(7854),n=e(1236).f,r=e(8880),a=e(8052),l=e(3072),s=e(9920),f=e(4705);o.exports=function(d,p){var v,h,y,_,x,g,I=d.target,R=d.global,P=d.stat;if(h=R?t:P?t[I]||l(I,{}):(t[I]||{}).prototype,h)for(y in p){if(x=p[y],d.dontCallGetSet?(g=n(h,y),_=g&&g.value):_=h[y],v=f(R?y:I+(P?".":"#")+y,d.forced),!v&&_!==void 0){if(typeof x==typeof _)continue;s(x,_)}(d.sham||_&&_.sham)&&r(x,"sham",!0),a(h,y,x,d)}}},7293:o=>{o.exports=function(u){try{return!!u()}catch{return!0}}},2104:(o,u,e)=>{var t=e(4374),n=Function.prototype,r=n.apply,a=n.call;o.exports=typeof Reflect=="object"&&Reflect.apply||(t?a.bind(r):function(){return a.apply(r,arguments)})},9974:(o,u,e)=>{var t=e(1702),n=e(9662),r=e(4374),a=t(t.bind);o.exports=function(l,s){return n(l),s===void 0?l:r?a(l,s):function(){return l.apply(s,arguments)}}},4374:(o,u,e)=>{var t=e(7293);o.exports=!t(function(){var n=function(){}.bind();return typeof n!="function"||n.hasOwnProperty("prototype")})},6916:(o,u,e)=>{var t=e(4374),n=Function.prototype.call;o.exports=t?n.bind(n):function(){return n.apply(n,arguments)}},6530:(o,u,e)=>{var t=e(9781),n=e(2597),r=Function.prototype,a=t&&Object.getOwnPropertyDescriptor,l=n(r,"name"),s=l&&function(){}.name==="something",f=l&&(!t||t&&a(r,"name").configurable);o.exports={EXISTS:l,PROPER:s,CONFIGURABLE:f}},1702:(o,u,e)=>{var t=e(4374),n=Function.prototype,r=n.bind,a=n.call,l=t&&r.bind(a,a);o.exports=t?function(s){return s&&l(s)}:function(s){return s&&function(){return a.apply(s,arguments)}}},5005:(o,u,e)=>{var t=e(7854),n=e(614),r=function(a){return n(a)?a:void 0};o.exports=function(a,l){return arguments.length<2?r(t[a]):t[a]&&t[a][l]}},8173:(o,u,e)=>{var t=e(9662),n=e(8554);o.exports=function(r,a){var l=r[a];return n(l)?void 0:t(l)}},7854:(o,u,e)=>{var t=function(n){return n&&n.Math==Math&&n};o.exports=t(typeof globalThis=="object"&&globalThis)||t(typeof window=="object"&&window)||t(typeof self=="object"&&self)||t(typeof e.g=="object"&&e.g)||function(){return this}()||Function("return this")()},2597:(o,u,e)=>{var t=e(1702),n=e(7908),r=t({}.hasOwnProperty);o.exports=Object.hasOwn||function(a,l){return r(n(a),l)}},3501:o=>{o.exports={}},490:(o,u,e)=>{var t=e(5005);o.exports=t("document","documentElement")},4664:(o,u,e)=>{var t=e(9781),n=e(7293),r=e(317);o.exports=!t&&!n(function(){return Object.defineProperty(r("div"),"a",{get:function(){return 7}}).a!=7})},8361:(o,u,e)=>{var t=e(1702),n=e(7293),r=e(4326),a=Object,l=t("".split);o.exports=n(function(){return!a("z").propertyIsEnumerable(0)})?function(s){return r(s)=="String"?l(s,""):a(s)}:a},9587:(o,u,e)=>{var t=e(614),n=e(111),r=e(7674);o.exports=function(a,l,s){var f,d;return r&&t(f=l.constructor)&&f!==s&&n(d=f.prototype)&&d!==s.prototype&&r(a,d),a}},2788:(o,u,e)=>{var t=e(1702),n=e(614),r=e(5465),a=t(Function.toString);n(r.inspectSource)||(r.inspectSource=function(l){return a(l)}),o.exports=r.inspectSource},9909:(o,u,e)=>{var t,n,r,a=e(4811),l=e(7854),s=e(1702),f=e(111),d=e(8880),p=e(2597),v=e(5465),h=e(6200),y=e(3501),_="Object already initialized",x=l.TypeError,g=l.WeakMap,I=function(b){return r(b)?n(b):t(b,{})},R=function(b){return function(A){var Z;if(!f(A)||(Z=n(A)).type!==b)throw x("Incompatible receiver, "+b+" required");return Z}};if(a||v.state){var P=v.state||(v.state=new g),B=s(P.get),c=s(P.has),S=s(P.set);t=function(b,A){if(c(P,b))throw x(_);return A.facade=b,S(P,b,A),A},n=function(b){return B(P,b)||{}},r=function(b){return c(P,b)}}else{var w=h("state");y[w]=!0,t=function(b,A){if(p(b,w))throw x(_);return A.facade=b,d(b,w,A),A},n=function(b){return p(b,w)?b[w]:{}},r=function(b){return p(b,w)}}o.exports={set:t,get:n,has:r,enforce:I,getterFor:R}},3157:(o,u,e)=>{var t=e(4326);o.exports=Array.isArray||function(n){return t(n)=="Array"}},614:o=>{o.exports=function(u){return typeof u=="function"}},4411:(o,u,e)=>{var t=e(1702),n=e(7293),r=e(614),a=e(648),l=e(5005),s=e(2788),f=function(){},d=[],p=l("Reflect","construct"),v=/^\s*(?:class|function)\b/,h=t(v.exec),y=!v.exec(f),_=function(g){if(!r(g))return!1;try{return p(f,d,g),!0}catch{return!1}},x=function(g){if(!r(g))return!1;switch(a(g)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return y||!!h(v,s(g))}catch{return!0}};x.sham=!0,o.exports=!p||n(function(){var g;return _(_.call)||!_(Object)||!_(function(){g=!0})||g})?x:_},4705:(o,u,e)=>{var t=e(7293),n=e(614),r=/#|\.prototype\./,a=function(p,v){var h=s[l(p)];return h==d||h!=f&&(n(v)?t(v):!!v)},l=a.normalize=function(p){return String(p).replace(r,".").toLowerCase()},s=a.data={},f=a.NATIVE="N",d=a.POLYFILL="P";o.exports=a},8554:o=>{o.exports=function(u){return u==null}},111:(o,u,e)=>{var t=e(614),n=typeof document=="object"&&document.all,r=typeof n>"u"&&n!==void 0;o.exports=r?function(a){return typeof a=="object"?a!==null:t(a)||a===n}:function(a){return typeof a=="object"?a!==null:t(a)}},1913:o=>{o.exports=!1},2190:(o,u,e)=>{var t=e(5005),n=e(614),r=e(7976),a=e(3307),l=Object;o.exports=a?function(s){return typeof s=="symbol"}:function(s){var f=t("Symbol");return n(f)&&r(f.prototype,l(s))}},6244:(o,u,e)=>{var t=e(7466);o.exports=function(n){return t(n.length)}},6339:(o,u,e)=>{var t=e(7293),n=e(614),r=e(2597),a=e(9781),l=e(6530).CONFIGURABLE,s=e(2788),f=e(9909),d=f.enforce,p=f.get,v=Object.defineProperty,h=a&&!t(function(){return v(function(){},"length",{value:8}).length!==8}),y=String(String).split("String"),_=o.exports=function(x,g,I){String(g).slice(0,7)==="Symbol("&&(g="["+String(g).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),I&&I.getter&&(g="get "+g),I&&I.setter&&(g="set "+g),(!r(x,"name")||l&&x.name!==g)&&(a?v(x,"name",{value:g,configurable:!0}):x.name=g),h&&I&&r(I,"arity")&&x.length!==I.arity&&v(x,"length",{value:I.arity});try{I&&r(I,"constructor")&&I.constructor?a&&v(x,"prototype",{writable:!1}):x.prototype&&(x.prototype=void 0)}catch{}var R=d(x);return r(R,"source")||(R.source=y.join(typeof g=="string"?g:"")),x};Function.prototype.toString=_(function(){return n(this)&&p(this).source||s(this)},"toString")},4758:o=>{var u=Math.ceil,e=Math.floor;o.exports=Math.trunc||function(t){var n=+t;return(n>0?e:u)(n)}},6277:(o,u,e)=>{var t=e(1340);o.exports=function(n,r){return n===void 0?arguments.length<2?"":r:t(n)}},30:(o,u,e)=>{var t,n=e(9670),r=e(6048),a=e(748),l=e(3501),s=e(490),f=e(317),d=e(6200),p=">",v="<",h="prototype",y="script",_=d("IE_PROTO"),x=function(){},g=function(B){return v+y+p+B+v+"/"+y+p},I=function(B){B.write(g("")),B.close();var c=B.parentWindow.Object;return B=null,c},R=function(){var B,c=f("iframe"),S="java"+y+":";return c.style.display="none",s.appendChild(c),c.src=String(S),B=c.contentWindow.document,B.open(),B.write(g("document.F=Object")),B.close(),B.F},P=function(){try{t=new ActiveXObject("htmlfile")}catch{}P=typeof document<"u"?document.domain&&t?I(t):R():I(t);for(var B=a.length;B--;)delete P[h][a[B]];return P()};l[_]=!0,o.exports=Object.create||function(B,c){var S;return B!==null?(x[h]=n(B),S=new x,x[h]=null,S[_]=B):S=P(),c===void 0?S:r.f(S,c)}},6048:(o,u,e)=>{var t=e(9781),n=e(3353),r=e(3070),a=e(9670),l=e(5656),s=e(1956);u.f=t&&!n?Object.defineProperties:function(f,d){a(f);for(var p,v=l(d),h=s(d),y=h.length,_=0;y>_;)r.f(f,p=h[_++],v[p]);return f}},3070:(o,u,e)=>{var t=e(9781),n=e(4664),r=e(3353),a=e(9670),l=e(4948),s=TypeError,f=Object.defineProperty,d=Object.getOwnPropertyDescriptor,p="enumerable",v="configurable",h="writable";u.f=t?r?function(y,_,x){if(a(y),_=l(_),a(x),typeof y=="function"&&_==="prototype"&&"value"in x&&h in x&&!x[h]){var g=d(y,_);g&&g[h]&&(y[_]=x.value,x={configurable:v in x?x[v]:g[v],enumerable:p in x?x[p]:g[p],writable:!1})}return f(y,_,x)}:f:function(y,_,x){if(a(y),_=l(_),a(x),n)try{return f(y,_,x)}catch{}if("get"in x||"set"in x)throw s("Accessors not supported");return"value"in x&&(y[_]=x.value),y}},1236:(o,u,e)=>{var t=e(9781),n=e(6916),r=e(5296),a=e(9114),l=e(5656),s=e(4948),f=e(2597),d=e(4664),p=Object.getOwnPropertyDescriptor;u.f=t?p:function(v,h){if(v=l(v),h=s(h),d)try{return p(v,h)}catch{}if(f(v,h))return a(!n(r.f,v,h),v[h])}},8006:(o,u,e)=>{var t=e(6324),n=e(748),r=n.concat("length","prototype");u.f=Object.getOwnPropertyNames||function(a){return t(a,r)}},5181:(o,u)=>{u.f=Object.getOwnPropertySymbols},7976:(o,u,e)=>{var t=e(1702);o.exports=t({}.isPrototypeOf)},6324:(o,u,e)=>{var t=e(1702),n=e(2597),r=e(5656),a=e(1318).indexOf,l=e(3501),s=t([].push);o.exports=function(f,d){var p,v=r(f),h=0,y=[];for(p in v)!n(l,p)&&n(v,p)&&s(y,p);for(;d.length>h;)n(v,p=d[h++])&&(~a(y,p)||s(y,p));return y}},1956:(o,u,e)=>{var t=e(6324),n=e(748);o.exports=Object.keys||function(r){return t(r,n)}},5296:(o,u)=>{var e={}.propertyIsEnumerable,t=Object.getOwnPropertyDescriptor,n=t&&!e.call({1:2},1);u.f=n?function(r){var a=t(this,r);return!!a&&a.enumerable}:e},7674:(o,u,e)=>{var t=e(1702),n=e(9670),r=e(6077);o.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var a,l=!1,s={};try{a=t(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set),a(s,[]),l=s instanceof Array}catch{}return function(f,d){return n(f),r(d),l?a(f,d):f.__proto__=d,f}}():void 0)},288:(o,u,e)=>{var t=e(1694),n=e(648);o.exports=t?{}.toString:function(){return"[object "+n(this)+"]"}},2140:(o,u,e)=>{var t=e(6916),n=e(614),r=e(111),a=TypeError;o.exports=function(l,s){var f,d;if(s==="string"&&n(f=l.toString)&&!r(d=t(f,l))||n(f=l.valueOf)&&!r(d=t(f,l))||s!=="string"&&n(f=l.toString)&&!r(d=t(f,l)))return d;throw a("Can't convert object to primitive value")}},3887:(o,u,e)=>{var t=e(5005),n=e(1702),r=e(8006),a=e(5181),l=e(9670),s=n([].concat);o.exports=t("Reflect","ownKeys")||function(f){var d=r.f(l(f)),p=a.f;return p?s(d,p(f)):d}},7066:(o,u,e)=>{var t=e(9670);o.exports=function(){var n=t(this),r="";return n.hasIndices&&(r+="d"),n.global&&(r+="g"),n.ignoreCase&&(r+="i"),n.multiline&&(r+="m"),n.dotAll&&(r+="s"),n.unicode&&(r+="u"),n.unicodeSets&&(r+="v"),n.sticky&&(r+="y"),r}},4706:(o,u,e)=>{var t=e(6916),n=e(2597),r=e(7976),a=e(7066),l=RegExp.prototype;o.exports=function(s){var f=s.flags;return f!==void 0||"flags"in l||n(s,"flags")||!r(l,s)?f:t(a,s)}},4488:(o,u,e)=>{var t=e(8554),n=TypeError;o.exports=function(r){if(t(r))throw n("Can't call method on "+r);return r}},7152:(o,u,e)=>{var t=e(7854),n=e(2104),r=e(614),a=e(8113),l=e(206),s=e(8053),f=/MSIE .\./.test(a),d=t.Function,p=function(v){return f?function(h,y){var _=s(arguments.length,1)>2,x=r(h)?h:d(h),g=_?l(arguments,2):void 0;return v(_?function(){n(x,this,g)}:x,y)}:v};o.exports={setTimeout:p(t.setTimeout),setInterval:p(t.setInterval)}},6200:(o,u,e)=>{var t=e(2309),n=e(9711),r=t("keys");o.exports=function(a){return r[a]||(r[a]=n(a))}},5465:(o,u,e)=>{var t=e(7854),n=e(3072),r="__core-js_shared__",a=t[r]||n(r,{});o.exports=a},2309:(o,u,e)=>{var t=e(1913),n=e(5465);(o.exports=function(r,a){return n[r]||(n[r]=a!==void 0?a:{})})("versions",[]).push({version:"3.25.0",mode:t?"pure":"global",copyright:"© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.25.0/LICENSE",source:"https://github.com/zloirock/core-js"})},3111:(o,u,e)=>{var t=e(1702),n=e(4488),r=e(1340),a=e(1361),l=t("".replace),s="["+a+"]",f=RegExp("^"+s+s+"*"),d=RegExp(s+s+"*$"),p=function(v){return function(h){var y=r(n(h));return 1&v&&(y=l(y,f,"")),2&v&&(y=l(y,d,"")),y}};o.exports={start:p(1),end:p(2),trim:p(3)}},6293:(o,u,e)=>{var t=e(7392),n=e(7293);o.exports=!!Object.getOwnPropertySymbols&&!n(function(){var r=Symbol();return!String(r)||!(Object(r)instanceof Symbol)||!Symbol.sham&&t&&t<41})},863:(o,u,e)=>{var t=e(1702);o.exports=t(1 .valueOf)},1400:(o,u,e)=>{var t=e(9303),n=Math.max,r=Math.min;o.exports=function(a,l){var s=t(a);return s<0?n(s+l,0):r(s,l)}},5656:(o,u,e)=>{var t=e(8361),n=e(4488);o.exports=function(r){return t(n(r))}},9303:(o,u,e)=>{var t=e(4758);o.exports=function(n){var r=+n;return r!==r||r===0?0:t(r)}},7466:(o,u,e)=>{var t=e(9303),n=Math.min;o.exports=function(r){return r>0?n(t(r),9007199254740991):0}},7908:(o,u,e)=>{var t=e(4488),n=Object;o.exports=function(r){return n(t(r))}},7593:(o,u,e)=>{var t=e(6916),n=e(111),r=e(2190),a=e(8173),l=e(2140),s=e(5112),f=TypeError,d=s("toPrimitive");o.exports=function(p,v){if(!n(p)||r(p))return p;var h,y=a(p,d);if(y){if(v===void 0&&(v="default"),h=t(y,p,v),!n(h)||r(h))return h;throw f("Can't convert object to primitive value")}return v===void 0&&(v="number"),l(p,v)}},4948:(o,u,e)=>{var t=e(7593),n=e(2190);o.exports=function(r){var a=t(r,"string");return n(a)?a:a+""}},1694:(o,u,e)=>{var t=e(5112),n=t("toStringTag"),r={};r[n]="z",o.exports=String(r)==="[object z]"},1340:(o,u,e)=>{var t=e(648),n=String;o.exports=function(r){if(t(r)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return n(r)}},6330:o=>{var u=String;o.exports=function(e){try{return u(e)}catch{return"Object"}}},9711:(o,u,e)=>{var t=e(1702),n=0,r=Math.random(),a=t(1 .toString);o.exports=function(l){return"Symbol("+(l===void 0?"":l)+")_"+a(++n+r,36)}},3307:(o,u,e)=>{var t=e(6293);o.exports=t&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},3353:(o,u,e)=>{var t=e(9781),n=e(7293);o.exports=t&&n(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!=42})},8053:o=>{var u=TypeError;o.exports=function(e,t){if(e<t)throw u("Not enough arguments");return e}},4811:(o,u,e)=>{var t=e(7854),n=e(614),r=t.WeakMap;o.exports=n(r)&&/native code/.test(String(r))},5112:(o,u,e)=>{var t=e(7854),n=e(2309),r=e(2597),a=e(9711),l=e(6293),s=e(3307),f=n("wks"),d=t.Symbol,p=d&&d.for,v=s?d:d&&d.withoutSetter||a;o.exports=function(h){if(!r(f,h)||!l&&typeof f[h]!="string"){var y="Symbol."+h;l&&r(d,h)?f[h]=d[h]:f[h]=s&&p?p(y):v(y)}return f[h]}},1361:o=>{o.exports=`	
\v\f\r                　\u2028\u2029\uFEFF`},9554:(o,u,e)=>{var t=e(2109),n=e(8533);t({target:"Array",proto:!0,forced:[].forEach!=n},{forEach:n})},2772:(o,u,e)=>{var t=e(2109),n=e(1702),r=e(1318).indexOf,a=e(9341),l=n([].indexOf),s=!!l&&1/l([1],1,-0)<0,f=a("indexOf");t({target:"Array",proto:!0,forced:s||!f},{indexOf:function(d){var p=arguments.length>1?arguments[1]:void 0;return s?l(this,d,p)||0:r(this,d,p)}})},561:(o,u,e)=>{var t=e(2109),n=e(7908),r=e(1400),a=e(9303),l=e(6244),s=e(3658),f=e(7207),d=e(5417),p=e(6135),v=e(5117),h=e(1194),y=h("splice"),_=Math.max,x=Math.min;t({target:"Array",proto:!0,forced:!y},{splice:function(g,I){var R,P,B,c,S,w,b=n(this),A=l(b),Z=r(g,A),J=arguments.length;for(J===0?R=P=0:J===1?(R=0,P=A-Z):(R=J-2,P=x(_(a(I),0),A-Z)),f(A+R-P),B=d(b,P),c=0;c<P;c++)S=Z+c,S in b&&p(B,c,b[S]);if(B.length=P,R<P){for(c=Z;c<A-P;c++)S=c+P,w=c+R,S in b?b[w]=b[S]:v(b,w);for(c=A;c>A-P+R;c--)v(b,c-1)}else if(R>P)for(c=A-P;c>Z;c--)S=c+P-1,w=c+R-1,S in b?b[w]=b[S]:v(b,w);for(c=0;c<R;c++)b[c+Z]=arguments[c+2];return s(b,A-P+R),B}})},3710:(o,u,e)=>{var t=e(1702),n=e(8052),r=Date.prototype,a="Invalid Date",l="toString",s=t(r[l]),f=t(r.getTime);String(new Date(NaN))!=a&&n(r,l,function(){var d=f(this);return d===d?s(this):a})},6647:(o,u,e)=>{var t=e(8052),n=e(7762),r=Error.prototype;r.toString!==n&&t(r,"toString",n)},9653:(o,u,e)=>{var t=e(9781),n=e(7854),r=e(1702),a=e(4705),l=e(8052),s=e(2597),f=e(9587),d=e(7976),p=e(2190),v=e(7593),h=e(7293),y=e(8006).f,_=e(1236).f,x=e(3070).f,g=e(863),I=e(3111).trim,R="Number",P=n[R],B=P.prototype,c=n.TypeError,S=r("".slice),w=r("".charCodeAt),b=function(te){var ie=v(te,"number");return typeof ie=="bigint"?ie:A(ie)},A=function(te){var ie,Ce,se,Me,Ne,Le,Fe,Ve,pe=v(te,"number");if(p(pe))throw c("Cannot convert a Symbol value to a number");if(typeof pe=="string"&&pe.length>2){if(pe=I(pe),ie=w(pe,0),ie===43||ie===45){if(Ce=w(pe,2),Ce===88||Ce===120)return NaN}else if(ie===48){switch(w(pe,1)){case 66:case 98:se=2,Me=49;break;case 79:case 111:se=8,Me=55;break;default:return+pe}for(Ne=S(pe,2),Le=Ne.length,Fe=0;Fe<Le;Fe++)if(Ve=w(Ne,Fe),Ve<48||Ve>Me)return NaN;return parseInt(Ne,se)}}return+pe};if(a(R,!P(" 0o1")||!P("0b1")||P("+0x1"))){for(var Z,J=function(te){var ie=arguments.length<1?0:P(b(te)),Ce=this;return d(B,Ce)&&h(function(){g(Ce)})?f(Object(ie),Ce,J):ie},ue=t?y(P):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),Ie=0;ue.length>Ie;Ie++)s(P,Z=ue[Ie])&&!s(J,Z)&&x(J,Z,_(P,Z));J.prototype=B,B.constructor=J,l(n,R,J,{constructor:!0})}},1539:(o,u,e)=>{var t=e(1694),n=e(8052),r=e(288);t||n(Object.prototype,"toString",r,{unsafe:!0})},9714:(o,u,e)=>{var t=e(6530).PROPER,n=e(8052),r=e(9670),a=e(1340),l=e(7293),s=e(4706),f="toString",d=RegExp.prototype,p=d[f],v=l(function(){return p.call({source:"a",flags:"b"})!="/a/b"}),h=t&&p.name!=f;(v||h)&&n(RegExp.prototype,f,function(){var y=r(this),_=a(y.source),x=a(s(y));return"/"+_+"/"+x},{unsafe:!0})},6815:(o,u,e)=>{var t=e(2109),n=e(7854),r=e(7152).setInterval;t({global:!0,bind:!0,forced:n.setInterval!==r},{setInterval:r})},8417:(o,u,e)=>{var t=e(2109),n=e(7854),r=e(7152).setTimeout;t({global:!0,bind:!0,forced:n.setTimeout!==r},{setTimeout:r})},2564:(o,u,e)=>{e(6815),e(8417)},3744:(o,u)=>{u.Z=(e,t)=>{const n=e.__vccOpts||e;for(const[r,a]of t)n[r]=a;return n}},7203:o=>{o.exports=q}},oe={};function k(o){var u=oe[o];if(u!==void 0)return u.exports;var e=oe[o]={exports:{}};return K[o](e,e.exports,k),e.exports}k.d=(o,u)=>{for(var e in u)k.o(u,e)&&!k.o(o,e)&&Object.defineProperty(o,e,{enumerable:!0,get:u[e]})},k.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),k.o=(o,u)=>Object.prototype.hasOwnProperty.call(o,u),k.r=o=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},k.p="";var he={};return(()=>{if(k.r(he),k.d(he,{ContextMenu:()=>ot,ContextMenuGroup:()=>rt,ContextMenuItem:()=>ze,ContextMenuSeparator:()=>We,default:()=>Vt}),typeof window<"u"){var o=window.document.currentScript,u=o&&o.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);u&&(k.p=u[1])}var e=k(7203),t=null;function n(i){t&&a(),t=i}function r(i){i===t&&(t=null)}function a(){t&&(t.closeMenu(),t=null)}k(6647),k(3710),k(1539),k(9714);var l={defaultMinWidth:100,defaultMaxWidth:600,defaultZindex:100,defaultAdjustPadding:10};function s(i,m){var C=i.offsetTop;return i.offsetParent!=null&&i.offsetParent!=m&&(C-=i.offsetParent.scrollTop,C+=s(i.offsetParent,m)),C}function f(i,m){var C=i.offsetLeft;return i.offsetParent!=null&&i.offsetParent!=m&&(C-=i.offsetParent.scrollLeft,C+=f(i.offsetParent,m)),C}function d(i,m,C,T){return{x:f(i,T)+m,y:s(i,T)+C}}function p(i){var m;(m=i.parentNode)===null||m===void 0||m.removeChild(i)}var v="mx-menu-default-container";function h(i){var m=i.getContainer,C=i.zIndex;if(m){var T=typeof m=="function"?m():m;if(T)return T.style.zIndex=(C==null?void 0:C.toString())||l.defaultZindex.toString(),{container:T,isNew:!1}}var j=document.getElementById(v);return j&&document.body.removeChild(j),j=document.createElement("div"),j.setAttribute("id",v),j.setAttribute("class","mx-menu-ghost-host fullscreen"),j.style.zIndex=(C==null?void 0:C.toString())||l.defaultZindex.toString(),document.body.appendChild(j),{container:j,isNew:!0}}var y=(0,e.defineComponent)({props:{vnode:{type:[Object,Function],default:null},data:{type:Object,default:null}},setup:function(i){var m=(0,e.toRefs)(i),C=m.vnode,T=m.data;return function(){return typeof C.value=="function"?C.value(T.value):C.value}}});function _(i,m,C){return m in i?Object.defineProperty(i,m,{value:C,enumerable:!0,configurable:!0,writable:!0}):i[m]=C,i}function x(i,m){var C=Object.keys(i);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(i);m&&(T=T.filter(function(j){return Object.getOwnPropertyDescriptor(i,j).enumerable})),C.push.apply(C,T)}return C}function g(i){for(var m=1;m<arguments.length;m++){var C=arguments[m]!=null?arguments[m]:{};m%2?x(Object(C),!0).forEach(function(T){_(i,T,C[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(C)):x(Object(C)).forEach(function(T){Object.defineProperty(i,T,Object.getOwnPropertyDescriptor(C,T))})}return i}k(2564);var I={class:"mx-context-menu-scroll",ref:"scroll"};function R(i,m,C,T,j,F){var V=(0,e.resolveComponent)("ContextSubMenu",!0),me=(0,e.resolveComponent)("ContextMenuItem"),ce=(0,e.resolveComponent)("VNodeRender"),ve=(0,e.resolveComponent)("ContextMenuSeparator"),ne=(0,e.resolveComponent)("ContextMenuIconRight");return(0,e.openBlock)(),(0,e.createElementBlock)("div",{class:(0,e.normalizeClass)("mx-context-menu "+(i.options.customClass?i.options.customClass:"")+" "+i.globalTheme),style:(0,e.normalizeStyle)({maxWidth:i.maxWidth?i.maxWidth:"".concat(i.constOptions.defaultMaxWidth,"px"),minWidth:i.minWidth?i.minWidth:"".concat(i.constOptions.defaultMinWidth,"px"),maxHeight:i.overflow&&i.maxHeight>0?"".concat(i.maxHeight,"px"):void 0,zIndex:i.zIndex,left:"".concat(i.position.x,"px"),top:"".concat(i.position.y,"px")}),"data-type":"ContextSubMenu",onClick:m[2]||(m[2]=function(){return i.onSubMenuBodyClick&&i.onSubMenuBodyClick.apply(i,arguments)})},[(0,e.createElementVNode)("div",{class:"mx-context-menu-items",ref:"menu",style:(0,e.normalizeStyle)({top:"".concat(i.scrollValue,"px")})},[(0,e.renderSlot)(i.$slots,"default",{},function(){return[((0,e.openBlock)(!0),(0,e.createElementBlock)(e.Fragment,null,(0,e.renderList)(i.items,function(E,ye){return(0,e.openBlock)(),(0,e.createElementBlock)(e.Fragment,{key:ye},[(0,e.createVNode)(me,{clickHandler:E.onClick,disabled:E.disabled,hidden:E.hidden,icon:E.icon,iconFontClass:E.iconFontClass,svgIcon:E.svgIcon,svgProps:E.svgProps,label:E.label,customRender:E.customRender,customClass:E.customClass,checked:E.checked,shortcut:E.shortcut,clickClose:E.clickClose,clickableWhenHasChildren:E.clickableWhenHasChildren,preserveIconWidth:E.preserveIconWidth!==void 0?E.preserveIconWidth:i.options.preserveIconWidth,showRightArrow:E.children&&E.children.length>0,hasChildren:E.children&&E.children.length>0,onSubMenuOpen:E.onSubMenuOpen,onSubMenuClose:E.onSubMenuClose},(0,e.createSlots)({_:2},[E.children&&E.children.length>0?{name:"submenu",fn:(0,e.withCtx)(function(){return[(0,e.createVNode)(V,{items:E.children,maxWidth:E.maxWidth,minWidth:E.minWidth,adjustPosition:E.adjustSubMenuPosition!==void 0?E.adjustSubMenuPosition:i.options.adjustPosition},null,8,["items","maxWidth","minWidth","adjustPosition"])]}),key:"0"}:void 0]),1032,["clickHandler","disabled","hidden","icon","iconFontClass","svgIcon","svgProps","label","customRender","customClass","checked","shortcut","clickClose","clickableWhenHasChildren","preserveIconWidth","showRightArrow","hasChildren","onSubMenuOpen","onSubMenuClose"]),E.hidden!==!0&&E.divided&&i.globalHasSlot("separatorRender")?((0,e.openBlock)(),(0,e.createBlock)(ce,{key:0,vnode:function(){return i.globalRenderSlot("separatorRender",{})}},null,8,["vnode"])):E.hidden!==!0&&E.divided?((0,e.openBlock)(),(0,e.createBlock)(ve,{key:1})):(0,e.createCommentVNode)("",!0)],64)}),128))]})],4),(0,e.createElementVNode)("div",I,[(0,e.withDirectives)((0,e.createElementVNode)("div",{class:"mx-context-menu-updown mx-context-no-clickable up",onClick:m[0]||(m[0]=function(E){return i.onScroll(!1)})},[(0,e.createVNode)(ne)],512),[[e.vShow,i.overflow&&i.scrollValue<0]]),(0,e.withDirectives)((0,e.createElementVNode)("div",{class:"mx-context-menu-updown mx-context-no-clickable down",onClick:m[1]||(m[1]=function(E){return i.onScroll(!0)})},[(0,e.createVNode)(ne)],512),[[e.vShow,i.overflow&&i.scrollValue>-i.scrollHeight]])],512)],6)}k(9653),k(2772),k(9554),k(561);var P={key:0,class:"mx-context-menu-item-wrapper",ref:"menuItemRef","data-type":"ContextMenuItem"},B={class:"mx-item-row"},c=["xlink:href"],S={key:1,class:"label"},w={class:"mx-item-row"},b={class:"mx-shortcut"};function A(i,m,C,T,j,F){var V=(0,e.resolveComponent)("VNodeRender"),me=(0,e.resolveComponent)("ContextMenuIconCheck"),ce=(0,e.resolveComponent)("ContextMenuIconRight");return i.hidden?(0,e.createCommentVNode)("",!0):((0,e.openBlock)(),(0,e.createElementBlock)("div",P,[i.globalHasSlot("itemRender")?((0,e.openBlock)(),(0,e.createBlock)(V,{key:0,vnode:function(){return i.globalRenderSlot("itemRender",i.getItemDataForChildren())}},null,8,["vnode"])):i.customRender?((0,e.openBlock)(),(0,e.createBlock)(V,{key:1,vnode:i.customRender,data:i.getItemDataForChildren()},null,8,["vnode","data"])):((0,e.openBlock)(),(0,e.createElementBlock)("div",{key:2,class:(0,e.normalizeClass)(["mx-context-menu-item",i.disabled?"disabled":"",i.keyBoardFocusMenu?"keyboard-focus":"",i.customClass?" "+i.customClass:"",i.showSubMenu?"open":""]),onClick:m[0]||(m[0]=function(){return i.onClick&&i.onClick.apply(i,arguments)}),onMouseenter:m[1]||(m[1]=function(){return i.onMouseEnter&&i.onMouseEnter.apply(i,arguments)})},[(0,e.renderSlot)(i.$slots,"default",{},function(){return[(0,e.createElementVNode)("div",B,[(0,e.createElementVNode)("div",{class:(0,e.normalizeClass)(["mx-icon-placeholder",i.preserveIconWidth?"preserve-width":""])},[(0,e.renderSlot)(i.$slots,"icon",{},function(){return[i.globalHasSlot("itemIconRender")?((0,e.openBlock)(),(0,e.createBlock)(V,{key:0,vnode:function(){return i.globalRenderSlot("itemIconRender",i.getItemDataForChildren())}},null,8,["vnode"])):typeof i.svgIcon=="string"&&i.svgIcon?((0,e.openBlock)(),(0,e.createElementBlock)("svg",(0,e.mergeProps)({key:1,class:"icon svg"},i.svgProps),[(0,e.createElementVNode)("use",{"xlink:href":i.svgIcon},null,8,c)],16)):typeof i.icon!="string"?((0,e.openBlock)(),(0,e.createBlock)(V,{key:2,vnode:i.icon,data:i.icon},null,8,["vnode","data"])):typeof i.icon=="string"&&i.icon!==""?((0,e.openBlock)(),(0,e.createElementBlock)("i",{key:3,class:(0,e.normalizeClass)(i.icon+" icon "+i.iconFontClass+" "+i.globalIconFontClass)},null,2)):(0,e.createCommentVNode)("",!0)]}),i.checked?(0,e.renderSlot)(i.$slots,"check",{key:0},function(){return[i.globalHasSlot("itemCheckRender")?((0,e.openBlock)(),(0,e.createBlock)(V,{key:0,vnode:function(){return i.globalRenderSlot("itemCheckRender",i.getItemDataForChildren())}},null,8,["vnode"])):(0,e.createCommentVNode)("",!0),(0,e.createVNode)(me)]}):(0,e.createCommentVNode)("",!0)],2),(0,e.renderSlot)(i.$slots,"label",{},function(){return[i.globalHasSlot("itemLabelRender")?((0,e.openBlock)(),(0,e.createBlock)(V,{key:0,vnode:function(){return i.globalRenderSlot("itemLabelRender",i.getItemDataForChildren())}},null,8,["vnode"])):typeof i.label=="string"?((0,e.openBlock)(),(0,e.createElementBlock)("span",S,(0,e.toDisplayString)(i.label),1)):((0,e.openBlock)(),(0,e.createBlock)(V,{key:2,vnode:i.label,data:i.label},null,8,["vnode","data"]))]})]),(0,e.createElementVNode)("div",w,[i.shortcut?(0,e.renderSlot)(i.$slots,"shortcut",{key:0},function(){return[i.globalHasSlot("itemShortcutRender")?((0,e.openBlock)(),(0,e.createBlock)(V,{key:0,vnode:function(){return i.globalRenderSlot("itemShortcutRender",i.getItemDataForChildren())}},null,8,["vnode"])):(0,e.createCommentVNode)("",!0),(0,e.createElementVNode)("span",b,(0,e.toDisplayString)(i.shortcut),1)]}):(0,e.createCommentVNode)("",!0),i.showRightArrow?(0,e.renderSlot)(i.$slots,"rightArrow",{key:1},function(){return[i.globalHasSlot("itemRightArrowRender")?((0,e.openBlock)(),(0,e.createBlock)(V,{key:0,vnode:function(){return i.globalRenderSlot("itemRightArrowRender",i.getItemDataForChildren())}},null,8,["vnode"])):(0,e.createCommentVNode)("",!0),(0,e.createVNode)(ce)]}):(0,e.createCommentVNode)("",!0)])]})],34)),i.showSubMenu?(0,e.renderSlot)(i.$slots,"submenu",{key:3}):(0,e.createCommentVNode)("",!0)],512))}var Z={class:"mx-checked-mark","aria-hidden":"true",viewBox:"0 0 1024 1024"},J=(0,e.createElementVNode)("path",{d:"M129.3,428.6L52,512l345,372.5l575-620.8l-69.5-75L400.4,718.2L129.3,428.6z"},null,-1),ue=[J];function Ie(i,m){return(0,e.openBlock)(),(0,e.createElementBlock)("svg",Z,ue)}var te=k(3744);const ie={},Ce=(0,te.Z)(ie,[["render",Ie]]),se=Ce;var Me={class:"mx-right-arrow","aria-hidden":"true",viewBox:"0 0 1024 1024"},Ne=(0,e.createElementVNode)("path",{d:"M307.018 49.445c11.517 0 23.032 4.394 31.819 13.18L756.404 480.18c8.439 8.438 13.181 19.885 13.181 31.82s-4.741 23.38-13.181 31.82L338.838 961.376c-17.574 17.573-46.065 17.573-63.64-0.001-17.573-17.573-17.573-46.065 0.001-63.64L660.944 512 275.198 126.265c-17.574-17.573-17.574-46.066-0.001-63.64C283.985 53.839 295.501 49.445 307.018 49.445z"},null,-1),Le=[Ne];function Fe(i,m){return(0,e.openBlock)(),(0,e.createElementBlock)("svg",Me,Le)}const Ve={},pe=(0,te.Z)(Ve,[["render",Fe]]),tt=pe,St=(0,e.defineComponent)({name:"ContextMenuItem",components:{VNodeRender:y,ContextMenuIconCheck:se,ContextMenuIconRight:tt},props:{disabled:{type:Boolean,default:!1},hidden:{type:Boolean,default:!1},customRender:{type:Function,default:null},customClass:{type:String,default:""},clickHandler:{type:Function,default:null},label:{type:[String,Object,Function],default:""},icon:{type:[String,Object,Function],default:""},iconFontClass:{type:String,default:"iconfont"},checked:{type:Boolean,default:!1},shortcut:{type:String,default:""},svgIcon:{type:String,default:""},svgProps:{type:Object,default:null},preserveIconWidth:{type:Boolean,default:!0},showRightArrow:{type:Boolean,default:!1},hasChildren:{type:Boolean,default:!1},clickClose:{type:Boolean,default:!0},clickableWhenHasChildren:{type:Boolean,default:!1}},emits:["click","subMenuOpen","subMenuClose"],setup:function(i,m){var C=(0,e.toRefs)(i),T=C.clickHandler,j=C.clickClose,F=C.clickableWhenHasChildren,V=C.disabled,me=C.hidden,ce=C.label,ve=C.icon,ne=C.iconFontClass,E=C.showRightArrow,ye=C.shortcut,z=C.hasChildren,le=(0,e.ref)(!1),G=(0,e.ref)(!1),H=(0,e.ref)(),Ee=(0,e.inject)("globalHasSlot"),L=(0,e.inject)("globalRenderSlot"),re=(0,e.inject)("globalTheme"),ke=(0,e.inject)("globalIconFontClass"),Be=(0,e.inject)("globalCloseMenu"),X=(0,e.inject)("menuContext"),ge={showSubMenu:function(){le.value?X.markActiveMenuItem(ge,!0):z.value&&xe()},isDisabledOrHidden:function(){return V.value||me.value},getElement:function(){return H.value},focus:function(){return G.value=!0},blur:function(){return G.value=!1},click:we};function we(ae){V.value||ae&&ae.target.classList.contains("mx-context-no-clickable")||(z.value?F.value?(typeof T.value=="function"&&T.value(),m.emit("click")):le.value||xe():(typeof T.value=="function"&&T.value(),m.emit("click"),j.value&&Be()))}function xe(ae){G.value=!1,X.checkCloseOtherSubMenuTimeOut()||X.closeOtherSubMenu(),V.value||(X.markActiveMenuItem(ge),z.value&&(ae||X.markThisOpenedByKeyBoard(),X.addOpenedSubMenu(function(){G.value=!1,le.value=!1,m.emit("subMenuClose")}),le.value=!0,m.emit("subMenuOpen")))}return(0,e.onMounted)(function(){X.isMenuItemDataCollectedFlag()?(0,e.nextTick)(function(){var ae=0,be=X.getElement();if(be)for(var Te=0,Ae=0;Ae<be.children.length;Ae++){var Re=be.children[Ae];if(Re.getAttribute("data-type")==="ContextMenuItem"){if(Re===H.value){ae=Te;break}Te++}}X.addChildMenuItem(ge,ae)}):X.addChildMenuItem(ge)}),(0,e.onBeforeUnmount)(function(){X.removeChildMenuItem(ge)}),{getItemDataForChildren:function(){return{disabled:V.value,label:ce.value,icon:ve.value,iconFontClass:ne.value,showRightArrow:E.value,clickClose:j.value,clickableWhenHasChildren:F.value,shortcut:ye.value,theme:re,isOpen:le,hasChildren:z,onClick:we,onMouseEnter:xe}},showSubMenu:le,keyBoardFocusMenu:G,menuItemRef:H,globalHasSlot:Ee,globalRenderSlot:L,globalIconFontClass:ke,onMouseEnter:xe,onClick:we}}}),It=(0,te.Z)(St,[["render",A]]),ze=It;var kt={class:"mx-context-menu-item-sperator mx-context-no-clickable"};function wt(i,m,C,T,j,F){return(0,e.openBlock)(),(0,e.createElementBlock)("div",kt)}const Ot=(0,e.defineComponent)({name:"ContextMenuSperator"}),_t=(0,te.Z)(Ot,[["render",wt]]),We=_t,Mt=(0,e.defineComponent)({name:"ContextSubMenu",components:{ContextMenuItem:ze,ContextMenuSeparator:We,VNodeRender:y,ContextMenuIconRight:tt},props:{items:{type:Object,default:null},maxWidth:{type:[String,Number],default:0},minWidth:{type:[String,Number],default:0},adjustPosition:{type:Boolean,default:!0}},setup:function(i){var m=(0,e.inject)("menuContext"),C=(0,e.inject)("globalOptions"),T=(0,e.inject)("globalHasSlot"),j=(0,e.inject)("globalRenderSlot"),F=(0,e.inject)("globalTheme"),V=((0,e.inject)("globalIsFullScreenContainer"),m.zIndex),me=m.getMyPosition,ce=m.getParentWidth,ve=(0,e.toRefs)(i),ne=ve.adjustPosition,E=(0,e.ref)(),ye=(0,e.ref)(),z=[],le=(0,e.inject)("globalSetCurrentSubMenu"),G=[],H=null,Ee=0;function L(){H&&H.blur()}function re(M,U){if(M){for(var Oe=U!==void 0?U:0;Oe<G.length;Oe++)if(!G[Oe].isDisabledOrHidden()){ke(Oe);break}}else for(var je=U!==void 0?U:G.length-1;je>=0;je--)if(!G[je].isDisabledOrHidden()){ke(je);break}}function ke(M){if(H&&L(),M!==void 0&&(H=G[Math.max(0,Math.min(M,G.length-1))]),H&&(H.focus(),Ae.value)){var U=H.getElement();U&&(ae.value=Math.min(Math.max(-be.value,-U.offsetTop-U.offsetHeight+He.value),0))}}function Be(){le(X)}var X={isTopLevel:function(){return m.getParentContext()===null},closeSelfAndActiveParent:function(){var M,U=xe.getParentContext();U&&(U.closeOtherSubMenu(),(M=U.getSubMenuInstanceContext())===null||M===void 0||M.focusCurrentItem())},closeCurrentSubMenu:function(){var M;return(M=xe.getParentContext())===null||M===void 0?void 0:M.closeOtherSubMenu()},moveCurrentItemFirst:function(){return re(!0)},moveCurrentItemLast:function(){return re(!1)},moveCurrentItemDown:function(){return re(!0,H?G.indexOf(H)+1:0)},moveCurrentItemUp:function(){return re(!1,H?G.indexOf(H)-1:0)},focusCurrentItem:function(){return ke()},openCurrentItemSubMenu:function(){var M;return(M=H)===null||M===void 0?void 0:M.showSubMenu()},triggerCurrentItemClick:function(){var M;return(M=H)===null||M===void 0?void 0:M.click()}},ge=!1,we=!1,xe={zIndex:V+1,container:m.container,adjustPadding:m.adjustPadding,getMyPosition:function(){var M={x:0,y:0};return E.value&&(M.x=E.value.offsetWidth+(C.xOffset||0)),C.yOffset&&(M.y=C.yOffset),M},getParentWidth:function(){var M;return((M=E.value)===null||M===void 0?void 0:M.offsetWidth)||0},getParentAbsY:function(){return E.value?s(E.value,m.container):0},addOpenedSubMenu:function(M){z.push(M)},closeOtherSubMenu:function(){z.forEach(function(M){return M()}),z.splice(0,z.length),le(X)},checkCloseOtherSubMenuTimeOut:function(){return!!Ee&&(clearTimeout(Ee),Ee=0,!0)},closeOtherSubMenuWithTimeOut:function(){var M=this;Ee=setTimeout(function(){Ee=0,M.closeOtherSubMenu()},200)},addChildMenuItem:function(M,U){U===void 0?G.push(M):G.splice(U,0,M)},removeChildMenuItem:function(M){G.splice(G.indexOf(M),1)},markActiveMenuItem:function(M){var U=arguments.length>1&&arguments[1]!==void 0&&arguments[1];L(),H=M,U&&ke()},markThisOpenedByKeyBoard:function(){ge=!0},isOpenedByKeyBoardFlag:function(){return!!ge&&(ge=!1,!0)},isMenuItemDataCollectedFlag:function(){return we},getElement:function(){return E.value||null},getParentContext:function(){return m},getSubMenuInstanceContext:function(){return X}};(0,e.provide)("menuContext",xe);var ae=(0,e.ref)(0),be=(0,e.ref)(0);function Te(M){ae.value=M?Math.max(ae.value-50,-be.value):Math.min(ae.value+50,0)}var Ae=(0,e.ref)(!1),Re=(0,e.ref)({x:0,y:0}),He=(0,e.ref)(0);return(0,e.onMounted)(function(){Re.value=me(),le(X),(0,e.nextTick)(function(){var M=E.value;if(ne.value&&M&&ye.value){var U=m.container,Oe=m.adjustPadding,je=document.documentElement.scrollHeight,Lt=document.documentElement.scrollWidth,zt=Math.min(Lt,U.offsetWidth),$e=Math.min(je,U.offsetHeight),Wt=f(M,U),it=s(M,U),Ht=Wt+M.offsetWidth-zt,lt=it+M.offsetHeight-$e;if(be.value=M.offsetHeight-$e+2*Oe,Ae.value=lt>0,Ht>0&&(Re.value.x-=(ce?ce():0)+M.offsetWidth-Oe),Ae.value){var Kt=Math.min(it-Oe,lt+Oe);Re.value.y-=Kt,He.value=$e-2*Oe}else He.value=0}M==null||M.focus({preventScroll:!0}),m.isOpenedByKeyBoardFlag()&&re(!0),we=!0})}),{menu:E,scroll:ye,options:C,zIndex:V,constOptions:l,scrollValue:ae,overflow:Ae,position:Re,scrollHeight:be,maxHeight:He,globalHasSlot:T,globalRenderSlot:j,globalTheme:F,onScroll:Te,onSubMenuBodyClick:Be}}}),Et=(0,te.Z)(Mt,[["render",R]]),Ke=Et,Pt=(0,e.defineComponent)({name:"ContextMenu",emits:["update:show","close"],props:{options:{type:Object,default:null},show:{type:Boolean,default:!1},container:{type:Object,default:null},isFullScreenContainer:{type:Boolean,default:!0}},setup:function(i,m){var C,T,j=(0,e.toRefs)(i),F=j.options,V=j.show,me=j.container;(0,e.onMounted)(function(){V&&ve()}),(0,e.onBeforeUnmount)(function(){ye()}),(0,e.watch)(V,function(L){L?ve():ye()});var ce={closeMenu:ne};function ve(){E(),n(ce)}function ne(){m.emit("update:show",!1),m.emit("close"),r(ce)}function E(){setTimeout(function(){document.addEventListener("click",H,!0),document.addEventListener("contextmenu",H,!0),document.addEventListener("wheel",G,!0),F.value.keyboardControl!==!1&&document.addEventListener("keydown",le)},50)}function ye(){document.removeEventListener("contextmenu",H,!0),document.removeEventListener("click",H,!0),document.removeEventListener("wheel",G,!0),F.value.keyboardControl!==!1&&document.removeEventListener("keydown",le)}m.expose({closeMenu:ne});var z=(0,e.ref)();function le(L){var re,ke,Be,X,ge,we,xe=!0;switch(L.key){case"Escape":var ae,be;((ae=z.value)===null||ae===void 0?void 0:ae.isTopLevel())===!1?(be=z.value)===null||be===void 0||be.closeCurrentSubMenu():ne();break;case"ArrowDown":(re=z.value)===null||re===void 0||re.moveCurrentItemDown();break;case"ArrowUp":(ke=z.value)===null||ke===void 0||ke.moveCurrentItemUp();break;case"Home":(Be=z.value)===null||Be===void 0||Be.moveCurrentItemFirst();break;case"End":(X=z.value)===null||X===void 0||X.moveCurrentItemLast();break;case"ArrowLeft":var Te;(Te=z.value)===null||Te===void 0||Te.closeSelfAndActiveParent();break;case"ArrowRight":(ge=z.value)===null||ge===void 0||ge.openCurrentItemSubMenu();break;case"Enter":(we=z.value)===null||we===void 0||we.triggerCurrentItemClick();break;default:xe=!1;break}xe&&z.value&&(L.stopPropagation(),L.preventDefault())}function G(){F.value.closeWhenScroll!==!1&&ne()}function H(L){Ee(L.target)}function Ee(L){for(;L;){if(L.classList&&L.classList.contains("mx-menu-host"))return;L=L.parentNode}ye(),ne()}return(0,e.provide)("globalSetCurrentSubMenu",function(L){return z.value=L}),(0,e.provide)("globalOptions",F.value),(0,e.provide)("globalCloseMenu",ne),(0,e.provide)("globalTheme",((C=F.value)===null||C===void 0?void 0:C.theme)||"light"),(0,e.provide)("globalIsFullScreenContainer",i.isFullScreenContainer),(0,e.provide)("globalIconFontClass",((T=F.value)===null||T===void 0?void 0:T.iconFontClass)||"iconfont"),(0,e.provide)("globalHasSlot",function(L){return m.slots[L]!==void 0}),(0,e.provide)("globalRenderSlot",function(L,re){return(0,e.renderSlot)(m.slots,L,g({},re))}),(0,e.provide)("menuContext",{zIndex:F.value.zIndex||l.defaultZindex,container:me.value,adjustPadding:F.value.adjustPadding||l.defaultAdjustPadding,getParentAbsY:function(){return F.value.y},getMyPosition:function(){return{x:F.value.x,y:F.value.y}},getParentWidth:function(){return 0},closeOtherSubMenuWithTimeOut:function(){},checkCloseOtherSubMenuTimeOut:function(){return!1},addOpenedSubMenu:function(){},closeOtherSubMenu:function(){},getParentContext:function(){return null},getSubMenuInstanceContext:function(){return null},getElement:function(){return null},addChildMenuItem:function(){},removeChildMenuItem:function(){},markActiveMenuItem:function(){},markThisOpenedByKeyBoard:function(){},isOpenedByKeyBoardFlag:function(){return!1},isMenuItemDataCollectedFlag:function(){return!1}}),function(){var L,re;return V.value?[(0,e.h)("div",{class:"mx-menu-ghost-host"},[(0,e.h)(Ke,{class:"mx-menu-host",items:(L=F.value)===null||L===void 0?void 0:L.items,adjustPosition:(re=F.value)===null||re===void 0?void 0:re.adjustPosition,maxWidth:F.value.maxWidth||l.defaultMaxWidth,minWidth:F.value.minWidth||l.defaultMinWidth},{default:m.slots.default})])]:[]}}}),Dt=Pt,nt=Dt,Tt=(0,e.defineComponent)({name:"ContextMenu",emits:["update:show","close"],props:{options:{type:Object,default:null},show:{type:Boolean,default:!1}},setup:function(i,m){var C=(0,e.toRefs)(i),T=C.options,j=C.show,F=null,V=!1;function me(){var ve=h(T.value),ne=ve.container,E=ve.isNew,ye=(0,e.h)(nt,{options:T,show:!0,container:ne,isFullScreenContainer:!E,"onUpdate:show":function(z){return m.emit("update:show",z)},onClose:function(){var z,le;(0,e.render)(null,ne),(z=(le=T.value).onClose)===null||z===void 0||z.call(le),m.emit("close")}},m.slots);V=E,F=ne,(0,e.render)(ye,ne)}function ce(){F&&(V&&p(F),F=null)}return(0,e.watch)(j,function(ve){ve?me():ce()}),m.expose({closeMenu:ce}),function(){return[]}}}),At=Tt,ot=At;function Ue(i){return Ue=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},Ue(i)}const Bt=(0,e.defineComponent)({name:"ContextMenuGroup",props:{disabled:{type:Boolean,default:!1},hidden:{type:Boolean,default:!1},clickHandler:{type:Function,default:null},label:{type:String,default:""},icon:{type:String,default:""},iconFontClass:{type:String,default:"iconfont"},checked:{type:Boolean,default:!1},shortcut:{type:String,default:""},svgIcon:{type:String,default:""},svgProps:{type:Object,default:null},preserveIconWidth:{type:Boolean,default:!0},showRightArrow:{type:Boolean,default:!1},clickClose:{type:Boolean,default:!0},adjustSubMenuPosition:{type:Boolean,default:void 0},maxWidth:{type:[String,Number],default:0},minWidth:{type:[String,Number],default:0}},setup:function(i,m){var C=(0,e.inject)("globalOptions"),T=(0,e.toRefs)(i),j=T.adjustSubMenuPosition,F=T.maxWidth,V=T.minWidth,me=typeof j.value<"u"?j.value:C.adjustPosition;return function(){return(0,e.h)(ze,g(g({},i),{},{showRightArrow:!0,maxWidth:void 0,minWidth:void 0,adjustSubMenuPosition:void 0,hasChildren:Ue(m.slots.default)!==void 0}),m.slots.default?{submenu:function(){return(0,e.h)(Ke,{maxWidth:F.value,minWidth:V.value,adjustPosition:me},{default:m.slots.default})}}:void 0)}}}),Rt=Bt,rt=Rt;function Nt(i,m,C,T){var j=(0,e.h)(nt,{options:i,show:!0,container:m,isFullScreenContainer:!C,onClose:function(){var F;(0,e.render)(null,m),(F=i.onClose)===null||F===void 0||F.call(i)}},T);return(0,e.render)(j,m),j.component}function at(i,m){var C=h(i),T=Nt(i,C.container,C.isNew,m);return T.exposed}const Ft={install:function(i){i.config.globalProperties.$contextmenu=at,i.component("ContextMenu",ot),i.component("ContextMenuItem",ze),i.component("ContextMenuGroup",rt),i.component("ContextMenuSperator",We),i.component("ContextMenuSeparator",We),i.component("ContextSubMenu",Ke)},showContextMenu:function(i,m){return at(i,m)},closeContextMenu:a,transformMenuPosition:d},jt=Ft,Vt=jt})(),he})())})(yn);const bn=qt(Xe);const Cn={class:"col-12 col-xl-4 mt-4 mt-xl-0"},xn={__name:"index",setup(De){const $=Q(_e.havePermission(N.permissions.organization.createEdit)||_e.havePermission(N.permissions.organization.submit)||_e.havePermission(N.permissions.organization.approve));Qt(async()=>{t.value=!0;const c=await an.getById(4);D.validateResponse(c,null,()=>{if(D.isDate(c.data.value)){if(c.data.value.includes("/")){let w=c.data.value.split(" ")[0].split("/");a.value=new Date(`${w[2]}/${w[1]}/${w[0]}`)}if(c.data.value.includes("-")){let w=c.data.value.split("T")[0].split("-");a.value=new Date(`${w[1]}/${w[2]}/${w[0]}`)}}else a.value=new Date(c.data.value)}),t.value=!1}),Qe(async()=>{K.isOnPage=!0,q.on(W.emitter.OPEN_SUMMARY_CLICK,c=>{K.setSelectedItem(c.item),o.value=c.itemKey,e.value=!0}),q.on(W.emitter.CLOSE_SUMMARY_CLICK,()=>{K.resetSelectedItem(),o.value="",e.value=!1}),q.on(W.emitter.OPEN_CONTEXT_MENU,c=>{const S=s(c);bn.showContextMenu({x:c.e.x,y:c.e.y,items:S})}),await B()}),pt(()=>{K.isOnPage=!1,q.off(W.emitter.OPEN_SUMMARY_CLICK),q.off(W.emitter.CLOSE_SUMMARY_CLICK),q.off(W.emitter.OPEN_CONTEXT_MENU),q.off(W.emitter.OPENALL),K.resetSelectedItem()});const q=qe(),K=Je(),oe=mt(),k="date-picker",he=vt();ln();var o=Q("");Q(0);var u=Q(0),e=Q(!1),t=Q(!0),n=Q(null),r=new Date,a=Q(null);r.setDate(r.getDate()-1);var l=Q(K.itemList);Q(null);function s(c){var S=[];if(S.push({label:"Abrir tudo",onClick:()=>v(c.uuid)}),c.isOpen&&S.push({label:"Fechar tudo",onClick:()=>h(c.uuid)}),D.formatDate(c.date,"DDMMyyyy")===D.formatDate(new Date,"DDMMyyyy"))switch(c.item.typeId){case N.organicEnum.entity:K.lastItemKey=c.itemKey,S.push({label:"Ver detalhe",onClick:()=>f(c.item)}),c.item.canHaveServices&&_e.havePermissionOrganization(N.permissions.organization.createEdit,c.item.id)&&S.push({label:"Criar serviço",onClick:()=>g(c.item)}),c.item.canHavePointsOfCare&&_e.havePermissionOrganization(N.permissions.organization.createEdit,c.item.id)&&S.push({label:"Criar ponto de atendimento",onClick:()=>I(c.item)}),_e.havePermissionOrganization(N.permissions.organization.createEdit,c.item.id)&&S.push({label:"Criar sub-entidade",onClick:()=>R(c.item)});break;case N.organicEnum.service:S.push({label:"Ver detalhe",onClick:()=>d(c.item)});break;case N.organicEnum.servicePoint:S.push({label:"Ver detalhe",onClick:()=>seePointOfCareDetail(c.item)}),_e.havePermissionOrganization(N.permissions.pointOfCare.createEdit,c.item.parent.id)&&S.push({label:"Associar serviço",onClick:()=>p(c.item)});break;case N.organicEnum.folder:let w=c.item.parent.id;_e.havePermissionOrganization(N.permissions.pointOfCare.createEdit,w)&&c.item.name=="Pontos de Atendimento"&&S.push({label:"Criar ponto de atendimento",onClick:()=>I(c.item.parent)}),_e.havePermissionOrganization(N.permissions.service.createEdit,c.item.parent.id)&&c.item.name=="Serviços"&&c.item.parentTypeId==N.organicEnum.entity&&S.push({label:"Criar serviço",onClick:()=>g(c.item.parent)});break}return S}function f(c){oe.push({name:W.router.BACKOFFICE_DETAIL_ENTITY_PAGE.name,params:{organizationId:D.encodeId(c.id),organizationVersion:D.encodeId(c.version),organicOrigin:!0}})}function d(c){oe.push({name:W.router.BACKOFFICE_DETAIL_SERVICE_PAGE.name,params:{serviceId:D.encodeId(c.id),serviceVersion:D.encodeId(c.version),organicOrigin:!0}})}function p(c){oe.push({name:W.router.BACKOFFICE_DETAIL_POINT_OF_CARE_PAGE.name,params:{pointOfCareId:D.encodeId(c.id),pointOfCareVersion:D.encodeId(c.version),organicOrigin:!0,association:!0}})}function v(c){q.emit(W.emitter.OPENALL,c)}function h(c){q.emit(W.emitter.CLOSEALL,c)}function y(){n.value=null,D.showModalById(k)}function _(){if(l.value.find(S=>D.formatDate(S.date,"DDMMyyyy")===D.formatDate(n.value,"DDMMyyyy"))){n.value=null,rn.warning(he.common.duplicatedDate);return}K.addItem({id:`tab${D.formatDate(n.value,"DDMMyyyy")}`,name:D.formatDate(n.value),date:n.value,showSearch:!1,showIconClose:!0,tree:null}),l.value=K.itemList,window.setTimeout(function(){document.querySelectorAll(".nav-tabs button.nav-link").forEach(w=>{const b=new st(w);w.addEventListener("click",A=>{A.preventDefault(),b.show(),q.emit(W.emitter.TAB_CLICK,b)}),w.id==`tab${D.formatDate(n.value,"DDMMyyyy")}-tab`&&(b.show(),q.emit(W.emitter.TAB_CLICK,b))}),n.value=null},100)}function x(c){var S=K.revomeItemById(c);S&&window.setTimeout(function(){document.querySelectorAll(".nav-tabs button.nav-link").forEach(b=>{if(b.id==`tab${D.formatDate(new Date,"DDMMyyyy")}-tab`){const A=new st(b);A.show(),q.emit(W.emitter.TAB_CLICK,A)}}),l.value=K.itemList},0)}async function g(c){t.value=!0;const S={id:c.id,version:c.version},w=await xt.create(sn.newForm(S));D.validateResponseAsync(w,null,async()=>{const b=D.encodeId(w.data.serviceId),A=D.encodeId(w.data.serviceVersion);oe.push({name:W.router.BACKOFFICE_EDIT_ENTITY_SERVICE_PAGE.name,params:{serviceId:b,serviceVersion:A,organizationId:D.encodeId(c.id),organizationVersion:D.encodeId(c.version),organicOrigin:!0}})}),t.value=!1}async function I(c){t.value=!0;const S={id:c.id,version:c.version},w=await Ct.create(dn.newForm(S));D.validateResponseAsync(w,null,async()=>{const b=D.encodeId(w.data.pointOfCareId),A=D.encodeId(w.data.pointOfCareVersion);oe.push({name:W.router.BACKOFFICE_EDIT_ENTITY_POINT_OF_CARE_PAGE.name,params:{pointOfCareId:b,pointOfCareVersion:A,organizationId:D.encodeId(c.id),organizationVersion:D.encodeId(c.version),organicOrigin:!0}})}),t.value=!1}async function R(c){t.value=!0;const S={id:c.id,version:c.version},w=await bt.create(cn.newForm(S));D.validateResponseAsync(w,null,async()=>{const b=D.encodeId(w.data.organizationId),A=D.encodeId(w.data.organizationVersion);oe.push({name:W.router.BACKOFFICE_EDIT_ENTITY_PAGE.name,params:{organizationId:b,organizationVersion:A,organicOrigin:!0}})}),t.value=!1}const P=dt(()=>he.backoffice.organic.infoDate.replace("{0}",D.formatDate(a.value)));async function B(){t.value=!0;let c=await et.getIcons();D.validateResponseAsync(c,null,async()=>{K.iconList=c.data}),t.value=!1}return(c,S)=>{const w=ee("tab-content"),b=ee("plus-tab-item"),A=ee("tabs"),Z=ee("card"),J=ee("row"),ue=ee("page"),Ie=ee("form-field"),te=ee("alert"),ie=ee("cbutton"),Ce=ee("modal");return fe(),Ge(Ze,null,[Y(ue,{title:c._lang.backoffice.organic.pageTitle},{default:de(()=>[Y(J,null,{default:de(()=>[Pe("div",{class:yt([{"col-xl-8":O(e)},"col-12"])},[$.value?(fe(),Se(A,{isChildOfProps:!0,key:O(u),onIconCloseClick:x},en({default:de(()=>[(fe(!0),Ge(Ze,null,tn(O(l),(se,Me)=>(fe(),Se(w,{key:Me,id:se.id,title:se.name,active:Me==0,disabled:!1,showIconClose:se.showIconClose},{default:de(()=>[Y(ct,{selectedNode:O(o),date:se.date,showSearch:se.showSearch,index:Me},null,8,["selectedNode","date","showSearch","index"])]),_:2},1032,["id","title","active","showIconClose"]))),128))]),_:2},[$.value?{name:"after",fn:de(()=>[Y(b,{onClick:y})]),key:"0"}:void 0]),1024)):(fe(),Se(Z,{key:1,shadow:!0},{body:de(()=>[Y(ct,{selectedNode:O(o),date:O(l)[0].date,showSearch:!1,index:0},null,8,["selectedNode","date"])]),_:1}))],2),nn(Pe("div",Cn,[Y(hn,{showMargin:$.value},null,8,["showMargin"])],512),[[on,O(e)]])]),_:1})]),_:1},8,["title"]),Y(Ce,{id:k,title:c._lang.common.addDate,size:O(N).modalSize.medium},{body:de(()=>[Y(J,null,{default:de(()=>[Y(Ie,{id:"startDate",class:"mb-3 col-12",modelValue:O(n),"onUpdate:modelValue":S[0]||(S[0]=se=>ht(n)?n.value=se:n=se),label:c._lang.label.date,type:O(N).inputs.datepicker,placeholder:"dd/mm/aaaa",maxDate:O(r),minDate:O(a)},null,8,["modelValue","label","type","maxDate","minDate"])]),_:1}),Y(J,null,{default:de(()=>[Pe("p",null,gt(O(P)),1),Y(te,{type:O(N).alertType.warning,text:c._lang.backoffice.organic.dateDescription},null,8,["type","text"])]),_:1})]),footer:de(()=>[Y(ie,{title:c._lang.common.confirm,"data-bs-dismiss":"modal","aria-label":"Close",onClick:_,disabled:!O(n)},null,8,["title","disabled"]),Y(ie,{title:c._lang.common.close,type:O(N).buttonType.secondary,"data-bs-dismiss":"modal","aria-label":"Close"},null,8,["title","type"])]),_:1},8,["title","size"])],64)}}},Bn=Jt(xn,[["__scopeId","data-v-dee27f23"]]);export{Bn as default};
