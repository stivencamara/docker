import{b as S,h as U,r as v,K as O,o as ne,z as V,u,j as q,k as n,c as L,l as K,w as b,n as a,t as pe,v as be,p as e,s as y,i as G,N as ge,m as ae,I as Q,y as ye,R as fe,G as N,e as H,F as de,T as J,ab as _e}from"./index-a14ad215.js";import{b as x}from"./helpers-71142cd6.js";import{s as le}from"./settings-739a4c13.js";import{s as ve}from"./service-a0c37778.js";import{u as ke}from"./service-9ca2bd37.js";import{u as Ce}from"./index.esm-97dcd533.js";import{_ as Te}from"./custom-label-b56b4a3a.js";import{t as Ie}from"./treeview-a8867c68.js";import"./index.esm-88a1129f.js";const X={search:l=>S.post("/organizations/organizationrelatedtype/search",l),getById:l=>S.get(`/organizations/organizationrelatedtype/${l}`),delete:l=>S.delete(`/organizations/organizationrelatedtype/${l}`),create:l=>S.post("/organizations/organizationrelatedtype",l),update:l=>S.put("/organizations/organizationrelatedtype",l)},Y={search:l=>S.post("/service/servicetype/search",l),getById:l=>S.get(`/service/servicetype/${l}`),delete:l=>S.delete(`/service/servicetype/${l}`),create:l=>S.post("/service/servicetype",l),update:l=>S.put("/service/servicetype",l)},Z={search:l=>S.post("/poc/channeltype/search",l),getById:l=>S.get(`/poc/channeltype/${l}`),delete:l=>S.delete(`/poc/channeltype/${l}`),create:l=>S.post("/poc/channeltype",l),update:l=>S.put("/poc/channeltype",l)},ee={search:l=>S.post("/service/servicecategory/search",l),getById:l=>S.get(`/service/servicecategory/${l}`),delete:l=>S.delete(`/service/servicecategory/${l}`),create:l=>S.post("/service/servicecategory",l),update:l=>S.put("/service/servicecategory",l)},te={search:l=>S.post("/service/recipienttype/search",l),getById:l=>S.get(`/service/recipienttype/${l}`),delete:l=>S.delete(`/service/recipienttype/${l}`),create:l=>S.post("/service/recipienttype",l),update:l=>S.put("/service/recipienttype",l)},ce={search:l=>S.post("/settings/checklist/search",l),getById:l=>S.get(`/settings/checklist/${l}`),delete:l=>S.delete(`/settings/checklist/${l}`),create:l=>S.post("/settings/checklist",l),update:l=>S.put("/settings/checklist",l)},he={__name:"delete-modal",props:{modelValue:{type:[Number,String,Boolean,Object]},itsNew:{type:Boolean,default:!0}},emits:["update:modelValue","updated"],setup(l,{emit:T}){const m=l,_="confirm-delete",k=U();v([]),v("pt");let d=v("Eliminar"),s=v("Eliminar?"),o,h,P;O(async()=>{}),ne(()=>{k.on(V.emitter.PARAMS_CONFIRM_DELETE,I=>{d.value=I.modalTitle,o=I.service,h=I.itemId,P=I.search,u.showModalById(_)})}),q({get(){return m.modelValue},set(I){T("update:modelValue",I)}});function c(){u.closeModalById(_)}async function z(){let I=await o.delete(h);u.validateResponse(I,"Eliminado com sucesso",()=>{P(),u.closeModalById(_)})}return(I,C)=>{const i=n("row"),g=n("cbutton"),j=n("modal");return L(),K(j,{id:_,title:e(d),size:e(y).modalSize.medium,"remove-padding":!1},{body:b(()=>[a(i,null,{default:b(()=>[pe(be(e(s)),1)]),_:1})]),footer:b(()=>[a(g,{type:e(y).buttonType.link,class:"ms-auto",title:I._lang.common.cancel,onClick:c,size:e(y).buttonSize.medium,disabled:!1},null,8,["type","title","size"]),a(g,{type:e(y).buttonType.primary,title:I._lang.common.delete,onClick:z,size:e(y).buttonSize.medium,disabled:!1},null,8,["type","title","size"])]),_:1},8,["title","size"])}}},we={class:"col-12 mb-3"},je={__name:"edit-modal",props:{modelValue:{type:[Number,String,Boolean,Object]}},emits:["update:modelValue"],setup(l,{emit:T}){const m=l,_="edit",k=U(),d=ke();let s=v([]),o=v("pt"),h=v("Eliminar"),P,c,z=v(!1),I=v(!1),C=v(!1),i=v("name"),g=v("description"),j=v(F());const t=G(),r={texts:{$each:x.forEachField([i.value])}},w=Ce(r,j);O(async()=>{await A()}),ne(()=>{k.on(V.emitter.PARAMS_EDIT,async f=>{i.value=f.value1??"name",g.value=f.value2??"description",h.value=f.modalTitle,P=f.service,j.value=f.form,c=f.search,z.value=f.itsNew,I.value=f.haveParent,u.showModalById(_),w.value.$reset(),I.value&&await M()})}),q({get(){return m.modelValue},set(f){T("update:modelValue",f)}});async function A(){let f=await le.getLanguages();u.validateResponse(f,null,()=>{s.value=f.data})}function p(){u.closeModalById(_)}async function B(){if(C.value=!0,await w.value.$validate(),w.value.$error)fe.warning(t.common.objectParamsRequired.replace("{0}",t.label[i.value]));else if(z.value){let f=await P.create(j.value);u.validateResponse(f,"Criado com sucesso",()=>{c(),u.closeModalById(_)})}else{let f=await P.update(j.value);u.validateResponse(f,"Guardado com sucesso",()=>{c(),u.closeModalById(_)})}C.value=!1}const R=q({get(){return x.getFieldByLangAndName(j.value,o.value,i.value)},set(f){x.setFieldByLangAndName(j.value,o.value,i.value,f)}}),E=q({get(){return x.getFieldByLangAndName(j.value,o.value,g.value)},set(f){x.setFieldByLangAndName(j.value,o.value,g.value,f)}});function F(){return{texts:[{language:"pt",[i.value]:null,[g.value]:null},{language:"en",[i.value]:null,[g.value]:null}]}}async function M(){C.value=!0;const f=await ve.getLists(o.value);u.validateResponse(f,null,()=>{d.setLists(f.data)}),C.value=!1}return ge(()=>o.value,async()=>{I.value&&await M()}),(f,D)=>{const re=n("lang-selector"),ie=n("row"),ue=n("table-actions"),$=n("form-field"),se=n("cbutton"),me=n("modal");return L(),K(me,{id:_,title:e(h),size:e(y).modalSize.extraLarge,"remove-padding":!1},{body:b(()=>[a(ue,null,{default:b(()=>[a(ie,null,{default:b(()=>[ae("div",we,[a(re,{options:e(s),selectedLang:e(o),"onUpdate:selectedLang":D[0]||(D[0]=W=>Q(o)?o.value=W:o=W),disabled:!1},null,8,["options","selectedLang"])])]),_:1})]),_:1}),a(ie,null,{default:b(()=>[a($,{id:"value1Computed",class:"mb-3 col-12 col-md-6",modelValue:e(R),"onUpdate:modelValue":D[1]||(D[1]=W=>Q(R)?R.value=W:null),label:f._lang.label[e(i)],disabled:e(C),type:e(y).inputs.text,language:e(o),showError:f._showErrorFieldWhenTexts(e(w).texts,e(i)),"error-message":f._errorMessageFieldWhenTexts(e(w).texts,e(i))},null,8,["modelValue","label","disabled","type","language","showError","error-message"]),e(I)?(L(),K($,{key:0,id:"serviceCategoryParent",class:"mb-3 col-12 col-md-6",modelValue:e(j).serviceCategoryParentId,"onUpdate:modelValue":D[2]||(D[2]=W=>e(j).serviceCategoryParentId=W),label:f._lang.label.serviceCategoryParent,disabled:e(C),type:e(y).inputs.multiselect,options:e(d).serviceCategoryList},null,8,["modelValue","label","disabled","type","options"])):ye("",!0),a($,{id:"value2Computed",class:"mb-3 col-12 col-md-6",modelValue:e(E),"onUpdate:modelValue":D[3]||(D[3]=W=>Q(E)?E.value=W:null),label:f._lang.label[e(g)],disabled:e(C),type:e(y).inputs.text,language:e(o)},null,8,["modelValue","label","disabled","type","language"])]),_:1})]),footer:b(()=>[a(se,{type:e(y).buttonType.link,class:"ms-auto",title:f._lang.common.cancel,onClick:p,size:e(y).buttonSize.medium,disabled:e(C)},null,8,["type","title","size","disabled"]),a(se,{type:e(y).buttonType.primary,title:f._lang.common.save,onClick:B,size:e(y).buttonSize.medium,disabled:e(C)},null,8,["type","title","size","disabled"])]),_:1},8,["title","size"])}}},Se={class:"col-12 hstack gap-2 mt-3"},oe={__name:"search",props:{value1:{type:String,default:"name"},value2:{type:String,default:"description"},createFilterModel:{type:Function}},emits:["applyClick","clearClick"],setup(l,{emit:T}){const m=l;var _=N(m.createFilterModel());O(async()=>{}),ne(()=>{});function k(){T("applyClick",_)}function d(){Object.assign(_,m.createFilterModel()),T("clearClick")}return(s,o)=>{const h=n("form-field"),P=n("row"),c=n("cbutton");return L(),H(de,null,[a(P,null,{default:b(()=>[a(h,{id:"value1",class:"mb-3 col-12 col-md-6",modelValue:e(_)[m.value1],"onUpdate:modelValue":o[0]||(o[0]=z=>e(_)[m.value1]=z),label:s._lang.label[m.value1],disabled:!1,type:e(y).inputs.text},null,8,["modelValue","label","type"]),a(h,{id:"value2",class:"mb-3 col-12 col-md-6",modelValue:e(_)[m.value2],"onUpdate:modelValue":o[1]||(o[1]=z=>e(_)[m.value2]=z),label:s._lang.label[m.value2],disabled:!1,type:e(y).inputs.text},null,8,["modelValue","label","type"])]),_:1}),a(P,null,{default:b(()=>[ae("div",Se,[a(c,{type:e(y).buttonType.link,class:"ms-auto",title:s._lang.common.clear,onClick:d,size:e(y).buttonSize.medium,disabled:m.disabled||m.disabledClearButton},null,8,["type","title","size","disabled"]),a(c,{type:e(y).buttonType.primary,title:s._lang.common.apply,onClick:k,size:e(y).buttonSize.medium,disabled:m.disabled},null,8,["type","title","size","disabled"])])]),_:1})],64)}}},Pe={__name:"index",setup(l){const T=U(),m=G();let _=v(u.uuid()),k=v(u.createEmptyDataSource()),d=N(o());N(g());let s=v(!1);O(async()=>{await c()});function o(){return{pageNumber:1,sortBy:"OrganizationRelatedTypeId",organizationRelatedTypeIds:[],name:null,description:null}}async function h(t){Object.assign(d,t),c()}async function P(){Object.assign(d,o()),c()}async function c(){s.value=!0;let t=await X.search(d);u.validateResponse(t,null,async()=>{k.value=t.data,k.value.items=t.data.items.map(r=>({organizationRelatedTypeId:r.organizationRelatedTypeId,name:r.texts[0].name,description:r.texts[0].description}))}),s.value=!1}async function z(t){d.sortBy=t,await c()}async function I(t){d.pageNumber=t,await c()}async function C(t){s.value=!0;let r=await X.getById(t.organizationRelatedTypeId);u.validateResponse(r,null,async()=>{const w={form:r.data,service:X,modalTitle:m.backoffice.objectParams.organizationRelatedType.title,search:c,itsNew:!1};T.emit(V.emitter.PARAMS_EDIT,w)}),s.value=!1}function i(){const t={form:g(),service:X,modalTitle:m.backoffice.objectParams.organizationRelatedType.title,search:c,itsNew:!0};T.emit(V.emitter.PARAMS_EDIT,t)}function g(){return{texts:[{language:"pt",name:null,description:null},{language:"en",name:null,description:null}]}}function j(t){const r={itemId:t.organizationRelatedTypeId,service:X,modalTitle:m.backoffice.objectParams.organizationRelatedType.title,search:c};T.emit(V.emitter.PARAMS_CONFIRM_DELETE,r)}return(t,r)=>{const w=n("cbutton"),A=n("table-actions"),p=n("ccolumn"),B=n("table-action-edit"),R=n("table-action-delete"),E=n("ctable"),F=n("accordion");return L(),H("div",null,[a(F,{id:e(_),title:t._lang.backoffice.objectParams.organizationRelatedType.title,collapsed:!1,class:"mb-4"},{default:b(()=>[a(A,null,{default:b(()=>[a(w,{target:"create-contact",class:"d-inline",type:e(y).buttonType.secondary,title:t._lang.common.toAdd,disabled:!1,icon:J,onClick:i},null,8,["type","title"])]),_:1}),a(oe,{onApplyClick:h,onClearClick:P,createFilterModel:o}),a(E,{onSort:z,onChangePage:I,data:e(k),checkbox:!1,loading:e(s),defaultSort:"OrganizationRelatedTypeId"},{columns:b(()=>[a(p,{name:t._lang.label.name,field:"name",sortable:!0},null,8,["name"]),a(p,{name:t._lang.label.description,field:"description",sortable:!1},null,8,["name"])]),actions:b(M=>[a(B,{onClick:f=>C(M.item)},null,8,["onClick"]),a(R,{onClick:f=>j(M.item)},null,8,["onClick"])]),_:1},8,["data","loading"])]),_:1},8,["id","title"])])}}},ze={__name:"index",setup(l){const T=U(),m=G();let _=v(u.uuid()),k=v(u.createEmptyDataSource()),d=N(o());N(g());let s=v(!1);O(async()=>{await c()});function o(){return{pageNumber:1,sortBy:"channelTypeId",channelTypeIds:[],name:null,description:null}}async function h(t){Object.assign(d,t),c()}async function P(){Object.assign(d,o()),c()}async function c(){s.value=!0;let t=await Z.search(d);u.validateResponse(t,null,async()=>{k.value=t.data,k.value.items=t.data.items.map(r=>({channelTypeId:r.channelTypeId,name:r.texts[0].name,description:r.texts[0].description}))}),s.value=!1}async function z(t){d.sortBy=t,await c()}async function I(t){d.pageNumber=t,await c()}async function C(t){s.value=!0;let r=await Z.getById(t.channelTypeId);u.validateResponse(r,null,async()=>{const w={form:r.data,service:Z,modalTitle:m.backoffice.objectParams.channelType.title,search:c,itsNew:!1};T.emit(V.emitter.PARAMS_EDIT,w)}),s.value=!1}function i(){const t={form:g(),service:Z,modalTitle:m.backoffice.objectParams.channelType.title,search:c,itsNew:!0};T.emit(V.emitter.PARAMS_EDIT,t)}function g(){return{texts:[{language:"pt",name:null,description:null},{language:"en",name:null,description:null}]}}function j(t){const r={itemId:t.channelTypeId,service:Z,modalTitle:m.backoffice.objectParams.channelType.title,search:c};T.emit(V.emitter.PARAMS_CONFIRM_DELETE,r)}return(t,r)=>{const w=n("cbutton"),A=n("table-actions"),p=n("ccolumn"),B=n("table-action-edit"),R=n("table-action-delete"),E=n("ctable"),F=n("accordion");return L(),H("div",null,[a(F,{id:e(_),title:t._lang.backoffice.objectParams.channelType.title,collapsed:!1,class:"mb-4"},{default:b(()=>[a(A,null,{default:b(()=>[a(w,{target:"create-contact",class:"d-inline",type:e(y).buttonType.secondary,title:t._lang.common.toAdd,disabled:!1,icon:J,onClick:i},null,8,["type","title"])]),_:1}),a(oe,{onApplyClick:h,onClearClick:P,createFilterModel:o}),a(E,{onSort:z,onChangePage:I,data:e(k),checkbox:!1,loading:e(s),defaultSort:"channelTypeId"},{columns:b(()=>[a(p,{name:t._lang.label.name,field:"name",sortable:!0},null,8,["name"]),a(p,{name:t._lang.label.description,field:"description",sortable:!1},null,8,["name"])]),actions:b(M=>[a(B,{onClick:f=>C(M.item)},null,8,["onClick"]),a(R,{onClick:f=>j(M.item)},null,8,["onClick"])]),_:1},8,["data","loading"])]),_:1},8,["id","title"])])}}},Ae={__name:"index",setup(l){const T=U(),m=G();let _=v(u.uuid()),k=v(u.createEmptyDataSource()),d=N(o());N(g());let s=v(!1);O(async()=>{await c()});function o(){return{pageNumber:1,sortBy:"recipientTypeId",recipientTypeIds:[],name:null,description:null}}async function h(t){Object.assign(d,t),c()}async function P(){Object.assign(d,o()),c()}async function c(){s.value=!0;let t=await te.search(d);u.validateResponse(t,null,async()=>{k.value=t.data,k.value.items=t.data.items.map(r=>({recipientTypeId:r.recipientTypeId,name:r.texts[0].name,description:r.texts[0].description}))}),s.value=!1}async function z(t){d.sortBy=t,await c()}async function I(t){d.pageNumber=t,await c()}async function C(t){s.value=!0;let r=await te.getById(t.recipientTypeId);u.validateResponse(r,null,async()=>{const w={form:r.data,service:te,modalTitle:m.backoffice.objectParams.recipientType.title,search:c,itsNew:!1};T.emit(V.emitter.PARAMS_EDIT,w)}),s.value=!1}function i(){const t={form:g(),service:te,modalTitle:m.backoffice.objectParams.recipientType.title,search:c,itsNew:!0};T.emit(V.emitter.PARAMS_EDIT,t)}function g(){return{texts:[{language:"pt",name:null,description:null},{language:"en",name:null,description:null}]}}function j(t){const r={itemId:t.recipientTypeId,service:te,modalTitle:m.backoffice.objectParams.recipientType.title,search:c};T.emit(V.emitter.PARAMS_CONFIRM_DELETE,r)}return(t,r)=>{const w=n("cbutton"),A=n("table-actions"),p=n("ccolumn"),B=n("table-action-edit"),R=n("table-action-delete"),E=n("ctable"),F=n("accordion");return L(),H("div",null,[a(F,{id:e(_),title:t._lang.backoffice.objectParams.recipientType.title,collapsed:!1,class:"mb-4"},{default:b(()=>[a(A,null,{default:b(()=>[a(w,{target:"create-contact",class:"d-inline",type:e(y).buttonType.secondary,title:t._lang.common.toAdd,disabled:!1,icon:J,onClick:i},null,8,["type","title"])]),_:1}),a(oe,{onApplyClick:h,onClearClick:P,createFilterModel:o}),a(E,{onSort:z,onChangePage:I,data:e(k),checkbox:!1,loading:e(s),defaultSort:"recipientTypeId"},{columns:b(()=>[a(p,{name:t._lang.label.name,field:"name",sortable:!0},null,8,["name"]),a(p,{name:t._lang.label.description,field:"description",sortable:!1},null,8,["name"])]),actions:b(M=>[a(B,{onClick:f=>C(M.item)},null,8,["onClick"]),a(R,{onClick:f=>j(M.item)},null,8,["onClick"])]),_:1},8,["data","loading"])]),_:1},8,["id","title"])])}}},Be={__name:"index",setup(l){const T=U(),m=G();let _=v(u.uuid()),k=v(u.createEmptyDataSource()),d=N(o());N(g());let s=v(!1);O(async()=>{await c()});function o(){return{pageNumber:1,sortBy:"serviceTypeId",serviceTypeIds:[],name:null,description:null}}async function h(t){Object.assign(d,t),c()}async function P(){Object.assign(d,o()),c()}async function c(){s.value=!0;let t=await Y.search(d);u.validateResponse(t,null,async()=>{k.value=t.data,k.value.items=t.data.items.map(r=>({serviceTypeId:r.serviceTypeId,name:r.texts[0].name,description:r.texts[0].description}))}),s.value=!1}async function z(t){d.sortBy=t,await c()}async function I(t){d.pageNumber=t,await c()}async function C(t){s.value=!0;let r=await Y.getById(t.serviceTypeId);u.validateResponse(r,null,async()=>{const w={form:r.data,service:Y,modalTitle:m.backoffice.objectParams.channelType.title,search:c,itsNew:!1};T.emit(V.emitter.PARAMS_EDIT,w)}),s.value=!1}function i(){const t={form:g(),service:Y,modalTitle:m.backoffice.objectParams.channelType.title,search:c,itsNew:!0};T.emit(V.emitter.PARAMS_EDIT,t)}function g(){return{texts:[{language:"pt",name:null,description:null},{language:"en",name:null,description:null}]}}function j(t){const r={itemId:t.serviceTypeId,service:Y,modalTitle:m.backoffice.objectParams.channelType.title,search:c};T.emit(V.emitter.PARAMS_CONFIRM_DELETE,r)}return(t,r)=>{const w=n("cbutton"),A=n("table-actions"),p=n("ccolumn"),B=n("table-action-edit"),R=n("table-action-delete"),E=n("ctable"),F=n("accordion");return L(),H("div",null,[a(F,{id:e(_),title:t._lang.backoffice.objectParams.serviceType.title,collapsed:!1,class:"mb-4"},{default:b(()=>[a(A,null,{default:b(()=>[a(w,{target:"create-contact",class:"d-inline",type:e(y).buttonType.secondary,title:t._lang.common.toAdd,disabled:!1,icon:J,onClick:i},null,8,["type","title"])]),_:1}),a(oe,{onApplyClick:h,onClearClick:P,createFilterModel:o}),a(E,{onSort:z,onChangePage:I,data:e(k),checkbox:!1,loading:e(s),defaultSort:"serviceTypeId"},{columns:b(()=>[a(p,{name:t._lang.label.name,field:"name",sortable:!0},null,8,["name"]),a(p,{name:t._lang.label.description,field:"description",sortable:!1},null,8,["name"])]),actions:b(M=>[a(B,{onClick:f=>C(M.item)},null,8,["onClick"]),a(R,{onClick:f=>j(M.item)},null,8,["onClick"])]),_:1},8,["data","loading"])]),_:1},8,["id","title"])])}}},Me={__name:"index",setup(l){const T=U(),m=G();let _=v(u.uuid()),k=v(u.createEmptyDataSource()),d=N(o());N(g());let s=v(!1);O(async()=>{await c()});function o(){return{pageNumber:1,sortBy:"serviceCategoryId",serviceCategoryIds:[],name:null,description:null}}async function h(t){Object.assign(d,t),c()}async function P(){Object.assign(d,o()),c()}async function c(){s.value=!0;let t=await ee.search(d);u.validateResponse(t,null,async()=>{k.value=t.data,k.value.items=t.data.items.map(r=>({serviceCategoryId:r.serviceCategoryId,serviceCategoryParentName:r.serviceCategoryParentName,name:r.texts[0].name,description:r.texts[0].description}))}),s.value=!1}async function z(t){d.sortBy=t,await c()}async function I(t){d.pageNumber=t,await c()}async function C(t){s.value=!0;let r=await ee.getById(t.serviceCategoryId);u.validateResponse(r,null,async()=>{const w={form:r.data,service:ee,modalTitle:m.backoffice.objectParams.serviceCategory.title,search:c,itsNew:!1,haveParent:!0};T.emit(V.emitter.PARAMS_EDIT,w)}),s.value=!1}function i(){const t={form:g(),service:ee,modalTitle:m.backoffice.objectParams.serviceCategory.title,search:c,itsNew:!0,haveParent:!0};T.emit(V.emitter.PARAMS_EDIT,t)}function g(){return{texts:[{language:"pt",name:null,description:null},{language:"en",name:null,description:null}]}}function j(t){const r={itemId:t.serviceCategoryId,service:ee,modalTitle:m.backoffice.objectParams.serviceCategory.title,search:c};T.emit(V.emitter.PARAMS_CONFIRM_DELETE,r)}return(t,r)=>{const w=n("cbutton"),A=n("table-actions"),p=n("ccolumn"),B=n("table-action-edit"),R=n("table-action-delete"),E=n("ctable"),F=n("accordion");return L(),H("div",null,[a(F,{id:e(_),title:t._lang.backoffice.objectParams.serviceCategory.title,collapsed:!1,class:"mb-4"},{default:b(()=>[a(A,null,{default:b(()=>[a(w,{target:"create-contact",class:"d-inline",type:e(y).buttonType.secondary,title:t._lang.common.toAdd,disabled:!1,icon:J,onClick:i},null,8,["type","title"])]),_:1}),a(oe,{onApplyClick:h,onClearClick:P,createFilterModel:o}),a(E,{onSort:z,onChangePage:I,data:e(k),checkbox:!1,loading:e(s),defaultSort:"serviceCategoryId"},{columns:b(()=>[a(p,{name:t._lang.label.name,field:"name",sortable:!0,sortField:"serviceCategoryId"},null,8,["name"]),a(p,{name:t._lang.label.serviceCategoryParent,field:"serviceCategoryParentName",sortField:"serviceCategoryParentId",sortable:!0},null,8,["name"]),a(p,{name:t._lang.label.description,field:"description",sortable:!1},null,8,["name"])]),actions:b(M=>[a(B,{onClick:f=>C(M.item)},null,8,["onClick"]),a(R,{onClick:f=>j(M.item)},null,8,["onClick"])]),_:1},8,["data","loading"])]),_:1},8,["id","title"])])}}},Ve={__name:"edit-modal",props:{modelValue:{type:[Number,String,Boolean,Object]},itsNew:{type:Boolean,default:!0},search:{type:Function}},emits:["update:modelValue"],setup(l,{emit:T}){const m=l,_="edit-check-list";U();const k=G();let d=v([]),s=v(y.language.pt);O(async()=>{await h()}),ne(()=>{});const o=q({get(){return m.modelValue},set(i){T("update:modelValue",i)}});async function h(){let i=await le.getLanguages();u.validateResponse(i,null,()=>{d.value=i.data})}function P(){u.closeModalById(_)}async function c(){if(m.itsNew){u.isNullOrEmpty(u.getObjByLang(o.value.questionTexts,"en").defaultAnswer)&&(u.getObjByLang(o.value.questionTexts,"en").defaultAnswer=u.getObjByLang(o.value.questionTexts,"pt").defaultAnswer),u.isNullOrEmpty(u.getObjByLang(o.value.questionTexts,"en").question)&&(u.getObjByLang(o.value.questionTexts,"en").question=u.getObjByLang(o.value.questionTexts,"pt").question);let i=await ce.create(o.value);u.validateResponse(i,"Criado com sucesso",()=>{m.search(),u.closeModalById(_)})}else{let i=await ce.update(o.value);u.validateResponse(i,"Guardado com sucesso",()=>{m.search(),u.closeModalById(_)})}}const z=q(()=>u.convertEnumToArray(k.enums.checkListbjectType)),I=q({get(){return x.getFieldByLangAndName(o.value,s.value,"defaultAnswer","questionTexts")},set(i){x.setFieldByLangAndName(o.value,s.value,"defaultAnswer",i,"questionTexts")}}),C=q({get(){return x.getFieldByLangAndName(o.value,s.value,"question","questionTexts")},set(i){x.setFieldByLangAndName(o.value,s.value,"question",i,"questionTexts")}});return(i,g)=>{const j=n("lang-selector"),t=n("form-field"),r=n("row"),w=n("cbutton"),A=n("modal");return L(),K(A,{id:_,title:i._lang.backoffice.objectParams.checkList.title,size:e(y).modalSize.extraLarge,"remove-padding":!1},_e({footer:b(()=>[a(w,{type:e(y).buttonType.link,class:"ms-auto",title:i._lang.common.cancel,onClick:P,size:e(y).buttonSize.medium,disabled:!1},null,8,["type","title","size"]),a(w,{type:e(y).buttonType.primary,title:i._lang.common.save,onClick:c,size:e(y).buttonSize.medium,disabled:!1},null,8,["type","title","size"])]),_:2},[m.modelValue!=null?{name:"body",fn:b(()=>[a(j,{style:{"text-align":"-webkit-right"},options:e(d),selectedLang:e(s),"onUpdate:selectedLang":g[0]||(g[0]=p=>Q(s)?s.value=p:s=p)},null,8,["options","selectedLang"]),a(r,null,{default:b(()=>[a(t,{id:"objectTypeId",class:"mb-3 col-12 col-md-6",modelValue:e(o).objectTypeId,"onUpdate:modelValue":g[1]||(g[1]=p=>e(o).objectTypeId=p),label:i._lang.label.objectTypeId,disabled:!1,type:e(y).inputs.multiselect,options:e(z)},null,8,["modelValue","label","type","options"]),a(t,{id:"order",class:"mb-3 col-12 col-md-6",modelValue:e(o).order,"onUpdate:modelValue":g[2]||(g[2]=p=>e(o).order=p),label:i._lang.label.order,disabled:!1,type:e(y).inputs.number},null,8,["modelValue","label","type"]),a(t,{id:"question",class:"mb-3 col-12",modelValue:e(C),"onUpdate:modelValue":g[3]||(g[3]=p=>Q(C)?C.value=p:null),label:i._lang.label.question,disabled:!1,type:e(y).inputs.text,language:e(s)},null,8,["modelValue","label","type","language"]),a(t,{id:"defaultAnswer",class:"mb-3 col-12",modelValue:e(I),"onUpdate:modelValue":g[4]||(g[4]=p=>Q(I)?I.value=p:null),label:i._lang.label.defaultAnswer,disabled:!1,type:e(y).inputs.textarea,language:e(s),maxlength:1e4},null,8,["modelValue","label","type","language"])]),_:1})]),key:"0"}:void 0]),1032,["title","size"])}}},Re={class:"col-12 hstack gap-2 mt-3"},Ne={__name:"index",setup(l){const T=U(),m=G(),_="edit-check-list";let k=v(u.uuid()),d=v(u.createEmptyDataSource()),s=N(c()),o=N(r()),h=v(!1),P=v(!0);O(async()=>{await C()});function c(){return{pageNumber:1,sortBy:"ObjectTypeId",objectTypeId:null}}async function z(p){Object.assign(s,p),C()}async function I(){Object.assign(s,c()),C()}async function C(){h.value=!0;let p=await ce.search(s);u.validateResponse(p,null,async()=>{d.value=p.data,d.value.items=p.data.items.map(B=>({id:B.id,checkListQuestionId:B.id,objectTypeId:B.objectTypeId,question:B.questionTexts[0].question,questionTexts:B.questionTexts,order:B.order}))}),h.value=!1}async function i(p){s.sortBy=p,await C()}async function g(p){s.pageNumber=p,await C()}async function j(p){P.value=!1,Object.assign(o,p),u.showModalById(_)}function t(){P.value=!0,Object.assign(o,r()),u.showModalById(_)}function r(){return{objectTypeId:null,checkListQuestionId:null,order:null,questionTexts:[{language:"pt",question:null,defaultAnswer:null},{language:"en",question:null,defaultAnswer:null}]}}function w(p){const B={itemId:p.id,service:ce,modalTitle:m.backoffice.objectParams.channelType.title,search:C};T.emit(V.emitter.PARAMS_CONFIRM_DELETE,B)}const A=q(()=>u.convertEnumToArray(m.enums.checkListbjectType));return(p,B)=>{const R=n("cbutton"),E=n("table-actions"),F=n("form-field"),M=n("row"),f=n("ccolumn"),D=n("table-action-edit"),re=n("table-action-delete"),ie=n("ctable"),ue=n("accordion");return L(),H(de,null,[ae("div",null,[a(ue,{id:e(k),title:p._lang.backoffice.objectParams.checkList.title,collapsed:!1,class:"mb-4"},{default:b(()=>[a(E,null,{default:b(()=>[a(R,{target:"create-contact",class:"d-inline",type:e(y).buttonType.secondary,title:p._lang.common.toAdd,disabled:!1,icon:J,onClick:t},null,8,["type","title"])]),_:1}),a(M,null,{default:b(()=>[a(F,{id:"objectTypeId",class:"mb-3 col-12",modelValue:e(s).objectTypeId,"onUpdate:modelValue":B[0]||(B[0]=$=>e(s).objectTypeId=$),label:p._lang.label.objectTypeId,disabled:!1,type:e(y).inputs.multiselect,options:e(A)},null,8,["modelValue","label","type","options"])]),_:1}),a(M,null,{default:b(()=>[ae("div",Re,[a(R,{type:e(y).buttonType.link,class:"ms-auto",title:p._lang.common.clear,onClick:I,size:e(y).buttonSize.medium,disabled:e(h)},null,8,["type","title","size","disabled"]),a(R,{type:e(y).buttonType.primary,title:p._lang.common.apply,onClick:z,size:e(y).buttonSize.medium,disabled:e(h)},null,8,["type","title","size","disabled"])])]),_:1}),a(ie,{onSort:i,onChangePage:g,data:e(d),checkbox:!1,loading:e(h),defaultSort:"objectTypeId"},{columns:b(()=>[a(f,{name:p._lang.label.objectTypeId,field:"objectTypeId",sortable:!0,options:e(A),custom:Te},null,8,["name","options"]),a(f,{name:p._lang.label.question,field:"question",sortable:!1},null,8,["name"]),a(f,{name:p._lang.label.order,field:"order",sortable:!0},null,8,["name"])]),actions:b($=>[a(D,{onClick:se=>j($.item)},null,8,["onClick"]),a(re,{onClick:se=>w($.item)},null,8,["onClick"])]),_:1},8,["data","loading"])]),_:1},8,["id","title"])]),a(Ve,{modelValue:e(o),"onUpdate:modelValue":B[1]||(B[1]=$=>Q(o)?o.value=$:o=$),itsNew:e(P),search:C},null,8,["modelValue","itsNew"])],64)}}},Ee={__name:"edit-modal",props:{modelValue:{type:[Number,String,Boolean,Object]}},emits:["update:modelValue"],setup(l,{emit:T}){const m=l;O(async()=>{await c()}),ne(()=>{});const _=q({get(){return m.modelValue},set(i){T("update:modelValue",i)}});let k=v([]),d=v("pt"),s=v("edit-icon"),o=v(!1);const h="edit-icon",P=G();async function c(){let i=await le.getLanguages();u.validateResponse(i,null,()=>{k.value=i.data})}function z(){u.closeModalById(h)}async function I(){o.value=!0;let i=await le.updateIcon(_.value);u.validateResponse(i,P.backoffice.objectParams.icons.update,()=>{u.closeModalById(h)}),o.value=!1}const C=q({get(){return x.getFieldByLangAndName(_.value,d.value,"name")}});return(i,g)=>{const j=n("form-field"),t=n("row"),r=n("cbutton"),w=n("modal");return L(),K(w,{id:h,title:e(s),size:e(y).modalSize.extraLarge,"remove-padding":!1},{body:b(()=>[a(t,null,{default:b(()=>[a(j,{id:"name",class:"mb-3 col-12",modelValue:e(C),"onUpdate:modelValue":g[0]||(g[0]=A=>Q(C)?C.value=A:null),label:i._lang.label.name,disabled:!0,type:e(y).inputs.text,language:e(d)},null,8,["modelValue","label","type","language"]),a(j,{id:"icon",class:"mb-3 col-12",modelValue:e(_).icon,"onUpdate:modelValue":g[1]||(g[1]=A=>e(_).icon=A),label:i._lang.label.icon,disabled:m.disabled,loading:m.loading,type:e(y).inputs.file,required:!1,showPreview:!0,accept:".jpeg,.svg,.jpg,.png"},null,8,["modelValue","label","disabled","loading","type"])]),_:1})]),footer:b(()=>[a(r,{type:e(y).buttonType.link,class:"ms-auto",title:i._lang.common.cancel,onClick:z,size:e(y).buttonSize.medium,disabled:e(o)},null,8,["type","title","size","disabled"]),a(r,{type:e(y).buttonType.primary,title:i._lang.common.save,onClick:I,size:e(y).buttonSize.medium,disabled:e(o)},null,8,["type","title","size","disabled"])]),_:1},8,["title","size"])}}},Le={__name:"index",setup(l){U(),G();let T=v(u.uuid()),m=v(u.createEmptyDataSource()),_=N(o());N(I());let k=v(!1),d=N(C());const s="edit-icon";O(async()=>{await h()});function o(){return{pageNumber:1,sortBy:"serviceTypeId",serviceTypeIds:[],name:null,description:null}}async function h(){k.value=!0;let i=await Ie.getIcons();u.validateResponse(i,null,async()=>{m.value.items=i.data,m.value.total=i.data.length}),k.value=!1}async function P(i){_.sortBy=i,await h()}async function c(i){_.pageNumber=i,await h()}async function z(i){k.value=!0;let g=await le.getIconById(i.id);u.validateResponse(g,null,async()=>{Object.assign(d,g.data),u.showModalById(s)}),k.value=!1}function I(){return{texts:[{language:"pt",name:null,description:null},{language:"en",name:null,description:null}]}}function C(){return{icon:null,id:null,texts:[{language:"pt",name:null,description:null},{language:"en",name:null,description:null}]}}return(i,g)=>{const j=n("ccolumn"),t=n("table-action-edit"),r=n("ctable"),w=n("accordion");return L(),H(de,null,[ae("div",null,[a(w,{id:e(T),title:i._lang.backoffice.objectParams.icons.title,collapsed:!1,class:"mb-4"},{default:b(()=>[a(r,{onSort:P,onChangePage:c,data:e(m),checkbox:!1,loading:e(k),defaultSort:"serviceTypeId"},{columns:b(()=>[a(j,{name:i._lang.label.name,field:"name",sortable:!1},null,8,["name"])]),actions:b(A=>[a(t,{onClick:p=>z(A.item)},null,8,["onClick"])]),_:1},8,["data","loading"])]),_:1},8,["id","title"])]),a(Ee,{modelValue:e(d),"onUpdate:modelValue":g[0]||(g[0]=A=>Q(d)?d.value=A:d=A)},null,8,["modelValue"])],64)}}},We={__name:"index",setup(l){return(T,m)=>{const _=n("breadcrumb-item"),k=n("breadcrumb"),d=n("card"),s=n("page");return L(),K(s,{title:T._lang.backoffice.objectParams.pageTitle},{breadcrumb:b(()=>[a(k,{"has-home":!0},{default:b(()=>[a(_,{label:T._lang.backoffice.objectParams.pageTitle},null,8,["label"])]),_:1})]),default:b(()=>[a(d,{shadow:!0},{body:b(()=>[a(Pe),a(ze),a(Be),a(Me),a(Ae),a(Ne),a(Le),a(he),a(je)]),_:1})]),_:1},8,["title"])}}};export{We as default};
